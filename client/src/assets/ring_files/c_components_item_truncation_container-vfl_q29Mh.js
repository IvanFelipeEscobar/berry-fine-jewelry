define(["exports","./e_edison","./e_ui_page_files_router","./c_core_i18n","./c_hooks_resize_observer"],(function(e,t,s,n,o){"use strict";const i=({howManyMore:e,onClick:n,className:o})=>t.React$1.createElement(s.Text,{size:"small",className:s.cx("itc-show-more-button",{clickable:void 0!==n},o),onClick:n},"+",e),c=function(e){const{showMoreWidth:c=60,containerMaxRows:a=2,itemsToMoreTooltipString:r,expandable:l=!0,renderItem:m,items:u,className:f,showMoreClassName:h,MoreButton:d=i}=e,[g,p]=t.React$1.useState(u.length),[R,v]=t.React$1.useState(!1),_=t.React$1.useMemo((()=>Array(u.length).fill(0).map((e=>t.reactExports.createRef()))),[u]),[w,x]=t.reactExports.useState(),M=[];if(u.map(((e,t)=>{(t<=g||R)&&M.push(m({item:e,ref:_[t],index:t}))})),_.length>g&&!R){const e=r(u.slice(g+1));M.push(t.React$1.createElement(s.Tooltip,{id:"more-button-tooltip",title:e,key:u.length},t.React$1.createElement(d,{howManyMore:_.length-(g+1),onClick:l?()=>v(!0):void 0,className:h})))}const[k,$]=o.useResizeObserver();return t.React$1.useEffect((()=>{w&&(p(u.length),x(null))}),[null==$?void 0:$.contentRect.width]),t.React$1.useLayoutEffect((()=>{var e,t;if(!_||!_[0]||!w||0===w.clientWidth)return void(g!==u.length&&p(u.length));const s=((null===(t=null===(e=_[0])||void 0===e?void 0:e.current)||void 0===t?void 0:t.offsetHeight)||1)-1,n=(a-1)*s,o=_.findIndex((e=>{const t=e.current;if(t){const e=w.offsetLeft+w.clientWidth-(t.offsetLeft+t.clientWidth),o=t.offsetTop-w.offsetTop;if(e<c&&o>=n||o>=a*s)return!0}return!1}));p(o<0?u.length:o-1)}),[u.length,w]),t.React$1.createElement("div",{ref:k,className:s.cx("itc-container",f)},t.React$1.createElement("div",{key:u.length,className:"itc-items-container",ref:e=>x(e)},M),R&&t.React$1.createElement(s.Text,{size:"small",key:"show_less",id:"show-less",onClick:()=>v(!1),className:s.cx("itc-show-more-button clickable",h)},n.intl.formatMessage({id:"QSkw6O",defaultMessage:"show less"})))},a=s.requireCssWithComponent(c,["/static/metaserver/static/css/teams/admin/components/item_truncation_container-vflnj951-.css"]);e.ItemTruncationContainer=a,e.ItemTruncationContainerWithoutCss=c}));
//# sourceMappingURL=c_components_item_truncation_container.js-vflgdKj3C.map
