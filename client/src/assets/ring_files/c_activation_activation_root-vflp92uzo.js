define(["exports","./e_edison","./e_ui_page_files_router","./c_experiments_provider","./c_tslib","./c_apex-metrics_src_types","./c_lodash-es_lodash","metaserver/static/js/modules/constants/files_spa","./c_core_i18n","./e_core_exception","./c_core_exception_info","metaserver/static/js/modules/constants/page_load","metaserver/static/js/modules/constants/request","./c_src_sink_index","./c_core_browser_detection","metaserver/static/js/modules/core/langpack","metaserver/static/js/modules/constants/env","metaserver/static/js/modules/constants/viewer","metaserver/static/js/modules/constants/auth","./c_core_xhr","./c_csrf","./c_browser_cookies","metaserver/static/js/modules/constants/time","metaserver/static/js/modules/constants/ajax_strings","./c_core_notify","metaserver/static/js/modules/constants/locales","metaserver/static/js/modules/constants/webtiming","metaserver/static/js/modules/constants/campaigns_orchestration","metaserver/static/js/modules/constants/maestro_nav_strings","metaserver/static/js/modules/constants/trademark","metaserver/static/js/modules/constants/search","metaserver/static/js/modules/constants/web_experience_constants","metaserver/static/js/modules/constants/sharing","metaserver/static/js/modules/constants/undo_strings"],(function(e,t,s,o,a,i,n,c,r,l,d,u,m,v,_,p,f,j,h,R,b,g,k,A,w,x,$,S,I,C,y,B,D,E){"use strict";const F=()=>{const e=s.useAppDispatch();return(()=>{var e,a,i,n;const c=s.useAppDispatch(),r=s.useInvalidateActivationDataCallback(),l=s.useSelector(s.desktopClientLinkBoltInfo),d=s.useSelector(s.mobileClientLinkBoltInfo),u=s.useSelector(s.hasSharedFolderBoltInfo),m=s.useSelector(s.featureRecommendationsMap),v=s.useSelector(s.uploadBoltInfo),_=!1===(null===(e=m.download_desktop)||void 0===e?void 0:e.is_completed),p=!1===(null===(a=m.download_mobile)||void 0===a?void 0:a.is_completed),f=!1===(null===(i=m.create_shared_folder)||void 0===i?void 0:i.is_completed),j=!1===(null===(n=m.upload)||void 0===n?void 0:n.is_completed),h=t.React$1.useMemo((()=>[_?l:void 0,p?d:void 0,f?u:void 0,j?v:void 0].filter((e=>void 0!==e))),[l,u,d,v,_,f,p,j]),R=t.React$1.useCallback((e=>{c(s.activationActions.updateRecommendedFeature({featureRecommendationType:e,isCompleted:!0})),r()}),[c,r]),b=t.React$1.useCallback((e=>{e.forEach((e=>{switch(e.unique_id){case null==l?void 0:l.id:return void R("download_desktop");case null==d?void 0:d.id:return void R("download_mobile");case null==u?void 0:u.id:return void R("create_shared_folder");case null==v?void 0:v.id:return void R("upload")}}))}),[null==l?void 0:l.id,null==u?void 0:u.id,null==d?void 0:d.id,null==v?void 0:v.id,R]);o.useActivationBolt({boltInfo:h,onRefresh:r,onUpdate:b})})(),s.useActivationPostTtiData((t=>{e(s.activationActions.setActivationPostTTIData(t))})),t.React$1.createElement(t.React$1.Fragment,null)},T=({children:e})=>(s.getStoreForActivation(),t.React$1.createElement(t.React$1.Fragment,null,e));T.displayName="ActivationStoreRoot";const q=({children:e})=>t.React$1.createElement(T,null,t.React$1.createElement(F,null),e);q.displayName="ActivationRoot",e.ActivationRoot=q}));
//# sourceMappingURL=c_activation_activation_root.js-vflK-UVgm.map
