define(["exports","./c_tslib","./e_edison","./e_ui_page_files_router","./c_action_bar_action_bar_strings","./c_starred_actions","./c_starred_constants","./c_starred_star","./c_core_i18n","./c_file_viewer_file_viewer_components","./c_action_plugins_open_in_action_hooks","./c_file_store_utils"],(function(e,t,a,i,r,s,n,_,c,l,o,u){"use strict";e.isStarringEnabled=function(e){return o.isLiveFile(e)&&!u.isSharedFile(e)&&!o.isInsideVaultFolder(e)},e.useStarControl=function({getActiveFile:e,onChange:s}){const{file:n}=e(),_=i.useDispatch(),o=i.useSelector((e=>i.getIsStarred(e,n.file_id)));a.reactExports.useEffect((()=>{_(i.fetchMissingStarredStatuses([{id:n.file_id,type:i.HOME_RESOURCE_ID_TYPE.ENCODED_FILE_OBJ_ID}]))}),[n]);const u=a.reactExports.useCallback((()=>t.__awaiter(this,void 0,void 0,(function*(){const e=yield _(i.updateStarredStatus({id:n.file_id,newStatus:!o,showSnackbar:!1}));try{i.unwrapResult(e),i.displayStarSnackbar({itemName:i.itemNameFromStarrableItem(n),isStarred:!o,success:!0}),null==s||s(!o,!0)}catch(e){i.displayStarSnackbar({itemName:i.itemNameFromStarrableItem(n),isStarred:!o,success:!1}),null==s||s(!o,!1)}}))),[s,_,n,o]),d=l.useStabilizedCallback((e=>{e.preventDefault(),e.stopPropagation(),u()})),S=l.useStabilizedCallback((e=>{e.key===i.Key_enum.Key.Enter&&(e.preventDefault(),e.stopPropagation(),u())}));return{message:c.intl.formatMessage(o?r.UNSTAR_ACTION_STRING:r.STAR_ACTION_STRING),iconSrc:o?i.StarFill:i.StarLine,handleClick:d,handleKeyPress:S}}}));
//# sourceMappingURL=c_file_viewer_sdk_file_viewer_hooks.js-vfl-wEFhD.map
