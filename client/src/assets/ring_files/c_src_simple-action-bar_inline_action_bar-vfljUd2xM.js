define(["exports","./e_edison","./e_ui_page_files_router","./c_src_simple-action-bar_action_bar_types","./c_core_i18n","./c_truncate_index","./c_resize-observer-polyfill_dist_ResizeObserver"],(function(e,t,o,n,r,a,i){"use strict";const s=({icon:e})=>t.reactExports.isValidElement(e)?e:t.reactExports.createElement(o.UIIcon,{src:e});s.displayName="ActionBarIcon";const l=({variant:e,disabled:n,value:r,onClick:a,icon:i,ariaLabel:l,tooltip:c,disabledTooltip:u,className:p,useIconButton:d,anchorRef:g})=>{const m=d?t.reactExports.createElement(o.IconButton,{variant:"opacity",onClick:a,"aria-label":l,disabled:n,className:p},i?t.reactExports.createElement(s,{icon:i}):void 0):t.reactExports.createElement(o.Button$1,{variant:e,disabled:n,onClick:a,withIconLeft:i?t.reactExports.createElement(s,{icon:i}):void 0,"aria-label":l,className:p,"data-testid":`action-bar-${r.toLowerCase()}-button`},r),[f,E]=t.reactExports.useState(!1),[_,v]=t.reactExports.useState("bottom"),x=t.reactExports.createRef(),b=()=>{E(!0)},w=()=>{E(!1)},h=e=>v(e);return n&&u?t.reactExports.createElement(t.reactExports.Fragment,null,t.reactExports.createElement("span",{tabIndex:0,onMouseEnter:b,onMouseLeave:w,onFocus:b,onBlur:w,"aria-describedby":f&&f?"tooltip-button":void 0},t.reactExports.createElement(o.Button$1,{variant:e,disabled:!0,onClick:a,withIconLeft:i?t.reactExports.createElement(s,{icon:i}):void 0,"aria-label":l,ref:x,className:p},r)),t.reactExports.createElement(o.Tooltip.Control,{id:"tooltip-button",triggerRef:x,open:f,auto:!0,placement:_,onChangePlacement:h},u)):c?t.reactExports.createElement(o.Tooltip,{title:c,id:"tooltip-button",triggerRef:g},m):m};l.displayName="ActionBarActionButton";o.injectInternalStyle("typescript/component_libraries/retrieval-components/src/simple-action-bar/action_bar_overflow_menu.module.out.css",(e=>":root{--action-bar-menu-width:236px}._overflow-menu-content_11g06_9,._submenu-content_11g06_5{width:var(--action-bar-menu-width)}._overflow-menu-container_11g06_13{align-items:flex-start;display:flex;flex-direction:column;max-height:inherit}._overflow-menu-header_11g06_20{flex-grow:0;width:var(--action-bar-menu-width)}._overflow-menu-bottom-container_11g06_25{padding:0!important}._overflow-menu-bottom-container_11g06_25._redesign_11g06_29{-webkit-overflow-scrolling:touch;flex-grow:1;overflow:auto;overflow-x:hidden;position:relative;width:var(--action-bar-menu-width)}._visuallyDisabled-see-DSYS-1278_11g06_38{color:var(--color__disabled__text)}._suggested-workflows-lightbulb-icon_11g06_42{color:var(--color__attention__text);height:14px;width:16px}._suggested-workflows-badge_11g06_48{background:var(--color__attention__background);height:18px;width:26px}._suggested-workflows-tooltip-image_11g06_54{max-width:100%;min-height:81px;min-width:144px}._suggested-workflows-more-actions-menu-row_11g06_60{margin:0 var(--spacing__unit--2) var(--spacing__base_unit)}._suggested-workflows-more-actions-menu-row_11g06_60:hover{background-color:transparent}._suggested-workflows-more-actions-cta_11g06_72{width:100%}"));const c="_overflow-menu-content_11g06_9",u="_submenu-content_11g06_5",p="_overflow-menu-container_11g06_13",d="_overflow-menu-header_11g06_20",g="_overflow-menu-bottom-container_11g06_25",m="_redesign_11g06_29",f="_visuallyDisabled-see-DSYS-1278_11g06_38",E="_suggested-workflows-lightbulb-icon_11g06_42",_="_suggested-workflows-badge_11g06_48",v="_suggested-workflows-tooltip-image_11g06_54",x="_suggested-workflows-more-actions-menu-row_11g06_60",b="_suggested-workflows-more-actions-cta_11g06_72",w=({variant:e,disabled:n,value:r,onSelection:a,onToggle:i,icon:l,children:c,ariaLabel:p,tooltip:d,minWidth:g,className:m,dropdownButtonClassName:f,expActionBarRedesignEnabled:E,menuOpenRequest:_,resolveOpenRequest:v})=>{const x=void 0!==g?{minWidth:g}:{};return t.reactExports.createElement(o.Menu.Wrapper,{onSelection:a,onToggle:i,className:m},(({getTriggerProps:a,getContentProps:i,triggerRef:g,openMenu:m})=>{const b=t.reactExports.createElement(o.Button$1,Object.assign({className:f,variant:e,withDropdownIcon:!0,disabled:n,withIconLeft:l?t.reactExports.createElement(s,{icon:l}):void 0,"aria-label":p,"data-testid":`action-bar-${r.toLowerCase()}-button`},a()),r);return t.reactExports.createElement(h,{openMenu:m,menuOpenRequest:_,resolveOpenRequest:v},t.reactExports.createElement(t.reactExports.Fragment,null,d?t.reactExports.createElement(o.Tooltip,{title:d,triggerRef:g,id:"tooltip-button"},b):b,t.reactExports.createElement(o.Menu.Content,Object.assign({},i(),{style:x,className:E?u:""}),c)))}))};w.displayName="ActionBarActionMenu";const h=({openMenu:e,menuOpenRequest:o,resolveOpenRequest:n,children:r})=>(t.reactExports.useEffect((()=>{o&&(e(o),n&&n())}),[o,n]),r),M=({menuSections:e,expActionBarRedesignEnabled:r})=>t.reactExports.createElement(t.reactExports.Fragment,null,e.map(((e,a)=>t.reactExports.createElement(o.Menu.Segment,{key:`${a}-section`,withLabel:e.label},e.menuItems.map(((e,o)=>t.reactExports.createElement(y,{menuItem:e,key:n.isActionBarActionMenuSubmenu(e)?`${a}-${o}-submenu`:`${a}-${o}-action-item`,expActionBarRedesignEnabled:r})))))));M.displayName="ActionBarActionMenuContent";const y=({menuItem:e,expActionBarRedesignEnabled:r,highlightedTextElement:a})=>{const i=!1===e.isEnabled,l=t.reactExports.createElement(t.reactExports.Fragment,null,a||e.description," ",e.badge);if(n.isActionBarActionMenuSubmenu(e))return t.reactExports.createElement(o.Menu.Submenu,{id:e.id,withTriggerContent:l,withLeftAccessory:e.icon&&t.reactExports.createElement(s,{icon:e.icon}),contentClassName:r?u:"",disabled:i,onSubmenuOpened:e.onSubmenuOpened},t.reactExports.createElement(M,{menuSections:e.submenuSections,expActionBarRedesignEnabled:r}));if(n.isActionBarCustomMenuAction(e))return e.menuItem;const c={nodeType:"dropdown",actionType:e.value.type,menuItem:e.value};return i&&e.disabledTooltip?t.reactExports.createElement(o.Tooltip,{title:e.disabledTooltip,placement:"left",id:"tooltip-item"},t.reactExports.createElement(o.Menu.ActionItem,{id:e.id,className:o.cx(e.className,{[f]:i}),value:"NOOP_SEE_DSYS-1278",disabled:!1,withLeftAccessory:e.icon&&t.reactExports.createElement(s,{icon:e.icon})},l)):t.reactExports.createElement(o.Menu.ActionItem,{id:e.id,className:e.className,value:c,disabled:i,withLeftAccessory:e.icon&&t.reactExports.createElement(s,{icon:e.icon}),"data-testid":`menu-item-${e.description.toLowerCase().split(" ").join("_")}`},l)};y.displayName="ActionBarActionMenuContentItem";o.injectInternalStyle("typescript/component_libraries/retrieval-components/src/simple-action-bar/action_bar_split_button.module.out.css",(e=>"._split-button_qljm6_1{display:flex}"));const A="_split-button_qljm6_1",T=({disabled:e,value:n,intl:r,onClick:a,onSelection:i,onToggle:l,icon:c,ariaLabel:u,menuSections:p,className:d,expActionBarRedesignEnabled:g})=>{const m=t.reactExports.useMemo((()=>({withIconLeft:c?t.reactExports.createElement(s,{icon:c}):void 0})),[c]);return t.reactExports.createElement(o.SplitButton,Object.assign({variant:"opacity",disabled:e,renderMenu:({buttonProps:e})=>t.reactExports.createElement(o.Menu.Wrapper,{onSelection:i,onToggle:l,className:d},(({getTriggerProps:a,getContentProps:i})=>t.reactExports.createElement(t.reactExports.Fragment,null,t.reactExports.createElement(o.Button$1,Object.assign({"aria-label":r.formatMessage({id:"y4xCgb",defaultMessage:"Expand menu for {action}"},{action:n})},e,a())),t.reactExports.createElement(o.Menu.Content,Object.assign({},i(),{placement:"bottom-end"}),t.reactExports.createElement(M,{menuSections:p,expActionBarRedesignEnabled:g}))))),onClick:a,className:A,"aria-label":u},m),n)};T.displayName="ActionBarSplitButton";const O=r.defineMessage({id:"jdgBdE",defaultMessage:"Suggested actions"}),S=r.defineMessage({id:"CEb0zm",defaultMessage:"More Actions"}),R=r.defineMessage({id:"3kB3s4",defaultMessage:"More menu"}),C=r.defineMessage({id:"06UTVR",defaultMessage:"More"}),k=r.defineMessage({id:"XyseuH",defaultMessage:"{action}, applies to {noOfFiles, plural, one{{fileName}} other{{noOfFiles} selected files}}"});function B(e,t,o){return o?e.formatMessage(k,{action:t,noOfFiles:o.noOfEntries,fileName:o.firstEntryAccessibilityHint}):t}const I=(e,t,o)=>{try{switch(e.nodeType){case"action":return{type:e.actionType,event:o,source:t};case"dropdown":return{type:e.actionType,menuItem:e.menuItem,event:o,source:t};default:return}}catch(e){return}};class N extends t.reactExports.Component{constructor(){super(...arguments),this.handleMenuSelection=(e,t)=>{const o=I(e,n.ActionBarActionEventSource.BUTTON_MENU,t);void 0!==o&&this.props.actionHandler.handleAction(o)},this.handleMenuToggle=({isOpen:e})=>{this.props.actionHandler.handleMenuToggle&&this.props.actionHandler.handleMenuToggle({type:this.props.actionType,isOpen:e})},this.handleActionClick=e=>{this.props.actionHandler.handleAction({type:this.props.actionType,event:e,source:n.ActionBarActionEventSource.BUTTON,anchorRef:this.props.anchorRef?this.props.anchorRef:void 0},!1)}}render(){const{menu:e,isEnabled:o,intl:r,variant:a,accessibilityConfig:i,icon:s,hideIcons:c,tooltip:u,disabledTooltip:p,menuMinWidth:d,actionType:g,className:m,dropdownButtonClassName:f,buttonVariant:E,expActionBarRedesignEnabled:_,createMenuOpenRequest:v,resolveCreateMenuOpenRequest:x,useIconButton:b,anchorRef:h}=this.props,y=this.props.labelOverride||r.formatMessage(this.props.text),A=B(r,y,"primary"===a?null==i?void 0:i.primaryActionContext:null==i?void 0:i.secondaryActionsContext);if(this.props.renderButton)return this.props.renderButton(c||!1);if(this.props.button)return this.props.button;if((null==e?void 0:e.type)===n.ActionBarMenuType.DROPDOWN){const r=g===n.ActionBarActionTypes.CREATE;return t.reactExports.createElement(w,{disabled:!o,value:y,onSelection:this.handleMenuSelection,onToggle:this.handleMenuToggle,icon:c?void 0:s,variant:E,ariaLabel:A,tooltip:u,minWidth:d,actionType:g,className:m,dropdownButtonClassName:f,menuOpenRequest:r?v:void 0,resolveOpenRequest:r?x:void 0},t.reactExports.createElement(M,{menuSections:e.menuSections,expActionBarRedesignEnabled:_}))}return(null==e?void 0:e.type)===n.ActionBarMenuType.CUSTOM_DROPDOWN?t.reactExports.createElement(w,{disabled:!o,value:y,onSelection:this.handleMenuSelection,onToggle:this.handleMenuToggle,icon:c?void 0:s,variant:E,ariaLabel:A,tooltip:u,actionType:g,className:m,dropdownButtonClassName:f,expActionBarRedesignEnabled:_},e.menuContent):(null==e?void 0:e.type)===n.ActionBarMenuType.SPLIT_BUTTON?t.reactExports.createElement(T,{disabled:!o,onClick:this.handleActionClick,onSelection:this.handleMenuSelection,onToggle:this.handleMenuToggle,value:y,intl:r,icon:c?void 0:s,ariaLabel:A,menuSections:e.menuSections,className:m,expActionBarRedesignEnabled:_}):t.reactExports.createElement(l,{disabled:!o,value:y,onClick:this.handleActionClick,icon:c?void 0:s,variant:E,ariaLabel:A,tooltip:u,disabledTooltip:p,className:m,useIconButton:!!b,anchorRef:h||void 0})}}N.displayName="ActionBarAction";const W=e=>{const n=()=>{var t,n,r;e.onMoreActionsCtaClick(),null===(t=e.overflowMenuRef.current)||void 0===t||t.updateContent(),e.menuRows.setSelectedIndex(o.NONE_SELECTED_INDEX),null===(r=null===(n=e.menuContentRef)||void 0===n?void 0:n.current)||void 0===r||r.focus()};return t.reactExports.createElement(o.Menu.Segment,{key:"suggested-workflows-more-actions-menu-segment"},t.reactExports.createElement(o.Menu.Row,{preferComposition:!0,interactive:!0,className:x,onKeyDown:e=>{e.key!==o.ENTER_KEY&&e.key!==o.SPACEBAR_KEY||(e.stopPropagation(),e.preventDefault(),n())},onKeyUp:e=>{e.key===o.SPACEBAR_KEY&&(e.stopPropagation(),e.preventDefault())}},t.reactExports.createElement(o.Button$1,{variant:"opacity",className:b,onClick:e=>{e.preventDefault(),e.stopPropagation(),n()},tabIndex:-1},e.label)))},L=e=>{const{actions:r,buttonVariant:i,intl:l,onToggle:u,showTooltip:f,accessibilityConfig:E,size:_,overflowMenuOpenRequest:v,overflowMenuCloseRequest:x,resolveOverflowMenuOpenRequest:b,resolveOverflowMenuCloseRequest:w,inverse:h,overflowMenuTitle:M,expActionBarRedesignEnabled:y,isMobile:A,overflowMenuCoordinates:T,hideOverflowMenuHeader:k,handleOverflowMenuToggleWithoutAction:N,expSuggestedWorkflowsLoggingCallbacks:L,fileExtension:q,customButton:F,expContentTilesEnabled:V,shouldPropagateClickOutsideMouseEvents:j,additionalActions:H,excludedActions:$,closeOnBlurWhenDefaultPrevented:U}=e,[z,K]=t.reactExports.useState(!1),[Y,G]=t.reactExports.useState(!1),X=t.reactExports.useRef(null),J=void 0!==T,Q="V2"===e.expSuggestedWorkflowsVariant&&!!r.expSuggestedWorkflowsActions&&r.expSuggestedWorkflowsActions.suggestedWorkflowActions.length>0&&!Y,Z=t.reactExports.useRef(new class{constructor(){this.position=[0,0]}getBoundingClientRect(){return{height:0,width:0,top:this.position[1],right:this.position[0],bottom:this.position[1],left:this.position[0]}}}),ee=e=>{e.stopPropagation(),N&&K(!0)},te=()=>{var t,o;G(!0),null===(t=e.expSuggestedWorkflowsLoggingCallbacks)||void 0===t||t.logMoreActionsCtaClicked(null!==(o=e.expSuggestedWorkflowsVariant)&&void 0!==o?o:"OFF","pdf")},oe=e.intl.formatMessage(R),ne=B(l,oe,null==E?void 0:E.secondaryActionsContext);return t.reactExports.createElement(o.Menu.Wrapper,{onSelection:(t,o)=>{var a;const i=I(t,n.ActionBarActionEventSource.OVERFLOW_MENU,o);e.expSuggestedWorkflowsVariant&&["V1","V2"].includes(e.expSuggestedWorkflowsVariant)&&(e=>{var t;return!!(null===(t=r.expSuggestedWorkflowsActions)||void 0===t?void 0:t.suggestedWorkflowActions)&&r.expSuggestedWorkflowsActions.suggestedWorkflowActions.some((t=>t.actionType===e))})(t.actionType)&&(null==L||L.logSuggestedWorkflowItemClicked(null!==(a=e.expSuggestedWorkflowsVariant)&&void 0!==a?a:"OFF","pdf",Q?"compact":"regular",t.actionType)),void 0!==i?e.actionHandler.handleAction(i,J):(null==t?void 0:t.handler)&&t.handler()},onToggle:t=>{null==u||u(t),t.isOpen&&e.expSuggestedWorkflowsVariant&&["V1","V2","CONTROL"].includes(e.expSuggestedWorkflowsVariant)&&".pdf"===q&&(null==L||L.logOverflowMenuImpression(e.expSuggestedWorkflowsVariant,"pdf")),N&&!t.isOpen&&(z?K(!1):N()),t.isOpen||setTimeout((()=>G(!1)),125)},closeOnBlurWhenDefaultPrevented:U,slideSubmenu:!!A,shouldPropagateClickOutsideMouseEvents:!(!T&&!j),onContextMenu:e=>{e.preventDefault(),e.stopPropagation()},ref:X},(({getTriggerProps:n,getContentProps:u,triggerRef:E,openMenu:A,closeMenu:R,menuRows:B,contentRef:I})=>{var N,q,j,U;const z=n(),K=e=>{var t;e.stopPropagation(),e.preventDefault(),null===(t=null==z?void 0:z.onClick)||void 0===t||t.call(z,e)},Y=t.reactExports.createElement(o.IconButton,Object.assign({},z,{variant:i,onClick:K,"aria-label":ne,"data-testid":"action-bar-overflow","data-tooltip":"action-bar-overflow-menu",size:_,inverse:h}),t.reactExports.createElement(s,{icon:o.MoreHorizontalLine,"aria-hidden":"true"})),G=F?t.reactExports.cloneElement(F,Object.assign(Object.assign({},z),{onClick:K,onKeyDown:e=>{var t;(!V||40!==e.keyCode&&38!==e.keyCode)&&(null===(t=null==z?void 0:z.onKeyDown)||void 0===t||t.call(z,e))},triggerRef:E})):null,oe=["V1","V2"].includes(null!==(N=e.expSuggestedWorkflowsVariant)&&void 0!==N?N:"OFF")&&!Q;let re=Q&&r.expSuggestedWorkflowsActions?[null===(q=r.expSuggestedWorkflowsActions)||void 0===q?void 0:q.suggestedWorkflowActions,...null===(j=r.expSuggestedWorkflowsActions)||void 0===j?void 0:j.compactOverflowMenuActions]:null!==(U=r.alwaysInOverflow)&&void 0!==U?U:[];var ae;return H&&(re=[...re,H]),$&&(ae=re,re=$?ae.map((e=>e.filter((e=>!$.includes(e.actionType))))):ae),t.reactExports.createElement(D,{openMenu:A,overflowMenuOpenRequest:v,resolveOverflowMenuOpenRequest:b,resolveOverflowMenuCloseRequest:w,overflowMenuCloseRequest:x,closeMenu:R,overflowMenuCoordinates:T,virtualTriggerRef:Z},t.reactExports.createElement(t.reactExports.Fragment,null,G?t.reactExports.createElement(t.reactExports.Fragment,null,G):f?t.reactExports.createElement(o.Tooltip,{title:l.formatMessage(C),triggerRef:E},Y):Y,t.reactExports.createElement(o.Menu.Content,Object.assign({},u(),{triggerRef:T?Z:E,className:y?c:"",onClick:ee}),t.reactExports.createElement("div",{className:y?p:"",onMouseDown:e=>{e.preventDefault()},"data-testid":"rc-action-bar-overflow-menu-container"},y&&!k&&t.reactExports.createElement(o.Menu.Segment,{className:d},t.reactExports.createElement(o.Menu.Row,{interactive:!1},t.reactExports.createElement(o.Menu.RowTitle,{"data-testid":"rc-action-bar-overflow-menu-title"},t.reactExports.createElement(o.Text,{isBold:!0},t.reactExports.createElement(a.Truncate,{location:.5,tooltipControlProps:{placement:"top",openDelay:500}},M))))),t.reactExports.createElement(o.Menu.Segment,{className:o.cx(g,{[m]:y})},re.map(((n,r)=>!!n.length&&t.reactExports.createElement(o.Menu.Segment,{key:r,withLabel:Q&&0===r?l.formatMessage(O):void 0},n.map(((o,n)=>t.reactExports.createElement(P,{key:`action-bar-overflow-menu-item-${n}`,action:o,intl:l,actionHandler:e.actionHandler,closeMenu:R,expActionBarRedesignEnabled:y,isRightClickMenu:J,logPDFEditImpression:e.logPDFEditImpression,canShowSuggestedWorkflowsBadge:oe,expSuggestedWorkflowsLoggingCallbacks:L,overflowMenuStyle:Q?"compact":"regular",logOverflowMenuItemImpression:e.logOverflowMenuItemImpression})))))),Q&&t.reactExports.createElement(W,{label:l.formatMessage(S),onMoreActionsCtaClick:te,overflowMenuRef:X,menuRows:B,menuContentRef:I}))))))}))};L.displayName="ActionBarOverflowMenu";const D=({openMenu:e,closeMenu:o,overflowMenuOpenRequest:n,resolveOverflowMenuOpenRequest:r,children:a,overflowMenuCloseRequest:i,resolveOverflowMenuCloseRequest:s,overflowMenuCoordinates:l,virtualTriggerRef:c})=>(t.reactExports.useEffect((()=>{n&&(e(n),r&&r())}),[n,r]),t.reactExports.useEffect((()=>{i&&(o(i),s&&s())}),[i,s]),t.reactExports.useLayoutEffect((()=>{if(l&&c){const[e,t]=l;c.current.position=[e,t]}}),[l]),a),P=({action:e,intl:r,actionHandler:a,closeMenu:i,expActionBarRedesignEnabled:l,highlightedTextElement:c,isRightClickMenu:p,logPDFEditImpression:d,canShowSuggestedWorkflowsBadge:g,logOverflowMenuItemImpression:m})=>{var x;const b=!e.isEnabled,w=c||e.labelOverride||r.formatMessage(e.text),h=t.reactExports.useRef(null),y=g&&e.isSuggestedWorkflow;var A,T;A=e.actionType===n.ActionBarActionTypes.EDIT_IMAGE,T="SHOWN_EDIT_IMAGE_MODE",t.reactExports.useEffect((()=>{!0===A&&(null==m||m(T))}),[]);const O=e=>{a.handleAction({type:n.ActionBarActionTypes.SHARE_COPY_LINK,event:e,source:n.ActionBarActionEventSource.OVERFLOW_MENU,anchorRef:h,onActionFlowComplete:()=>i({})},p)};if(t.reactExports.useEffect((()=>{e.actionType===n.ActionBarActionTypes.EDIT_PDF&&(null==d||d())}),[]),e.overflowItem)return e.overflowItem;switch(null===(x=e.menu)||void 0===x?void 0:x.type){case n.ActionBarMenuType.DROPDOWN:case n.ActionBarMenuType.SPLIT_BUTTON:return t.reactExports.createElement(o.Menu.Submenu,{disabled:b,withTriggerContent:w,withLeftAccessory:t.reactExports.createElement(s,{icon:e.icon}),contentClassName:l?u:""},t.reactExports.createElement(M,{menuSections:e.menu.menuSections,expActionBarRedesignEnabled:l}));case n.ActionBarMenuType.CUSTOM_DROPDOWN:return t.reactExports.createElement(o.Menu.Submenu,{disabled:b,withTriggerContent:w,withLeftAccessory:t.reactExports.createElement(s,{icon:e.icon}),contentClassName:l?u:"",onSubmenuOpened:e.onSubmenuOpened},e.menu.menuContent);default:let a={nodeType:"action",actionType:e.actionType};e.actionType===n.ActionBarActionTypes.CUSTOM_ACTION&&e.handler&&(a={nodeType:"custom_action",actionType:e.actionType,handler:e.handler});const i={key:e.actionType,value:a,withLeftAccessory:t.reactExports.createElement(s,{icon:e.icon}),disabled:b,withRightAccessory:y?t.reactExports.createElement(o.AccessoryBadge,{className:_},t.reactExports.createElement(o.UIIcon,{src:o.LightbulbPictogram,className:E})):e.showNewBadge?t.reactExports.createElement(o.AccessoryBadge,null,r.formatMessage({id:"VgsgAq",defaultMessage:"New"})):null},c={interactive:!0,disabled:b,ref:h,withLeftAccessory:t.reactExports.createElement(s,{icon:e.icon}),withRightAccessory:y?t.reactExports.createElement(o.AccessoryBadge,{className:_},t.reactExports.createElement(o.UIIcon,{src:o.LightbulbPictogram,className:E})):null,onClick:O},p=t.reactExports.createElement(o.Menu.ActionItem,Object.assign({},i,{"data-testid":`action-bar-overflow-menu-item_${w.toString().toLowerCase().split(" ").join("-")}`}),w),d=t.reactExports.createElement(o.Menu.Row,Object.assign({},c),w),g=e.isSuggestedWorkflow&&e.suggestedWorkflowsTooltipContents?t.reactExports.createElement(t.reactExports.Fragment,null,t.reactExports.createElement("div",null,t.reactExports.createElement("img",{alt:"",className:v,src:e.suggestedWorkflowsTooltipContents.imageUrl})),t.reactExports.createElement(o.Text,{variant:"label",inverse:!0,isBold:!0,size:"small"},r.formatMessage(e.suggestedWorkflowsTooltipContents.label))):void 0;return e.disabledTooltip&&b?t.reactExports.createElement(o.Tooltip,{title:e.disabledTooltip,placement:"left",id:"tooltip-item"},t.reactExports.createElement(o.Menu.ActionItem,Object.assign({},i,{value:"NOOP_SEE_DSYS-1278",disabled:!1,className:b?f:""}),w)):e.actionType===n.ActionBarActionTypes.SHARE_COPY_LINK?d:e.suggestedWorkflowsTooltipContents?t.reactExports.createElement(o.Tooltip,{title:g,placement:"right",id:"suggested-workflows-tooltip-item",maxWidth:168,openDelay:125},p):e.tooltip?t.reactExports.createElement(o.Tooltip,{title:e.tooltip,placement:"left",id:"tooltip-item"},p):p}};P.displayName="ActionBarOverflowMenuItem";o.injectInternalStyle("typescript/component_libraries/retrieval-components/src/simple-action-bar/action_bar.module.out.css",(e=>":root{--action-bar-menu-width:236px}._action-bar-container_1gsgi_5{display:flex}._action-bar-container_1gsgi_5._responsive_1gsgi_9{margin:-3px;overflow:hidden;padding:3px}._action-bar-container_1gsgi_5>button,._action-bar-container_1gsgi_5>div:not(:empty){flex:0 0 auto;margin-right:var(--spacing__base_unit)}._action-bar-container_1gsgi_5 ._action-bar-top-level_1gsgi_34:not(:empty),._action-bar-container_1gsgi_5 ._separator_1gsgi_35{margin-right:var(--spacing__unit--2)}._action-bar-container_1gsgi_5 ._separator_1gsgi_35{border-left:1px solid var(--color__standard__border)}._action-bar-container_1gsgi_5 ._separator_1gsgi_35._small_1gsgi_44{margin-left:0;margin-right:var(--spacing__base_unit)}._action-bar-container_1gsgi_5>div:last-child{margin-right:0}"));const q="_action-bar-container_1gsgi_5",F="_responsive_1gsgi_9",V="_action-bar-top-level_1gsgi_34",j="_separator_1gsgi_35",H="_small_1gsgi_44",$={previousActions:{},offsetRight:[]};function U(e){return null!=e}o.injectInternalStyle("typescript/component_libraries/retrieval-components/src/simple-action-bar/inline_action_bar.module.out.css",(e=>"._container_enfab_1{align-items:center;background:transparent linear-gradient(to right,transparent,var(--color__faint__background) var(--spacing__unit--2),var(--color__faint__background) 100%);display:flex;height:100%;position:-webkit-sticky;position:sticky;right:0}._container_enfab_1._highlighted_enfab_16{background:linear-gradient(to right,transparent,var(--color__attention__background) var(--spacing__unit--2),var(--color__attention__background) 100%),linear-gradient(to right,transparent,var(--color__standard__background) var(--spacing__unit--2),var(--color__standard__background) 100%)}._container_enfab_1>:first-child{margin-left:var(--spacing__unit--3)}._container_enfab_1>*{margin-right:var(--spacing__base_unit)}"));e.ActionBar=function(e){const{actionHandler:r,actions:a,className:s,intl:l,handleOverflowMenuToggle:c,hideOverflowMenu:u,responsive:p,responsiveSize:d,accessibilityConfig:g,hideIcons:m,overflowMenuOpenRequest:f,overflowMenuCloseRequest:E,overflowMenuCoordinates:_,resolveOverflowMenuOpenRequest:v,overflowMenuTitle:x,expActionBarRedesignEnabled:b,hideOverflowMenuHeader:w,canShowSelectionIndicatorInToolbar:h,createMenuOpenRequest:M,resolveCreateMenuOpenRequest:y,logPDFEditImpression:A,expSuggestedWorkflowsVariant:T,handleOverflowMenuToggleWithoutAction:O,expSuggestedWorkflowsLoggingCallbacks:S,fileExtension:R,logOverflowMenuItemImpression:C}=e,k=p&&(d===n.ResponsiveSize.MOBILE||d===n.ResponsiveSize.TABLET),B=p&&d===n.ResponsiveSize.MOBILE,[I]=function(){const e=t.reactExports.useRef(null),o=t.reactExports.useRef(),[n,r]=t.reactExports.useState(),a=t.reactExports.useCallback((()=>{o.current=new i.index((e=>r(e[0]))),(null==e?void 0:e.current)&&o.current.observe(e.current)}),[e.current]);return t.reactExports.useLayoutEffect((()=>(a(),()=>{var e;return null===(e=o.current)||void 0===e?void 0:e.disconnect()})),[a]),[e,n]}();let W;I.current&&(W=h?I.current.offsetLeft+I.current.offsetWidth-48:I.current.offsetLeft+I.current.offsetWidth);const D=t.reactExports.useRef(null),P=t.reactExports.useRef(null),z=t.reactExports.useRef(null),K=t.reactExports.useRef(null),Y=t.reactExports.useRef(null),G=t.reactExports.useRef(null),[X,J]=t.reactExports.useState($);t.reactExports.useLayoutEffect((()=>{J({previousActions:a,offsetRight:[D,P,z,K,Y].map((e=>e.current&&e.current.offsetLeft+e.current.offsetWidth)).filter(U)})}),[a]);const{alwaysAtTopLevel:Q,atTopLevelIfSpace:Z,alwaysInOverflow:ee,hasActions:te,expSuggestedWorkflowsActions:oe}=t.reactExports.useMemo((()=>{var e,t,o;return{alwaysAtTopLevel:a.alwaysAtTopLevel,atTopLevelIfSpace:a.atTopLevelIfSpace,alwaysInOverflow:a.alwaysInOverflow,hasActions:(null===(e=a.alwaysAtTopLevel)||void 0===e?void 0:e.length)||(null===(t=a.atTopLevelIfSpace)||void 0===t?void 0:t.length)||(null===(o=a.alwaysInOverflow)||void 0===o?void 0:o.length),expSuggestedWorkflowsActions:a.expSuggestedWorkflowsActions}}),[a]),{previousActions:ne,offsetRight:re}=X,ae=p&&W&&a===ne?re.filter((e=>e+43<W)).length:5,ie=o.cx(q,s,{[F]:p}),se=e=>e.actionType===n.ActionBarActionTypes.CUSTOM_ACTION?e.id:e.actionType,le=t.reactExports.useMemo((()=>{const e=(null==Z?void 0:Z.slice(0,ae))||[];(null==Q?void 0:Q.length)&&e.unshift(...Q);const t=new Set(e.map((e=>se(e)))||[]);let o=[];ee&&(o=ee.reduce(((e,t)=>e.concat(t)),[]));const n=new Set((null==o?void 0:o.map((e=>se(e))))||[]);if(t.size!==n.size)return!0;for(const e of Array.from(t))if(!n.has(e))return!0;return!1}),[Q,Z,ee,ae]);if(!te)return t.reactExports.createElement("div",{className:ie});const ce=[D,P,z,K,Y],ue=!u&&le&&(null==ee?void 0:ee.some((e=>e.length>0)));return t.reactExports.createElement("div",{ref:I,className:ie,"data-testid":"action-bar-container",style:{width:e.fixedWidth}},!!(null==Q?void 0:Q.length)&&t.reactExports.createElement(t.reactExports.Fragment,null,Q.map(((e,o)=>t.reactExports.createElement("div",{className:V,ref:ce[o],key:`action-bar-action-${o}`},t.reactExports.createElement(N,Object.assign({},e,{buttonVariant:0===o?"primary":"opacity",actionHandler:r,intl:l,accessibilityConfig:g,hideIcons:k||m,expActionBarRedesignEnabled:b,createMenuOpenRequest:M,resolveCreateMenuOpenRequest:y}))))),(!!(null==Z?void 0:Z.length)||ue)&&t.reactExports.createElement("div",{className:o.cx(j,{[H]:k})})),!!(null==Z?void 0:Z.length)&&(null==Z?void 0:Z.slice(0,ae).map(((e,o)=>t.reactExports.createElement("div",{ref:ce[o],key:`action-bar-action-${o}`,className:`action-bar-action-${se(e)}`},t.reactExports.createElement(N,Object.assign({},e,{buttonVariant:"opacity",actionHandler:r,intl:l,accessibilityConfig:g,hideIcons:e.actionType!==n.ActionBarActionTypes.SHARE_COPY_LINK&&(k||m),expActionBarRedesignEnabled:b,createMenuOpenRequest:M,resolveCreateMenuOpenRequest:y,useIconButton:e.actionType===n.ActionBarActionTypes.SHARE_COPY_LINK,anchorRef:G})))))),ue&&t.reactExports.createElement(L,{actions:{alwaysAtTopLevel:Q,atTopLevelIfSpace:Z,alwaysInOverflow:ee,expSuggestedWorkflowsActions:oe},actionHandler:r,buttonVariant:b?"opacity":"transparent",overflowMenuTitle:x||"",expActionBarRedesignEnabled:b||!1,intl:l,onToggle:c,accessibilityConfig:g,overflowMenuOpenRequest:f,overflowMenuCloseRequest:E,overflowMenuCoordinates:_,resolveOverflowMenuOpenRequest:v,isMobile:!!B,hideOverflowMenuHeader:w,logPDFEditImpression:A,expSuggestedWorkflowsVariant:T,handleOverflowMenuToggleWithoutAction:O,expSuggestedWorkflowsLoggingCallbacks:S,fileExtension:R,logOverflowMenuItemImpression:C}))},e.ActionBarIcon=s,e.ActionBarOverflowMenu=L,e.classes={container:"_container_enfab_1",highlighted:"_highlighted_enfab_16"}}));
//# sourceMappingURL=c_src_simple-action-bar_inline_action_bar.js-vfl8cGCoI.map
