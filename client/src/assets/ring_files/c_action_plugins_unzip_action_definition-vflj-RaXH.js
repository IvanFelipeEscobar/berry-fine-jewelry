define(["require","exports","./e_edison","./e_ui_page_files_router","./c_action_plugins_open_in_action_hooks","./c_conversions_actions_unzip","./c_flows_conversions_convert","./c_core_types_preview_type","./c_core_i18n"],(function(e,i,r,n,t,c,o,s,a){"use strict";const u=[t.SDKPreviewSurface.BROWSE,t.SDKPreviewSurface.COLLECTIONS,t.SDKPreviewSurface.FILE_LOCKING,t.SDKPreviewSurface.HELLOSIGN,t.SDKPreviewSurface.HOME,t.SDKPreviewSurface.INBAND_SHARE,t.SDKPreviewSurface.PHOTOS,t.SDKPreviewSurface.RECENTS,t.SDKPreviewSurface.SEARCH,t.SDKPreviewSurface.SHARED_CONTENT_LINK,t.SDKPreviewSurface.SHARED_LINK,t.SDKPreviewSurface.STANDALONE_PREVIEW,t.SDKPreviewSurface.STARRED,t.SDKPreviewSurface.VIDEO_HOME],S={filterValidFile:(e,i)=>{if(e&&o.canConvertFile(e,i)&&c.UnzipAction.selector([e]))return e},filterValidUser:t.filterLoggedInUser,shouldShowForPreviewSurface:t.filterSurfaceIn(u),shouldShowForPreviewType:e=>e===s.PreviewType.Archive};i.unzipActionConditions=S,i.unzipPluginDefinition=i=>{const s=function({context:e,getActiveFile:i,user:r}){const{file:n,sharePermission:t,shareToken:s}=i();if(r&&o.canConvertFile(n,t)&&c.UnzipAction.selector([n]))return{context:e,file:n,shareToken:s,user:r}}(i);if(!s)return;const{file:u}=s,S=u.bytes/1048576,_=a.intl.formatMessage({id:"pB6h1Y",defaultMessage:"Archive files over 512 MB cannot be extracted"}),f=S>=c.UNZIP_MAX_FILESIZE_MB?{disabled:!0,tooltipMessage:_}:void 0;return{label:c.UnzipAction.actionText,icon:r.React$1.createElement(n.UIIcon,{src:c.UnzipAction.actionIcon}),disabled:f,id:t.UNZIP_ACTION_PLUGIN_ID,action:{importer:()=>new Promise((function(i,r){e(["./c_action_plugins_unzip_action_action"],i,r)})).then((({unzipAction:e})=>e)),args:s}}},i.validateUnzipPluginProps=function({context:e,getActiveFile:i,user:r}){if(e&&i&&r)return{context:e,getActiveFile:i,user:r}}}));
//# sourceMappingURL=c_action_plugins_unzip_action_definition.js-vflVpT0AZ.map
