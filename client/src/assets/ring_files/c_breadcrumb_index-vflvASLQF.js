define(["exports","./e_ui_page_files_router","./e_edison"],(function(e,r,t){"use strict";var a=t.reactExports.createContext({size:"medium",inverse:!1,updateSegment:()=>{}}),n=t.reactExports.createContext(0),o={small:24,standard:32,medium:32},s={small:18.875,standard:20.016,medium:20.016},i="digBreadcrumbLink--hidden",c=(e,r,t)=>{let a=0;return e.every((e=>!e.linkProps.children||0!==e.width))?(e.forEach((e=>{a+=e.width})),0===a?0:(a+=(e.length-1)*s[t],r.length>0&&(a+=o[t]+s[t]),a)):0},l=({availableWidth:e,breadcrumbSegments:r,size:t,isRootOverflow:a,alwaysShowRoot:n})=>{let i=r,l=[],d=c(i,l,t);if(0===d)return{inline:[],overflow:[]};if(i.length>4){const e=a?0:1,r=[...i.slice(e,i.length-4+e)];i=[...i.slice(0,e),...i.slice(i.length-4+e)],l=l.concat(r),d=c(i,l,t)}for(;;)if(e>d){if(4===i.length||0===l.length)break;let r=l.length-1;1!==i.length||a||(r=0);const n=l[r];if(1===l.length){if(n.width>e-(d-o[t]))break}else if(n.width+s[t]>e-d)break;i=1===i.length||a?[n,...i]:[...i.slice(0,1),n,...i.slice(1)],l=[...l.slice(0,r),...l.slice(r+1)],d=c(i,l,t)}else{const e=!a&&n?2:1;if(i.length<=e)break;let r=1;(2===i.length||a)&&(r=0);const o=i[r];i=[...i.slice(0,r),...i.slice(r+1)],l=0!==r||a?l.concat(o):[o].concat(l),d=c(i,l,t)}return{inline:i,overflow:l}},d=[["medium","standard"]],m=e=>{const r=d.find((([r,t])=>e===t));return void 0!==r?r[0]:e},u=t.reactExports.forwardRef((({id:e,className:o,children:s,withLeftIcon:c,withMenuItemIcon:l,isCurrentPath:d=!1,href:u,onClick:g,onDrop:E,onDragEnter:p,onDragOver:v,onDragLeave:f,_originalId:x="",...h},b)=>{const{size:w,updateSegment:D,inverse:k}=t.reactExports.useContext(a),C=m(w),B=t.reactExports.useContext(n),N=d?"span":"a",I=d?void 0:0,O="medium"===C?r.Title:r.Text,y=t.reactExports.useRef(null),L=h["aria-label"],[R,z]=t.reactExports.useState(!1),S=r.cx("dig-Breadcrumb-link",{"dig-Breadcrumb-link--current":d},{"dig-Breadcrumb-link--dragged-over":R&&!d},{"dig-Breadcrumb-link--inverse":k},o);t.reactExports.useEffect((()=>{e&&e.startsWith(i)&&D(B,{id:e,children:s,withLeftIcon:c,withMenuItemIcon:l,href:u,onClick:g,onDrop:E,onDragEnter:p,onDragOver:v,onDragLeave:f,"aria-label":L,_originalId:x},(e=>e.current?e.current.getBoundingClientRect().width:0)(y))}),[e,s,c,l,u,g,E,p,v,f,B,D,y,L,x]);const M={onClick:g};if(!d)switch(typeof u){case"string":M.href=u;break;case"function":M.href="#",M.onClick=e=>{e.preventDefault(),u(e),g&&g(e)}}const P=t.reactExports.useCallback((e=>{z(!0),v&&v(e)}),[v]),T=t.reactExports.useCallback((e=>{z(!0),p&&p(e)}),[p]),_=t.reactExports.useCallback((e=>{z(!1),f&&f(e)}),[f]),H=t.reactExports.useCallback((e=>{z(!1),E&&E(e)}),[E]);return t.reactExports.createElement(N,{id:e,className:S,tabIndex:I,ref:b,"aria-current":d?"page":void 0,...M,onDrop:H,onDragEnter:T,onDragOver:P,onDragLeave:_,...h},t.reactExports.createElement(O,{size:"small",className:"dig-Breadcrumb-link-content",color:d?"standard":"faint",inverse:k,tagName:"span","data-testid":"digBreadcrumbLinkContent"},t.reactExports.createElement("span",{ref:y,className:"dig-Breadcrumb-link-inner"},c&&t.reactExports.createElement(r.UIIcon,{className:"dig-Breadcrumb-link-icon",src:c,size:C}),t.reactExports.createElement("span",{className:"dig-Breadcrumb-link-text"},s))))}));u.displayName="Link";var g=({className:e})=>{const{size:n,inverse:o}=t.reactExports.useContext(a),s=r.cx("dig-Breadcrumb-divider",e);return t.reactExports.createElement(r.Text,{className:s,size:n,inverse:o,color:"faint","aria-hidden":"true"},"/")};g.displayName="BreadcrumbDivider";var E=({className:e,onDragOver:a,onDragEnter:n,onDragLeave:o,onDrop:s,...i})=>{const[c,l]=t.reactExports.useState(!1),d=r.cx({"dig-Breadcrumb-overlfow-item--dragged-over":c},e),m=t.reactExports.useCallback((e=>{l(!0),a&&a(e)}),[a]),u=t.reactExports.useCallback((e=>{l(!0),n&&n(e)}),[n]),g=t.reactExports.useCallback((e=>{l(!1),o&&o(e)}),[o]),E=t.reactExports.useCallback((e=>{l(!1),s&&s(e)}),[s]);return t.reactExports.createElement(r.Menu.ActionItem,{tagName:"a",className:d,"aria-label":i["aria-label"],onDrop:E,onDragOver:m,onDragEnter:u,onDragLeave:g,role:"menuitem",...i})};E.displayName="BreadcrumbOverflowMenuItem";var p=({className:e,overflowItemsProps:n,overflowEventHandlers:o,...s})=>{const{size:i,inverse:c}=t.reactExports.useContext(a),l=r.cx("dig-Breadcrumb-overflow",{"dig-Breadcrumb-overflow--inverse":c},e),d=t.reactExports.useCallback(((e,r)=>o?{onDragOver:o.onDragOverTrigger?o.onDragOverTrigger(e):void 0,onDragEnter:o.onDragEnterTrigger?o.onDragEnterTrigger(e):void 0,onDragLeave:o.onDragLeaveTrigger?o.onDragLeaveTrigger(r):void 0}:{}),[o]),m=t.reactExports.useCallback(((e,r)=>o?{onDragOver:o.onDragOverContent?o.onDragOverContent(e):void 0,onDragEnter:o.onDragEnterContent?o.onDragEnterContent(e):void 0,onDragLeave:o.onDragLeaveContent?o.onDragLeaveContent(r):void 0}:{}),[o]);return t.reactExports.createElement(r.Menu.Wrapper,{className:l,onSelection:(e,r)=>{"function"==typeof e&&e(r)},inverse:c,shouldPropagateClickOutsideMouseEvents:!0},(({getContentProps:e,getTriggerProps:a,openMenu:o,closeMenu:l})=>t.reactExports.createElement(t.reactExports.Fragment,null,t.reactExports.createElement(r.IconButton,{variant:"transparent",className:"dig-Breadcrumb-overflow-button","data-testid":"digBreadcrumbOverflowButton",size:"small",inverse:c,...a(),...d(o,l),...s},t.reactExports.createElement(r.UIIcon,{src:r.MoreHorizontalLine,size:i})),t.reactExports.createElement(r.Menu.Content,{...e(),...m(o,l)},t.reactExports.createElement(r.Menu.Segment,null,n.map(((e,a)=>{const{id:n,children:o,withMenuItemIcon:s,href:i,onClick:c,onDragOver:l,onDragEnter:d,onDragLeave:m,onDrop:u}=e;return e&&t.reactExports.createElement(E,{id:n,"aria-label":e["aria-label"],value:i,href:"string"==typeof i?i:void 0,onClick:c,onDragOver:l,onDragEnter:d,onDragLeave:m,onDrop:u,children:o,withLeftAccessory:s?t.reactExports.createElement(r.UIIcon,{src:s}):void 0,key:`overflow-item-${a}`})})))))))};p.displayName="BreadcrumbOverflow";var v=({segments:e,isRootOverflow:r,overflowEventHandlers:a})=>{const n=[];if(e.inline.forEach(((a,o)=>{n.push(a.item),o!==e.inline.length-1&&(e.overflow.length>0&&!r&&0===o?n.push(t.reactExports.createElement(g,{key:`divider-${o}`,className:"dig-Breadcrumb-divider--overflowLeft"})):n.push(t.reactExports.createElement(g,{key:`divider-${o}`})))})),e.overflow.length>0){let o=2;(1===e.inline.length||r)&&(o=0),n.splice(o,0,t.reactExports.createElement(g,{key:"divider--1",className:"dig-Breadcrumb-divider--overflowRight"})),n.splice(o,0,t.reactExports.createElement(p,{overflowItemsProps:e.overflow.map((e=>e.linkProps)),overflowEventHandlers:a,key:"overflow"}))}return t.reactExports.createElement(t.reactExports.Fragment,null,n)};v.displayName="BreadcrumbRenderer";var f=t.reactExports.forwardRef((({className:e,children:o,size:s="medium",overflowEventHandlers:c,isRootOverflow:d=!1,alwaysShowRoot:u=!1,inverse:g=!1,...E},p)=>{const f=m(s),{nodeRef:x,observerEntry:h}=r.useResizeObserver(),[b,w]=t.reactExports.useState(!0),[D,k]=t.reactExports.useState(!0),[C,B]=t.reactExports.useState([]),N=t.reactExports.useRef(null),I=r.cx("dig-Breadcrumb",{"dig-Breadcrumb--small":"small"===f},{"dig-Breadcrumb--inverse":g},e),O={size:f,inverse:g,updateSegment:t.reactExports.useCallback(((e,r,t)=>{B((a=>a.map(((a,n)=>n===e?{...a,width:Math.ceil(t),linkProps:{...r,id:r._originalId,_originalId:void 0}}:a))))}),[])},y="medium"===f?r.Title:r.Text;return t.reactExports.useImperativeHandle(p,(()=>{return e=N,{getBoundingClientRect:()=>e.current?e.current.getBoundingClientRect():new DOMRect};var e})),t.reactExports.useEffect((()=>{document.fonts?document.fonts.ready.then((()=>{k(!1)})):k(!1)}),[]),t.reactExports.useEffect((()=>{w(!0)}),[o]),t.reactExports.useEffect((()=>{b&&(B((e=>{const r=[];return t.reactExports.Children.forEach(e,(e=>{t.reactExports.isValidElement(e)&&r.push({item:e,width:0,linkProps:{}})})),r})(o)),w(!1))}),[o,b]),t.reactExports.createElement(a.Provider,{value:O},!b&&t.reactExports.createElement(y,{size:"small",className:"dig-Breadcrumb--widthCalcUtil","aria-hidden":"true",tagName:"span"},t.reactExports.Children.map(o,((e,r)=>{if(t.reactExports.isValidElement(e))return t.reactExports.createElement(n.Provider,{value:r,key:`hidden-link-${r}`},t.reactExports.cloneElement(e,{id:`${i}-${r}`,_originalId:e.props.id}))}))),t.reactExports.createElement("nav",{className:I,...E,ref:x},t.reactExports.createElement("div",{className:"dig-Breadcrumb-inner",ref:N,"data-testid":"digBreadcrumbDisplayContainer"},!D&&t.reactExports.createElement(v,{segments:l({availableWidth:h?h.contentRect.width:0,breadcrumbSegments:C,size:f,isRootOverflow:d,alwaysShowRoot:u}),isRootOverflow:d,overflowEventHandlers:c}))))}));f.Link=u,f.displayName="Breadcrumb",e.Breadcrumb=f}));
//# sourceMappingURL=c_breadcrumb_index.js-vflWHIxgK.map
