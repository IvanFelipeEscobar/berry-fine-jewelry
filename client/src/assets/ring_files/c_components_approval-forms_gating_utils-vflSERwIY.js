define(["exports","./e_edison","./e_ui_page_files_router","./c_components_spacer_index","./c_core_i18n","./c_flows_approval_approval_io_client","./c_form_row_index","./c_components_approval-forms_approval_checkbox_in_share"],(function(e,a,t,l,r,o,s,n){"use strict";const i=({fileId:e,ioClient:t,multiApprovers:l=!1,actionSurface:r,onCreate:s,onCreateFailure:n,onCreateSuccess:i,onEditSuccess:p,editArgs:c,threadId:d})=>{var u;const m=l?20:1,[v,g]=a.reactExports.useState(!1),[f,R]=a.reactExports.useState(!1),[h,E]=a.reactExports.useState([]),[M,b]=a.reactExports.useState(!0),[A,$]=a.reactExports.useState(null!==(u=null==c?void 0:c.content)&&void 0!==u?u:""),[C,T]=a.reactExports.useState(!1),{suggestions:y,onQueryChange:B}=t.useSuggestions(h),S=t.logger,_=a.reactExports.useCallback((e=>a.React$1.createElement(o.TypeaheadSuggestion,{suggestion:e,getInitials:t.getInitials})),[t.getInitials]),F=a.reactExports.useCallback((e=>{g(!1),R(!1),$(e.currentTarget.value)}),[]),L=h.length>0&&h.length<=m&&0===h.filter((e=>e.validationResult!==o.ValidationResult.OK)).length,I=()=>{var a;g(!1),R(!1),T(!0);const l={actor:"requester",approval_type:"request",requester_email:null==c?void 0:c.approvalMetadata.requester_email,status:"pending",type:"approval",approvers:null!==(a=null==c?void 0:c.approvalMetadata.approvers)&&void 0!==a?a:h.map((({email:e,name:a})=>({email:e,display_name:a}))),requires_all:c?c.approvalMetadata.requires_all:M};if(c)t.editApprovalRequest(e,c.commentId,A).then((()=>{null==p||p(c.commentId,d,{text:A,metadata:[l]}),S.logEditApprovalRequestSuccess(e,A.length,d)})).catch((()=>{g(!0),T(!1)}));else{const a=h.map((({email:e})=>({email:e})));null==s||s(h.length),t.createApproval(e,A,a,M).then((a=>{null==i||i(h.length,{text:A,metadata:[l]}),S.logSubmitApprovalSuccess(e,r,A.length,JSON.stringify(h.map((({dbx_account_id:e})=>e))),M,h.length,a.comment_id),t.triggerSprigSurvey()})).catch((e=>{var a;null==n||n(h.length,I),g(!0),"user_not_found"===(null===(a=e.error)||void 0===a?void 0:a[".tag"])&&R(!0),T(!1)}))}};return{canSubmit:!!c||L,detailsInputValue:A,handleDetailsChange:F,handleNeedsAllApproversChange:a=>{b(a),S.logApproverOptionsClick(e,a,r)},handleRecipientsChange:e=>{g(!1),R(!1),E(e)},handleSubmit:I,hasError:v,isUserNotFoundError:f,needsAllApprovers:M,onQueryChange:B,recipientNumLimit:m,recipients:h,renderTypeaheadSuggestion:_,requestPending:C,suggestions:y}},p=({onCancel:e,onRequestSuccess:p,onEditSuccess:c,ioClient:d,user:u,fileId:m,inlineWithComments:v,approvalVariant:g,editArgs:f,threadId:R})=>{var h;const{canSubmit:E,detailsInputValue:M,handleDetailsChange:b,handleNeedsAllApproversChange:A,handleRecipientsChange:$,handleSubmit:C,hasError:T,isUserNotFoundError:y,needsAllApprovers:B,onQueryChange:S,recipientNumLimit:_,recipients:F,renderTypeaheadSuggestion:L,requestPending:I,suggestions:x}=i({fileId:m,ioClient:d,multiApprovers:"MULTI_APPROVER"===g,onCreateSuccess:(e,...a)=>null==p?void 0:p(...a),editArgs:f,threadId:R,onEditSuccess:c,actionSurface:"request_approval_form"}),N=a.React$1.useRef(null),{title:q,requestSubmitButtonLabel:k,cancelButtonLabel:w,detailsInputLabel:P,detailsInputPlaceholder:z,approverInputPlaceholder:O,approverInputLabel:U,multiApproverInputLabel:V,approverInputTooltipTitle:j,userNotFoundError:D,genericError:G,editSubmitButtonLabel:H,addAnApproverTooltip:Q,createNewRequestTooltip:W,onlyOneApproverAllowedTooltip:Y,onlyTwentyApproversAllowedTooltip:K,betaBadgeLabel:J,radioButtonAllApprovers:X,radioButtonOneApprover:Z}=function(){const e=r.useIntl();return{title:e.formatMessage({id:"hEJ2Yn",defaultMessage:"Get approval"}),requestSubmitButtonLabel:e.formatMessage({id:"6+7BLc",defaultMessage:"Send"}),cancelButtonLabel:e.formatMessage({id:"KQ8scR",defaultMessage:"Cancel"}),detailsInputLabel:e.formatMessage({id:"R+Was/",defaultMessage:"Message"}),detailsInputPlaceholder:e.formatMessage({id:"A62fV9",defaultMessage:"Add a note about what you need approved."}),approverInputPlaceholder:e.formatMessage({id:"0rnwy6",defaultMessage:"Add an email or name"}),approverInputLabel:e.formatMessage({id:"v53Uf+",defaultMessage:"Approver"}),multiApproverInputLabel:e.formatMessage({id:"/qlqYb",defaultMessage:"Approver(s)"}),approverInputTooltipTitle:e.formatMessage({id:"ss5f1a",defaultMessage:"Approvers are sent an email with your message and a link to the file."}),userNotFoundError:e.formatMessage({id:"UzX8SG",defaultMessage:"Couldn’t send approval request because 1 or more approvers don’t have a Dropbox account."}),genericError:e.formatMessage({id:"vK1TiB",defaultMessage:"Something went wrong. Please try again later."}),editSubmitButtonLabel:e.formatMessage({id:"WGyt7S",defaultMessage:"Save changes"}),addAnApproverTooltip:e.formatMessage({id:"CoADMJ",defaultMessage:"Add an approver to your request"}),createNewRequestTooltip:e.formatMessage({id:"2hpgtD",defaultMessage:"Create a new request to get approval from another person"}),onlyOneApproverAllowedTooltip:e.formatMessage({id:"6CxwHA",defaultMessage:"You can only have one approver per request"}),onlyTwentyApproversAllowedTooltip:e.formatMessage({id:"s3OEMQ",defaultMessage:"You can only have twenty approvers per request"}),betaBadgeLabel:e.formatMessage({id:"PbRgl7",defaultMessage:"Beta"}),radioButtonAllApprovers:e.formatMessage({id:"dCiUbC",defaultMessage:"Everyone needs to approve"}),radioButtonOneApprover:e.formatMessage({id:"IVLVww",defaultMessage:"Only one approval needed"})}}(),ee="approval-request-form__details-input",ae=d.logger;a.React$1.useEffect((()=>{ae.logShownRequestForm(m,"request_approval_form")}),[m]);const te=e=>a.React$1.createElement(t.Button$1,{onClick:C,variant:"primary",disabled:e,size:"small",className:n.classes.approvalFormFooterPrimaryAction,isLoading:I},f?H:k);return a.React$1.createElement("div",{className:t.cx(n.classes.approvalForm,{[n.classes.inlineWithComments]:v}),ref:N},a.React$1.createElement("div",{className:n.classes.approvalFormTitle},a.React$1.createElement(t.Avatar,{src:u.photoUrl,backgroundColor:t.avatarColorForUserIdentifier(u.initials),hasNoOutline:!0,size:"small",style:{marginRight:"6px"}},u.initials),a.React$1.createElement(t.Text,{isBold:!0,tagName:"h1"},q),a.React$1.createElement(t.AccessoryBadge,null,J)),a.React$1.createElement("div",{className:n.classes.approvalFormBody},f?a.React$1.createElement(a.React$1.Fragment,null,a.React$1.createElement(s.FormLabel,{htmlFor:"approval-form__approver"},a.React$1.createElement(t.Text,{isBold:!0,size:"small",tagName:"label"},"MULTI_APPROVER"===g?V:U)),a.React$1.createElement(t.Tooltip,{title:W,boundary:N,placement:"top-start",auto:!0},a.React$1.createElement(t.Text,{id:"approval-form__approver",size:"small",className:n.classes.approvalFormApproverDisplayName},null===(h=f.approvalMetadata.approvers)||void 0===h?void 0:h.map((e=>`@${e.display_name?e.display_name:e.email} `))))):a.React$1.createElement(o.ContactTypeahead,{placeholder:O,recipients:F,onRecipientsChange:$,onTypeAheadSelection:e=>ae.logAddApprover(m,"request_approval_form",e.dbx_account_id),suggestions:x,onQueryChange:S,renderTypeaheadSuggestion:L,recipientNumLimit:_,label:"MULTI_APPROVER"===g?V:U,labelSubtext:a.React$1.createElement(t.Tooltip,{title:j,placement:"top"},a.React$1.createElement("div",{className:n.classes.approvalModalApproverInputTooltip},a.React$1.createElement(t.UIIcon,{src:t.HelpLine,size:"small"}))),maxNumTooltip:"MULTI_APPROVER"===g?K:Y,onFocus:()=>ae.logFocusApproverTypeahead(m,"request_approval_form")}),a.React$1.createElement(l.Spacer,{multiplier:2}),a.React$1.createElement(s.FormLabel,{htmlFor:ee},a.React$1.createElement(t.Text,{isBold:!0,size:"small",tagName:"label"},P)),a.React$1.createElement(t.TextArea,{className:n.classes.approvalFormsTextArea,id:ee,placeholder:z,"aria-label":z,value:M,onChange:b}),"MULTI_APPROVER"===g&&(F.length>1||(null==f?void 0:f.approvalMetadata.approvers)&&f.approvalMetadata.approvers.length>1)?a.React$1.createElement(s.FormControlGroup,{className:n.classes.approvalFormRadioButtonGroup},a.React$1.createElement("div",{className:n.classes.approvalFormRadioButtonRow},a.React$1.createElement(t.RadioButton,{checked:f?f.approvalMetadata.requires_all:B,disabled:!!f,"aria-label":X,onClick:()=>A(!0)}),a.React$1.createElement("div",{className:n.classes.approvalFormRadioButtonText},a.React$1.createElement(t.Text,{size:"small"},X))),a.React$1.createElement("div",{className:n.classes.approvalFormRadioButtonRow},a.React$1.createElement(t.RadioButton,{checked:f?!f.approvalMetadata.requires_all:!B,disabled:!!f,"aria-label":Z,onClick:()=>A(!1)}),a.React$1.createElement("div",{className:n.classes.approvalFormRadioButtonText},a.React$1.createElement(t.Text,{size:"small"},Z)))):null,T&&(y?a.React$1.createElement(s.FormHelperText,{variant:"alert"},D):a.React$1.createElement(s.FormHelperText,{variant:"alert"},G))),a.React$1.createElement("div",{className:n.classes.approvalFormFooter},a.React$1.createElement(t.Button$1,{onClick:()=>{ae.logRequestFormCancelClick(m,"request_approval_form"),d.trackUserSurveyEvent("approval_request_abandoned"),e()},variant:"transparent",size:"small",disabled:I},w),E?te(!1):a.React$1.createElement(t.Tooltip,{title:Q,placement:"top-start",auto:!0,boundary:N},a.React$1.createElement("span",{style:{display:"inline-block"},tabIndex:0},te(!0)))))};p.displayName="ApprovalRequestFormInternal";const c=e=>a.React$1.createElement(r.Provider,{value:e.intl},a.React$1.createElement(p,Object.assign({},e)));c.displayName="ApprovalRequestForm";const d=({onCancel:e,onRespondSuccess:o,onEditSuccess:i,user:p,inlineWithComments:c,ioClient:d,fileId:u,threadId:m,editArgs:v})=>{var g;const[f,R]=a.reactExports.useState(null!==(g=null==v?void 0:v.content)&&void 0!==g?g:""),[h,E]=a.reactExports.useState("approved"==(null==v?void 0:v.approvalMetadata.status)||"rejected"!=(null==v?void 0:v.approvalMetadata.status)&&void 0),[M,b]=a.reactExports.useState(!1),[A,$]=a.reactExports.useState(!1),C=a.React$1.useRef(null),{title:T,submitButtonLabel:y,cancelButtonLabel:B,detailsInputLabel:S,detailsInputPlaceholder:_,approveChipLabel:F,rejectChipLabel:L,genericError:I,approveOrRequestFirstTooltip:x,addDetailsTooltip:N,betaBadgeLabel:q}=function(){const e=r.useIntl();return{title:e.formatMessage({id:"TKvySt",defaultMessage:"Respond to request"}),submitButtonLabel:e.formatMessage({id:"mVrd/b",defaultMessage:"Submit"}),cancelButtonLabel:e.formatMessage({id:"KQ8scR",defaultMessage:"Cancel"}),detailsInputLabel:e.formatMessage({id:"rFAfdB",defaultMessage:"Details"}),detailsInputPlaceholder:e.formatMessage({id:"hzYIsD",defaultMessage:"Tell requester more about your decision"}),approveChipLabel:e.formatMessage({id:"TjnDNv",defaultMessage:"Approve"}),rejectChipLabel:e.formatMessage({id:"YEnec6",defaultMessage:"Request change"}),genericError:e.formatMessage({id:"vK1TiB",defaultMessage:"Something went wrong. Please try again later."}),approveOrRequestFirstTooltip:e.formatMessage({id:"2p63Fj",defaultMessage:"Approve or request change first"}),addDetailsTooltip:e.formatMessage({id:"wWiE03",defaultMessage:"Add details about your change request"}),betaBadgeLabel:e.formatMessage({id:"HA3jPv",defaultMessage:"Beta"})}}(),k=d.logger,w="approval-respond-form__details-input";a.React$1.useEffect((()=>{k.logShownRespondForm(u,m)}),[u,m]);const P=()=>{b(!1),$(!0);const e={type:"approval",status:h?"approved":"rejected",requester_email:null==v?void 0:v.approvalMetadata.requester_email,approval_type:"response",actor:"approver",approvers:null==v?void 0:v.approvalMetadata.approvers,requires_all:null==v?void 0:v.approvalMetadata.requires_all};v?d.editApprovalResponse(u,v.commentId,h,f).then((()=>{k.logApprovalResponseResubmitSuccess(u,m,e.status,f.length),i&&i(v.commentId,m,{text:f,metadata:[e]})})).catch((()=>{b(!0),$(!1)})):d.respondToApprovalRequest(u,m,h,f).then((()=>{o&&o({text:f,metadata:[e]},m),k.logSubmitResponseSuccess(e.status,u,m,f.length)})).catch((()=>{b(!0),$(!1)}))},z=h||void 0!==h&&!!f,O=e=>a.React$1.createElement(t.Button$1,{onClick:P,variant:"primary",size:"small",disabled:e,className:n.classes.approvalFormFooterPrimaryAction,isLoading:A},y),U=e=>{k.logApproveChipClick(u,m,e),E(e)};return a.React$1.createElement("div",{className:t.cx(n.classes.approvalForm,{[n.classes.inlineWithComments]:c}),ref:C},a.React$1.createElement("div",{className:n.classes.approvalFormTitle},a.React$1.createElement(t.Avatar,{src:p.photoUrl,backgroundColor:t.avatarColorForUserIdentifier(p.initials),hasNoOutline:!0,size:"small",style:{marginRight:"6px"}},p.initials),a.React$1.createElement(t.Text,{isBold:!0,tagName:"h1"},T),a.React$1.createElement(t.AccessoryBadge,null,q)),a.React$1.createElement("div",{className:n.classes.approvalFormBody},a.React$1.createElement("div",{className:n.classes.approvalRespondFormActionChipsGroup},a.React$1.createElement(t.FilterChip,{className:h?n.classes.approveActionSelected:void 0,isSelected:h,onClick:()=>U(!0),withIconLeft:a.React$1.createElement("div",{className:n.classes.approvalRespondFormIconContainer},a.React$1.createElement(t.UIIcon,{size:"small",src:t.CheckmarkCircleLine})),size:"small"},F),a.React$1.createElement(l.Spacer,{multiplier:2}),a.React$1.createElement(t.FilterChip,{className:!1===h?n.classes.rejectActionSelected:void 0,isSelected:!1===h,onClick:()=>U(!1),withIconLeft:a.React$1.createElement("div",{className:n.classes.approvalRespondFormIconContainer},a.React$1.createElement(t.UIIcon,{size:"small",src:t.WarningLine})),size:"small"},L)),a.React$1.createElement(l.Spacer,{multiplier:2}),a.React$1.createElement(s.FormLabel,{htmlFor:w},a.React$1.createElement(t.Text,{isBold:!0,size:"small",tagName:"label"},S)),a.React$1.createElement(t.TextArea,{className:n.classes.approvalFormsTextArea,id:w,placeholder:_,"aria-label":_,value:f,onChange:e=>{R(e.currentTarget.value)}}),M&&a.React$1.createElement(s.FormHelperText,{variant:"alert"},I)),a.React$1.createElement("div",{className:n.classes.approvalFormFooter},a.React$1.createElement(t.Button$1,{onClick:()=>{e&&(k.logRespondFormCancelClick(u),e())},variant:"transparent",size:"small",disabled:A},B),z?O(!1):a.React$1.createElement(t.Tooltip,{title:null==h?x:h||f?null:N,placement:"top-start",auto:!0,boundary:C},a.React$1.createElement("span",{style:{display:"inline-block"},tabIndex:0},O(!0)))))};d.displayName="ApprovalRespondFormInternal";const u=e=>a.React$1.createElement(r.Provider,{value:e.intl},a.React$1.createElement(d,Object.assign({},e)));var m;u.displayName="ApprovalRespondForm",function(e){e.SetApprovalForm="@@approval/setApprovalForm"}(m||(m={}));const v=({open:e,onRequestClose:l,onSubmit:o,onBackButtonClick:s,ioClient:i})=>{const{feedbackModalTitle:p,radioButtonTitle:c,radioButtonYesLabel:d,radioButtonNoLabel:u,textAreaYesTitle:m,textAreaNoTitle:v,backButtonLabel:g,submitFeedbackButtonLabel:f,textAreaPlaceholderTitle:R}=function(){const e=r.useIntl();return{feedbackModalTitle:e.formatMessage({id:"0/HL+Q",defaultMessage:"What do you think of approval requests?"}),radioButtonTitle:e.formatMessage({id:"ftYhEs",defaultMessage:"Is this feature helpful?"}),radioButtonYesLabel:e.formatMessage({id:"mU1MrK",defaultMessage:"Yes"}),radioButtonNoLabel:e.formatMessage({id:"s6xbpD",defaultMessage:"No"}),textAreaYesTitle:e.formatMessage({id:"iX7U41",defaultMessage:"What suggestions do you have to make it better?"}),textAreaNoTitle:e.formatMessage({id:"ZVfnJI",defaultMessage:"What could make this feature more helpful to you?"}),textAreaPlaceholderTitle:e.formatMessage({id:"Ttsb+L",defaultMessage:"Let us know what you think here"}),backButtonLabel:e.formatMessage({id:"zEvexQ",defaultMessage:"Back"}),submitFeedbackButtonLabel:e.formatMessage({id:"F2GxG/",defaultMessage:"Submit"})}}(),[h,E]=a.reactExports.useState(!0),[M,b]=a.reactExports.useState("");return a.React$1.createElement(t.Modal$1,{open:e,isCentered:!0,withCloseButton:"Close",onRequestClose:l},a.React$1.createElement(t.Modal$1.Header,{hasBottomSpacing:"title-standard"},a.React$1.createElement(t.Modal$1.Title,null,p)),a.React$1.createElement(t.Modal$1.Body,null,c,a.React$1.createElement("div",{className:n.classes.feedbackMenuRadioButtons},a.React$1.createElement(t.RadioButton,{id:"approval-is-helpful",checked:h,onChange:()=>E(!0)}),a.React$1.createElement(t.Label,{htmlFor:"approval-is-helpful"},d),a.React$1.createElement(t.RadioButton,{id:"approval-is-not-helpful",checked:!h,onChange:()=>E(!1)}),a.React$1.createElement(t.Label,{htmlFor:"approval-is-not-helpful"},u)),h?m:v,a.React$1.createElement("div",{className:n.classes.feedbackMenuTextArea},a.React$1.createElement(t.TextArea,{placeholder:R,maxLength:5e3,onChange:e=>{b(e.currentTarget.value)}})),a.React$1.createElement(t.Text,{size:"small",color:"faint"},M.length,"/5000")),a.React$1.createElement(t.Modal$1.Footer,null,s&&a.React$1.createElement(t.Button$1,{variant:"opacity",onClick:s},g),a.React$1.createElement(t.Button$1,{variant:"primary",onClick:()=>{o(),i.logApprovalsFeedback(h,M)}},f)))};const g=({file:e,ioClient:l,multiApprovers:p=!1,onRequestClose:c,onSubmit:d,onSubmitFailure:u,onSubmitSuccess:m,open:g,showFeedbackButton:f=!1})=>{const R=r.useIntl(),[h,E]=a.reactExports.useState(!1),M=l.logger;a.React$1.useEffect((()=>{M.logShownRequestForm(e.id,"request_approval_modal")}),[e.id]);const{canSubmit:b,detailsInputValue:A,handleDetailsChange:$,handleNeedsAllApproversChange:C,handleRecipientsChange:T,handleSubmit:y,needsAllApprovers:B,onQueryChange:S,recipientNumLimit:_,recipients:F,renderTypeaheadSuggestion:L,requestPending:I,suggestions:x}=i({fileId:e.id,ioClient:l,multiApprovers:p,onCreate:d,onCreateFailure:u,onCreateSuccess:m,actionSurface:"request_approval_modal"}),{modalHeaderSubtitle:N,closeButtonLabel:q,feedbackButtonLabel:k,cancelButtonLabel:w,submitButtonLabel:P,modalBodyTitle:z,detailsInputLabel:O,detailsInputPlaceholder:U,approverInputPlaceholder:V,approverInputTooltipTitle:j,singleApproverInputLabel:D,multiApproverInputLabel:G}=function(e){const a=r.useIntl();return{feedbackButtonLabel:a.formatMessage({id:"ivQ2Ac",defaultMessage:"Share feedback"}),cancelButtonLabel:a.formatMessage({id:"wCMmYo",defaultMessage:"Cancel"}),submitButtonLabel:a.formatMessage({id:"c/mz8E",defaultMessage:"Send"}),closeButtonLabel:a.formatMessage({id:"OS5Xe5",defaultMessage:"Close"}),modalHeaderSubtitle:e.modifiedBy?a.formatMessage({id:"RzXKqn",defaultMessage:"Last edited by {modifiedBy} at {modifiedAt}"},{modifiedBy:e.modifiedBy,modifiedAt:e.modifiedAt}):a.formatMessage({id:"s0jdsx",defaultMessage:"Last edited by you at {modifiedAt}"},{modifiedAt:e.modifiedAt}),modalBodyTitle:a.formatMessage({id:"6ta9rl",defaultMessage:"Get approval"}),detailsInputLabel:a.formatMessage({id:"DjtbhT",defaultMessage:"Message"}),detailsInputPlaceholder:a.formatMessage({id:"A62fV9",defaultMessage:"Add a note about what you need approved."}),approverInputPlaceholder:a.formatMessage({id:"0rnwy6",defaultMessage:"Add an email or name"}),approverInputTooltipTitle:a.formatMessage({id:"+lp2vo",defaultMessage:"Approvers are sent an email with your message and a link to the file."}),singleApproverInputLabel:a.formatMessage({id:"zha+hc",defaultMessage:"Approver"}),multiApproverInputLabel:a.formatMessage({id:"gdOMIk",defaultMessage:"Approver(s)"})}}(e),H=a.reactExports.useCallback((()=>{E(!0)}),[]),Q=a.reactExports.useCallback((()=>{M.logRequestFormCancelClick(e.id,"request_approval_modal"),l.trackUserSurveyEvent("approval_request_abandoned"),c()}),[e.id,l,M,c]);return a.React$1.createElement(a.React$1.Fragment,null,a.React$1.createElement(t.Modal$1,{open:g&&!h,isCentered:!0,withCloseButton:q,onRequestClose:Q,width:540},a.React$1.createElement("div",{className:n.classes.approvalModalContentWrapper},a.React$1.createElement(t.Modal$1.Header,{hasBottomSpacing:"title-standard",className:n.classes.approvalModalHeader},a.React$1.createElement(t.FileIcon$1,{extension:e.name.split(".").pop()||"",size:"small"}),a.React$1.createElement("div",{className:n.classes.approvalModalTitlesWrapper},a.React$1.createElement("p",{className:n.classes.approvalModalHeaderTitle},a.React$1.createElement(t.Text,{variant:"paragraph",size:"standard",isBold:!0},e.name)),null!==e.modifiedBy&&a.React$1.createElement("p",{className:n.classes.approvalModalHeaderSubtitle},a.React$1.createElement(t.Text,{variant:"label",size:"small"},N)))),a.React$1.createElement(t.Modal$1.Body,{className:n.classes.approvalModalBody},a.React$1.createElement(t.Title,{className:n.classes.approvalModalBodyTitle},z),a.React$1.createElement(s.FormRow,null,a.React$1.createElement(o.ContactTypeahead,{placeholder:V,recipients:F,onRecipientsChange:T,onTypeAheadSelection:a=>{M.logAddApprover(e.id,"request_approval_modal",a.dbx_account_id)},suggestions:x,onQueryChange:S,renderTypeaheadSuggestion:L,recipientNumLimit:_,label:p?G:D,labelSubtext:a.React$1.createElement(t.Tooltip,{title:j,placement:"right"},a.React$1.createElement("div",{className:n.classes.approvalModalApproverInputTooltip},a.React$1.createElement(t.UIIcon,{src:t.HelpLine}))),onFocus:()=>{M.logFocusApproverTypeahead(e.id,"request_approval_modal")},maxNumTooltip:R.formatMessage({id:"w7qLQr",defaultMessage:"You can only have {recipientNumLimit, plural, one {# approver} other {# approvers}} per request"},{recipientNumLimit:_})})),p&&F.length>1?a.React$1.createElement(n.ApprovalTypeRadioButtonGroup,{className:n.classes.approvalModalRadioButtonGroup,needsAllApprovers:B,onChange:C}):null,a.React$1.createElement(s.FormRow,null,a.React$1.createElement(s.FormLabel,{htmlFor:"approval-request-modal__details-input"},a.React$1.createElement(t.Text,{isBold:!0,size:"small",tagName:"label"},O)),a.React$1.createElement(t.TextArea,{className:n.classes.approvalFormsTextArea,id:"approval-request-modal__details-input",placeholder:U,"aria-label":U,value:A,onChange:$}))),a.React$1.createElement(t.Modal$1.Footer,{className:n.classes.approvalModalFooter},f&&a.React$1.createElement(t.Button$1,{variant:"transparent",onClick:H},k),a.React$1.createElement(t.Button$1,{variant:"opacity",onClick:Q},w),a.React$1.createElement(t.Button$1,{disabled:!b,isLoading:I,variant:"primary",onClick:y},P)))),f&&a.React$1.createElement(v,{open:g&&h,onRequestClose:()=>E(!1),onBackButtonClick:()=>E(!1),onSubmit:()=>E(!1),ioClient:l}))};g.displayName="ApprovalRequestModal";const f=r.defineMessage({id:"u53xBc",defaultMessage:"Get approval"}),R=r.defineMessage({id:"GjJirE",defaultMessage:"Request approval"}),h=r.defineMessage({id:"nP9tTP",defaultMessage:"Request review"}),E=r.defineMessage({id:"xgnq6C",defaultMessage:"Get feedback"});e.ApprovalRequestForm=c,e.ApprovalRequestModal=g,e.ApprovalRespondForm=u,e.approvalCopyExperimentString=e=>"REQUEST_APPROVAL"===e?R:"REQUEST_REVIEW"===e?h:"GET_FEEDBACK"===e?E:f,e.approvalReducer=(e={},{type:a,payload:t})=>a===m.SetApprovalForm?Object.assign(Object.assign({},e),t):e,e.isApprovalEnabled=e=>"MULTI_APPROVER"===e,e.setApprovalForm=function(e){return{type:m.SetApprovalForm,payload:e}}}));
//# sourceMappingURL=c_components_approval-forms_gating_utils.js-vflBpd9XD.map
