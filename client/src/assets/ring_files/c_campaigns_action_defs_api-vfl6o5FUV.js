define(["require","exports","./c_tslib","./e_edison","./e_ui_page_files_router","./c_auth_login_or_register_types"],(function(e,t,n,o,r,i){"use strict";const{Suspense:a}=o.React$1;const s=o.React$1.lazy((()=>n.__awaiter(void 0,void 0,void 0,(function*(){const{LoginOrRegisterModal:t}=yield new Promise((function(t,n){e(["./c_auth_login_or_register_modal"],t,n)}));return{default:t}}))));function c(e,t){e.setPath(function(e,t){const n=new RegExp("{{(.*?)}}");for(;;){const o=e.match(n);if(!o)break;const r=o[1],i=t[r],a=o.index;e=l(e,i,a,a+r.length+4)}return e}(e.getPath(),t));const n=new RegExp("{{(.*)}}"),o=e.getQuery();for(const[r,i]of Object.entries(o))if(r.startsWith("{{")&&r.endsWith("}}")&&""===i){const o=r.match(n);if(o){const n=o[1],i=t[n];e.removeQuery(r),i&&e.updateQuery(n,i)}}else if(i&&"string"==typeof i&&i.startsWith("{{")&&i.endsWith("}}")){const o=i.match(n);if(o){const n=t[o[1]];n?e.updateQuery(r,n):e.removeQuery(r)}}return e}function l(e,t="",n,o){return e.substring(0,n)+t+e.substring(o)}t.getActionDefFromCtaHandler=function(e){var t,n;let o="";"click_element_from_css_selector"===(null==e?void 0:e[".tag"])?o=e.action_parameters.action_parameter:"open_url_in_new_tab"==(null==e?void 0:e[".tag"])||"open_url_in_current_tab"==(null==e?void 0:e[".tag"])?o=e.action_parameters.action_url:"open_register_modal_post_download_with_refresh"!==(null==e?void 0:e[".tag"])&&"open_login_modal_post_download_with_refresh"!==(null==e?void 0:e[".tag"])||(o=JSON.stringify(e.action_parameters.encryption_options));const r={handler:null==e?void 0:e[".tag"],args:[o]};return"open_register_modal_post_download_with_refresh"!==(null==e?void 0:e[".tag"])&&"open_login_modal_post_download_with_refresh"!==(null==e?void 0:e[".tag"])||(null===(t=r.args)||void 0===t||t.push(e.action_parameters.sign_up_tag),null===(n=r.args)||void 0===n||n.push(e.action_parameters.sisu_source)),r},t.getCallbackFunctionForActionDef=function(e={},t={}){var n;const l=null!==(n=e.args)&&void 0!==n?n:[];switch(e.handler){case r.ActionHandlers.CLICK_ELEMENT_FROM_CSS_SELECTOR:return function(e){return()=>{const t=document.querySelector(e);if(t){const e=new MouseEvent("click",{bubbles:!0,cancelable:!0,view:window});t.dispatchEvent(e)}}}(l[0]);case r.ActionHandlers.LAUNCH_URL_IN_NEW_TAB:case r.ActionHandlers.OPEN_URL_IN_NEW_TAB:return function(e){return()=>{r.open_tab(e)}}(c(o.URI.parse(l[0]),t));case r.ActionHandlers.OPEN_REGISTER_MODAL_POST_DOWNLOAD_WITH_REFRESH:const e=l[0],n=JSON.parse(e),_=l[1],d=l[2];return()=>{r.Modal.showInstance(o.React$1.createElement(a,{fallback:o.React$1.createElement("div",null)},o.React$1.createElement(s,{downloadAction:null,id:"toolkit-modal-on-confirm-register-modal-post-download-with-refresh",initialMode:i.Mode.REGISTER,kind:i.LoginOrRegisterKind.DOWNLOAD,loggingExtra:{source:d},onAuthenticateSuccess:()=>window.location.reload(),encryptionOptions:n,signup_tag:_})))};case r.ActionHandlers.OPEN_LOGIN_MODAL_POST_DOWNLOAD_WITH_REFRESH:const u=l[0],g=JSON.parse(u),p=l[1],f=l[2];return()=>{r.Modal.showInstance(o.React$1.createElement(a,{fallback:o.React$1.createElement("div",null)},o.React$1.createElement(s,{downloadAction:null,id:"toolkit-modal-on-confirm-register-modal-post-download-with-refresh",initialMode:i.Mode.LOGIN,kind:i.LoginOrRegisterKind.DOWNLOAD,loggingExtra:{source:f},onAuthenticateSuccess:()=>window.location.reload(),encryptionOptions:g,signup_tag:p})))};case r.ActionHandlers.OPEN_URL_IN_CURRENT_TAB:{const e=c(o.URI.parse(l[0]),t);return()=>r.redirect(e)}default:return null}}}));
//# sourceMappingURL=c_campaigns_action_defs_api.js-vfloJDkuo.map
