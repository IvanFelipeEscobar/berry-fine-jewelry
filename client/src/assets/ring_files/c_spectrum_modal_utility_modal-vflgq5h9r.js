define(["exports","./c_tslib","./e_ui_page_files_router","./c_spectrum_tertiary_link_tertiary_list","./e_edison","./c_spectrum_icon_form_index","./c_exenv_index"],(function(e,t,o,n,s,r,l){"use strict";const a="mc-no-scroll";function c(){return l.exenvExports.canUseDOM&&document.body.style.paddingRight||"0"}function i(){if(!l.exenvExports.canUseDOM)return;document.body.clientWidth<window.innerWidth&&(document.body.style.paddingRight=function(){if(!l.exenvExports.canUseDOM)return 0;const e=document.createElement("div");e.className="scrollbar-measure",document.body.appendChild(e);const t=e.offsetWidth-e.clientWidth;return document.body.removeChild(e),t}()+"px")}function d(){i(),l.exenvExports.canUseDOM&&document.documentElement.classList.add(a)}function m(e){var t;t=e,l.exenvExports.canUseDOM&&(document.body.style.paddingRight=t),l.exenvExports.canUseDOM&&document.documentElement.classList.remove(a)}class p extends s.reactExports.Component{constructor(){super(...arguments),this.initBodyPaddingRight="0",this.closeButtonRef=s.reactExports.createRef(),this.performModalOpenOperation=()=>{this.initBodyPaddingRight=c(),d()},this.performModalCloseOperation=()=>{m(this.initBodyPaddingRight)},this.findElementToFocus=()=>{const{focusedElementOnOpen:e}=this.props;return e&&e.current?e.current:this.closeButtonRef.current},this.onAfterOpen=()=>{const e=this.findElementToFocus();e&&e.focus(),this.props.onReady&&this.props.onReady()}}componentDidMount(){this.props.open&&this.performModalOpenOperation()}componentDidUpdate(e){this.props.open&&!e.open?this.performModalOpenOperation():!this.props.open&&e.open&&this.performModalCloseOperation()}componentWillUnmount(){this.performModalCloseOperation()}render(){const{className:e,overlayClassName:t,width:n,height:l,bodyClassName:a,bodyId:c,displayCloseButton:i,children:d}=this.props,m=o.cx("mc-modal",e),p=o.cx("mc-modal-overlay",t),u=this.props.contentTagName||"div",y={overflowX:"hidden",overflowY:"auto",width:n,height:l},E={contentLabel:this.props.ariaLabel,isOpen:this.props.open,onAfterOpen:this.onAfterOpen,onRequestClose:this.props.onRequestClose,className:m,overlayClassName:p,shouldCloseOnOverlayClick:this.props.overlayClickClose,shouldFocusAfterRender:!1,parentSelector:this.props.parentElement,style:{content:y},appElement:this.props.appElement};return s.reactExports.createElement(o.ReactModal,Object.assign({},E),s.reactExports.createElement(u,{className:o.cx("mc-modal-body",a),id:c,style:y},i&&s.reactExports.createElement(o.Button,{variant:"styleless",className:"mc-modal-close",onClick:this.props.onRequestClose,ref:this.closeButtonRef},s.reactExports.createElement(r.IconForm,{className:"mc-modal-close-icon",name:"cancel"})),d))}}var u;p.displayName="Modal",function(e){e.PRIMARY="Primary",e.SECONDARY="Secondary",e.TERTIARY="Tertiary",e.CLOSE="Close"}(u||(u={}));const y=s.reactExports.forwardRef((({element:e,defaultElement:t,onAction:o},n)=>"function"==typeof e?e(o,n):t(e,o,n)));y.displayName="ElementCreator";const E=e=>{var{primaryAction:r,secondaryAction:l,link:a,title:c,variant:i="regular",onPrimaryAction:d,onSecondaryAction:m,onLink:E,overlayClickClose:h=!0,displayCloseButton:f=!1,children:x,ref:C,bodyClassName:O,utilBodyClassName:v,utilBodyStyle:R,utilBodyTabIndex:A,shouldRequestCloseOnActions:b=!0,focusedElementOnOpen:g=u.PRIMARY}=e,N=t.__rest(e,["primaryAction","secondaryAction","link","title","variant","onPrimaryAction","onSecondaryAction","onLink","overlayClickClose","displayCloseButton","children","ref","bodyClassName","utilBodyClassName","utilBodyStyle","utilBodyTabIndex","shouldRequestCloseOnActions","focusedElementOnOpen"]);const M=o.cx({"mc-util-modal":!0,"mc-util-modal-regular":"regular"===i,"mc-util-modal-small":"small"===i},O),B=s.reactExports.createRef(),_=e=>()=>{const{onRequestClose:t}=N;e&&e(),t&&b&&t()};return s.reactExports.createElement(p,Object.assign({displayCloseButton:f,bodyClassName:M,overlayClickClose:h,focusedElementOnOpen:"object"==typeof g?g:B},N),s.reactExports.createElement("div",{className:"mc-util-modal-header"},c),s.reactExports.createElement("div",{className:o.cx("mc-util-modal-body",v),style:R,tabIndex:A},x),s.reactExports.createElement("div",{className:"mc-util-modal-actions"},s.reactExports.createElement("div",null,"regular"===i&&a?s.reactExports.createElement(y,{element:a,ref:B,defaultElement:(e,t,o)=>s.reactExports.createElement(n.TertiaryLink,{onClick:t,ref:g===u.TERTIARY?o:null},e),onAction:E}):null),s.reactExports.createElement("div",{className:"mc-util-modal-actions-buttons"},l&&s.reactExports.createElement(y,{element:l,ref:B,defaultElement:(e,t,n)=>s.reactExports.createElement(o.Button,{variant:"secondary",onClick:t,ref:g===u.SECONDARY?n:null},e),onAction:_(m)}),s.reactExports.createElement(y,{element:r,ref:B,defaultElement:(e,t,n)=>s.reactExports.createElement(o.Button,{variant:"primary",onClick:t,ref:g===u.PRIMARY?n:null},e),onAction:_(d)}))))};E.displayName="UtilityModal",e.Modal=p,e.UtilityModal=E,e.getBodyPadding=c,e.lockScroll=d,e.unlockScroll=m}));
//# sourceMappingURL=c_spectrum_modal_utility_modal.js-vflQnJb-U.map
