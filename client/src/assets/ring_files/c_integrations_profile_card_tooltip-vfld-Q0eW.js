define(["exports","./e_ui_page_files_router","./e_edison","./c_src_text","./c_spectrum_colorized_icon","./c_icon_templates_stateless_index","./c_spectrum_svg_icon_bundle","./c_src_instrumentation_common_context","./c_src_instrumentation_constants","./c_src_instrumentation_function_wrapper"],(function(e,t,r,a,o,s,n,i,l,c){"use strict";const p=JSON.parse('\n    {"additional-license":{"attrs":{"width":"32","height":"32","viewBox":"0 0 32 32"},"dangerouslySetInnerIconHtml":"<path d=\\"M14.186 17.104h2.674v-1.428h-2.674v-2.702H12.66v2.702H10v1.428h2.66v2.73h1.526v-2.73zm6.244 4.298h1.89V11h-1.652c0 .658-.168 1.106-.49 1.4-.35.308-.868.462-1.512.462h-.28v1.232h2.044v7.308z\\" fill=\\"#0070E0\\" fill-rule=\\"evenodd\\"></path>"},"alert":{"attrs":{"width":"32","height":"32","viewBox":"0 0 32 32"},"dangerouslySetInnerIconHtml":"<g fill=\\"none\\" fill-rule=\\"evenodd\\"><path d=\\"M16 32C7.163 32 0 24.837 0 16S7.163 0 16 0s16 7.163 16 16-7.163 16-16 16zm-1.137-21.691l.185 8.49h1.775l.176-8.49h-2.136zm1.081 12.884c.405 0 .73-.12.976-.36s.37-.557.37-.95c0-.398-.124-.717-.37-.957s-.571-.36-.976-.36c-.41 0-.74.12-.988.36-.25.24-.374.56-.374.958 0 .392.125.709.374.949s.578.36.988.36z\\" fill=\\"#FFC726\\"></path><circle stroke=\\"#E4AB0A\\" cx=\\"16\\" cy=\\"16\\" r=\\"15.5\\"></circle></g>"},"company":{"attrs":{"width":"32","height":"32","viewBox":"0 0 32 32"},"dangerouslySetInnerIconHtml":"<g fill=\\"none\\" fill-rule=\\"evenodd\\"><path d=\\"M15 10v13H9V10h6zm.5-2c.8 0 1.5.7 1.5 1.5v14c0 .8-.7 1.5-1.5 1.5h-7c-.8 0-1.5-.7-1.5-1.5v-14C7 8.7 7.7 8 8.5 8h7z\\" fill=\\"#0070E0\\"></path><path d=\\"M23 17v6h-6v-6h6zm.5-2c.8 0 1.5.7 1.5 1.5v7c0 .8-.7 1.5-1.5 1.5h-7c-.8 0-1.5-.7-1.5-1.5V15h8.5z\\" fill=\\"#0070E0\\"></path><path d=\\"M11 13h2v2h-2v-2zm0 3h2v2h-2v-2zm0 3h2v2h-2v-2zm8 0h2v2h-2v-2z\\" fill=\\"#99C6F3\\" fill-rule=\\"nonzero\\"></path></g>"},"personal-account":{"attrs":{"width":"32","height":"32","viewBox":"0 0 32 32"},"dangerouslySetInnerIconHtml":"<g fill=\\"none\\" fill-rule=\\"evenodd\\"><path fill=\\"#99C6F3\\" d=\\"M19 9h3v6l-3-3z\\"></path><path d=\\"M16.707 8.707l8.485 8.485-1.414 1.415L16 10.828l-7.778 7.779-1.414-1.415L16 8l.707.707z\\" fill=\\"#0070E0\\"></path><path fill=\\"#99C6F3\\" d=\\"M15 17h2v4h-2z\\"></path><path d=\\"M10 14h12v7.494c0 .832-.68 1.506-1.496 1.506h-9.008A1.502 1.502 0 0 1 10 21.494V14zm2 0v7h8v-7h-8z\\" fill=\\"#0070E0\\"></path></g>"}}\n  '),d=e=>{const{name:t}=e,a=r.reactExports.createElement(n.SvgIconBundle,{focusable:"false",icon:p[t]});return r.reactExports.createElement(s.Component,Object.assign({icon:a},e))};d.displayName="IconAdminsymbol";t.injectInternalStyle("typescript/component_libraries/deep-integrations/src/profile_card/sections/team_expand_section.module.out.css",(e=>"._profile-card-team-expand-section_1lk00_1{align-items:center;padding:0 16px 16px}._primary-text-wrapper_1lk00_6{display:flex;min-height:40px}._primary-text_1lk00_6{align-self:center;padding-bottom:8px;padding-top:16px}._text-area_1lk00_17{display:flex;flex-direction:column}._reasons-line_1lk00_22{padding-top:3px}._reasons-wrapper_1lk00_26{color:var(--color__faint__text);margin:0;padding:0 0 4px 16px}._button-wrapper_1lk00_32{padding-top:8px}._expand-button_1lk00_36{width:100%}._area-icon_1lk00_40{padding-top:5px}"));const _="_profile-card-team-expand-section_1lk00_1",m="_primary-text-wrapper_1lk00_6",h="_primary-text_1lk00_6",x="_text-area_1lk00_17",u="_reasons-line_1lk00_22",E="_reasons-wrapper_1lk00_26",f="_button-wrapper_1lk00_32",g="_expand-button_1lk00_36",v="_area-icon_1lk00_40";class y extends r.reactExports.Component{constructor(){super(...arguments),this.handleButtonClick=()=>{this.props.teamExpandButtonHandler()}}render(){const{teamExpandButtonText:e,teamExpandPrimaryText:s,showCompanyIcon:n,teamExpandReasonsText:i,isTeamExpandButtonDisabled:l}=this.props,c=n?r.reactExports.createElement(o.ColorizedIcon,{color:"#717781"},r.reactExports.createElement(d,{name:"company"})):void 0,p=i&&i.length>0?r.reactExports.createElement("ul",{className:E},i.map(((e,t)=>r.reactExports.createElement("li",{className:u,key:t},r.reactExports.createElement(a.Text,{fontWeight:"normal",size:"small",color:"text-secondary"},e))))):void 0;return r.reactExports.createElement("div",{className:_},r.reactExports.createElement("div",{className:x},r.reactExports.createElement("div",{className:m},r.reactExports.createElement("div",{className:v},c),r.reactExports.createElement("div",{className:h},r.reactExports.createElement(a.Text,{fontWeight:"medium",size:"small",color:"text-secondary"},s))),p),r.reactExports.createElement("div",{className:f},r.reactExports.createElement(t.Button$1,{onClick:this.handleButtonClick,className:g,variant:"primary",title:e,disabled:l},e)))}}y.displayName="TeamExpandSection";class k extends r.reactExports.Component{constructor(){super(...arguments),this.state={hasError:!1}}render(){return this.state.hasError?r.reactExports.createElement("div",null):r.reactExports.createElement("div",null,this.props.children)}componentDidCatch(e,t){this.handleError(e,t)}handleError(e,t){const{reportError:r,notify:a,intl:o}=this.props;this.setState({hasError:!0}),r(e,"critical",[],t),a.showError(o.formatMessage({id:"0N4KvM",defaultMessage:"Oops, something went wrong."}))}}k.displayName="ErrorBoundary";class b{constructor(e){this.perfTimer=e,this.startMs=null,this.endMs=null,this.restart()}restart(){this.startMs=this.perfTimer.now(),this.endMs=null}mark(){return this.endMs=this.perfTimer.now(),this.endMs-this.startMs}duration(){return null===this.endMs?-1:this.endMs-this.startMs}}class C extends r.reactExports.Component{constructor(e){super(e),this.deltaMeasurementFrom="constructed",this.isDoneLoading=!1,this.isInteractive=!1,this.timer=new b(e.performanceTimer)}componentDidMount(){this.arePropsLoaded(this.props)?this.logRenderedFeature(l.InstrRenderedFeatureStage.Interactive):this.logRenderedFeature(l.InstrRenderedFeatureStage.Mounted)}UNSAFE_componentWillReceiveProps(e){this.isDoneLoading||0===this.getAllAsyncProps(e).length||this.arePropsLoaded(e)&&this.logRenderedFeature(l.InstrRenderedFeatureStage.Loaded,e)}componentDidUpdate(e){this.isDoneLoading&&!this.isInteractive&&this.logRenderedFeature(l.InstrRenderedFeatureStage.Interactive)}getAllAsyncProps(e){const t=[];return e.criticalAsyncProps&&t.push(...e.criticalAsyncProps),e.nonCriticalAsyncProps&&t.push(...e.nonCriticalAsyncProps),t}arePropsLoaded(e){return this.getAllAsyncProps(e).reduce(((e,t)=>e&&!!t&&"pending"!==t.state),!0)}hadRejectedAsyncProp(e){return this.getAllAsyncProps(e).reduce(((e,t)=>t&&"rejected"===t.state||e),!1)}hadCriticalRejectedAsyncProp(e){return!!e.criticalAsyncProps&&e.criticalAsyncProps.reduce(((e,t)=>t&&"rejected"===t.state||e),!1)}logRenderedFeature(e,t){const r={};t||(t=this.props);const a=this.hadRejectedAsyncProp(t),o=this.hadCriticalRejectedAsyncProp(t);switch(e){case l.InstrRenderedFeatureStage.Interactive:if(this.isInteractive)return;this.isInteractive=!0,this.isDoneLoading=!0,r.had_rejected_async_prop=String(a),r.was_successful=String(!o);break;case l.InstrRenderedFeatureStage.Loaded:if(this.isDoneLoading)return;this.isDoneLoading=!0,r.had_rejected_async_prop=String(a),r.was_successful=String(!o)}this.props.logEvent({event_name:l.InstrEventType.RenderedFeature,extra:Object.assign(Object.assign({},r),{rendered_feature_stage:e,rendered_feature_delta_ms:String(this.timer.mark()),rendered_feature_delta_from:this.deltaMeasurementFrom})})}render(){return this.props.children}}C.displayName="InstrFeatureComponent";t.injectInternalStyle("typescript/component_libraries/deep-integrations/src/link/index.module.out.css",(e=>":root{--color-stone:#d0d0d3;--color-stone-light:#6a7c8f;--color-stone-dark:#536170}._link_1h1pt_8,._link-button_1h1pt_17{background-color:transparent;border:none;cursor:pointer;outline:none;padding:0}._link-button_1h1pt_17{border-radius:4px;vertical-align:bottom}._link-button_1h1pt_17:focus{box-shadow:var(--token_boxshadow_focusring)}._link-button_1h1pt_17._color-sapphire_1h1pt_33{color:var(--color_sapphire_100)}._link-button_1h1pt_17._color-sapphire_1h1pt_33:hover{color:var(--color_sapphire_90)}._link-button_1h1pt_17._color-sapphire_1h1pt_33:active{color:var(--color_sapphire_110)}._link-button_1h1pt_17._color-text-secondary_1h1pt_45{color:var(--color-stone)}._link-button_1h1pt_17._color-text-secondary_1h1pt_45:hover{color:var(--color-stone-light)}._link-button_1h1pt_17._color-text-secondary_1h1pt_45:active{color:var(--color-stone-dark)}._link-button_1h1pt_17._disabled_1h1pt_57{cursor:default;opacity:.4}"));const w={link:"_link_1h1pt_8",linkButton:"_link-button_1h1pt_17",colorSapphire:"_color-sapphire_1h1pt_33",colorTextSecondary:"_color-text-secondary_1h1pt_45",disabled:"_disabled_1h1pt_57"},P=(e,t,r,a)=>{if(e.startsWith("/"))t(e);else if(e.startsWith("mailto:")){a({to:e.slice(7)})}else r(e)};function S(e,t,a,o){return class extends r.reactExports.Component{constructor(){super(...arguments),this.onClick=()=>{P(this.props.href,e,t,a)}}render(){const{children:e,className:t,instrAction:a,instrDetails:s}=this.props,n=this.props["aria-label"];return r.reactExports.createElement("button",{className:`${w.link} ${t}`,role:"link","aria-label":n,onClick:c.onClickWrapper(o,a,this.onClick,s)},e)}}}const N={now:()=>Date.now()};t.injectInternalStyle("typescript/component_libraries/deep-integrations/src/profile_card/sections/seen_state_section.module.out.css",(e=>"._profile-card-seen-state-section_1i0xs_1{align-items:center;padding:12px 16px}._profile-intro_1i0xs_6{display:flex}._info-container_1i0xs_10{display:flex;flex-direction:column;margin-left:12px;min-width:0}._email-link_1i0xs_21,._seen-state_1i0xs_17{margin-top:4px}._email-link_1i0xs_21{color:var(--color_text_default);width:100%}._email-link_1i0xs_21:hover{color:var(--color_blue)}._block_1i0xs_31{display:block}._avatar-container_1i0xs_35>._avatar_1i0xs_35{font-size:var(--type__title__standard--fontsize);height:56px;width:56px}"));const I="_profile-card-seen-state-section_1i0xs_1",T="_profile-intro_1i0xs_6",A="_info-container_1i0xs_10",B="_email-link_1i0xs_21",M="_seen-state_1i0xs_17",z="_block_1i0xs_31",j="_avatar-container_1i0xs_35",F="_avatar_1i0xs_35";class D extends r.reactExports.Component{render(){const{seenState:e,avatarColor:o,isActive:s,initials:n,photoUrl:i,targetUser:c,intl:p,Link:d}=this.props,{email:_}=c;return r.reactExports.createElement("div",{className:I},r.reactExports.createElement("div",{className:T},r.reactExports.createElement("div",{className:j},r.reactExports.createElement(t.Avatar,{size:"large",src:i,backgroundColor:o,isInactive:!s,className:F,style:{backgroundColor:s?o:"#BFBFBF"}},n)),r.reactExports.createElement("div",{className:A},r.reactExports.createElement(a.Text,{color:"text",size:"medium",fontWeight:"medium",className:z,ellipsis:!0},c.display_name),e&&e.trim().length>0?r.reactExports.createElement(a.Text,{color:"text-secondary",size:"small",fontWeight:"normal",className:t.cx(z,M)},e):null,_?r.reactExports.createElement(t.Tooltip,{title:p.formatMessage({id:"ctNPP6",defaultMessage:"Send Email"})},r.reactExports.createElement(d,{href:`mailto:${_}`,"aria-label":p.formatMessage({id:"M5GM60",defaultMessage:"Send Email to {email}"},{email:_}),className:t.cx(z,B),instrAction:l.InstrActionType.OpenExternalLink,instrDetails:{extra:{external_link_reason:l.InstrExternalLinkReason.OpenMailto}}},r.reactExports.createElement(a.Text,{color:"text-secondary",size:"small",fontWeight:"normal",className:z,ellipsis:!0},_))):null)))}}D.displayName="SeenStateSection";t.injectInternalStyle("typescript/component_libraries/deep-integrations/src/profile_card/profile_card.module.out.css",(e=>"._profile-card-content_f2991_1{font-family:var(--font_stack);width:264px}._profile-card_f2991_1{background-color:#fff;border:1px solid #e6e8eb;border-radius:5px;box-shadow:0 8px 16px rgba(27,39,51,.08);text-align:left;white-space:nowrap}._section-container_f2991_19{border-bottom:1px solid #e8e8e8}._section-container_f2991_19:last-child{border-bottom:0}._profile-card-wrapper_f2991_30{display:flex;justify-content:center;width:100%}._seen-state-banner_f2991_37{border-radius:4px 4px 0 0;height:8px}"));const R="_profile-card-content_f2991_1",O="_profile-card_f2991_1",L="_section-container_f2991_19",W="_profile-card-wrapper_f2991_30",U="_seen-state-banner_f2991_37";class H extends r.reactExports.Component{constructor(){super(...arguments),this.profileCardSessionID=t.generateUUID(l.InstrFeatureType.ProfileCard)}render(){const e=i.withDefaults(this.props.sectionBaseProps.logEvent,{feature_name:l.InstrFeatureType.ProfileCard,extra:Object.assign({profile_card_session_id:this.profileCardSessionID},this.props.sectionBaseProps.entryPoint&&{entry_point:this.props.sectionBaseProps.entryPoint})});return r.reactExports.createElement(C,{criticalAsyncProps:void 0,logEvent:e,performanceTimer:this.props.sectionBaseProps.performanceTimer},r.reactExports.createElement($,Object.assign({},this.props,{sectionBaseProps:Object.assign(Object.assign({},this.props.sectionBaseProps),{logEvent:e})})))}}H.displayName="ProfileCard";class $ extends r.reactExports.Component{render(){const{sectionBaseProps:e,seenStateProps:t,teamExpandProps:a}=this.props,o=[r.reactExports.createElement(D,Object.assign({key:"seen_state_action"},e,t,{logEvent:e.logEvent}))];return a&&o.push(r.reactExports.createElement(y,Object.assign({key:"team_invite_section"},e,a,{logEvent:e.logEvent}))),r.reactExports.createElement("div",{className:R},r.reactExports.createElement("div",{className:U,style:{backgroundColor:this.props.seenStateProps.avatarColor}}),o.map(((e,t)=>r.reactExports.createElement("div",{key:`profile-card-section-${t}`,className:L},e))))}}$.displayName="ProfileCardImpl";class G extends r.reactExports.Component{render(){return r.reactExports.createElement(k,{intl:this.props.sectionBaseProps.intl,notify:this.props.sectionBaseProps.notify,reportError:this.props.sectionBaseProps.reportError},r.reactExports.createElement("div",{className:W},r.reactExports.createElement("div",{className:O},r.reactExports.createElement(H,Object.assign({},this.props)))))}}G.displayName="ProfileCardWithWrapper";const V=t.connect((e=>t.getStateAtNamespace(e,t.DEEP_INTEGRATIONS_NAMESPACE_KEY)),(e=>function(e){return{dispatch:e}}(t.wrapDispatch(e))),(function(e,t,r){const{featureGates:a,listServices:o}=r,{latestUserSettings:s}=e.userSettingsState,n="fulfilled"===o.state?o.value.services:void 0,l=i.decorateCommonContext(r.logEvent,{serviceList:n,userSettings:s,featureGates:a}),p=c.functionWrapperProvider(l,"profile_card"),d={targetUser:r.targetUser,intl:r.intl,featureGates:a,entryPoint:r.entryPoint,Link:S(r.openDropboxUrl,r.openExternalUrl,r.openEmailLink,p),logEvent:l,performanceTimer:r.performanceTimer||N,reportError:r.reportError,notify:r.notify};return Object.assign({sectionBaseProps:d,seenStateProps:{seenState:r.seenState,avatarColor:r.avatarColor,isActive:r.isActive,initials:r.initials,photoUrl:r.photoUrl}},function(e){if(e.teamExpandButtonHandler&&e.teamExpandButtonText&&e.teamExpandPrimaryText)return{teamExpandProps:{teamExpandButtonHandler:e.teamExpandButtonHandler,teamExpandButtonText:e.teamExpandButtonText,teamExpandPrimaryText:e.teamExpandPrimaryText,teamExpandReasonsText:e.teamExpandReasonsText,showCompanyIcon:e.showCompanyIcon,isTeamExpandButtonDisabled:e.isTeamExpandButtonDisabled}};return{}}(r))}))(G),K={showError(e){t.Snackbar.fail(e)}};t.injectInternalStyle("typescript/component_libraries/deep-integrations/src/profile_card/profile_card_tooltip_content.module.out.css",(e=>"._tooltip-container_153dg_1{border-radius:0 0 4px 4px;box-shadow:0 8px 16px rgba(27,39,51,.08);min-width:136px;overflow:hidden}._click-for-more_153dg_9{height:24px;position:relative;width:100%}._click-for-more-mask_153dg_15{background-color:var(--color_ink);height:100%;opacity:.25;width:100%}._click-for-more-text_153dg_22{align-items:center;display:flex;height:100%;justify-content:center;position:absolute;top:0;width:100%}._seen-state_153dg_32{display:flex;flex-direction:column;padding:5px 7px;text-align:center}._overflow-message-wrapper_153dg_39{background-color:var(--color_ink_100);border-radius:4px;box-shadow:0 8px 16px rgba(27,39,51,.08);padding:3px 10px 5px;text-align:center}"));const J="_tooltip-container_153dg_1",Q="_click-for-more_153dg_9",Y="_click-for-more-mask_153dg_15",q="_click-for-more-text_153dg_22",X="_seen-state_153dg_32",Z="_overflow-message-wrapper_153dg_39";class ee extends r.reactExports.Component{render(){const{upselling:e,displayName:t,seenState:o,avatarColor:s,intl:n}=this.props;return r.reactExports.createElement("div",{className:J},e?r.reactExports.createElement("div",{className:Q,style:{backgroundColor:s}},r.reactExports.createElement("div",{className:Y}),r.reactExports.createElement("div",{className:q},r.reactExports.createElement(a.Text,{color:"text-inverted",size:"small",fontWeight:"medium"},n.formatMessage({id:"ozBFaQ",defaultMessage:"Click for more"})))):null,r.reactExports.createElement("div",{className:X,style:{backgroundColor:s}},r.reactExports.createElement(a.Text,{color:"text-inverted",size:"small",fontWeight:"medium",textAlign:"center"},t),r.reactExports.createElement(a.Text,{color:"text-inverted",size:"small",fontWeight:"normal",textAlign:"center"},o)))}}ee.displayName="ProfileCardTooltipContent";class te extends r.reactExports.Component{render(){return r.reactExports.createElement("div",{className:Z},r.reactExports.createElement(a.Text,{color:"text-inverted",size:"small",fontWeight:"medium"},this.props.overflowMessage))}}te.displayName="OverflowTooltipContent";const re=t.connect((e=>({upselling:!t.isPromptDismissed(e,"tooltip_click_for_more")})),(()=>({})),((e,t,r)=>Object.assign(Object.assign({},e),r)))(ee);e.IconAdminsymbol=d,e.OverflowTooltipContent=te,e.StatefulProfileCardTooltipContent=re,e.StatefulProfileCardWithWrapper=V,e.composeEmail=e=>{t.open_mail(`mailto:${e.to||""}`)},e.notify=K}));
//# sourceMappingURL=c_integrations_profile_card_tooltip.js-vflIsbiw-.map
