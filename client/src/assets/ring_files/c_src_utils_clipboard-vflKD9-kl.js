define(["exports","./e_ui_page_files_router","./e_edison","./c_hooks_lib_index","./c_sharing_settings_utils_sharing_settings_util","./c_components_icons_icon_dropdown_selected","./c_truncate_index","./c_components_sharing_modal_banner","./c_tslib","./c_core_i18n","./c_src_utils_logging","./c_es_src_dropbox","./c_browser_cookies","./c_typeahead_index"],(function(e,t,a,s,n,r,i,o,l,c,d,g,u,p){"use strict";const _="expires",m="allow_download",E="default",h="audience",f="require_password",b="dropdown",A="toggle",v="button";class S extends a.reactExports.Component{render(){const e=this.props.optionsDict[this.props.currentValue].label;return a.reactExports.createElement(t.Menu.Wrapper,{className:"sharing-settings-dropdown",onSelection:e=>{e!==this.props.currentValue&&this.props.onValueSelected(e)}},(({getContentProps:s,getTriggerProps:n})=>a.reactExports.createElement(a.reactExports.Fragment,null,a.reactExports.createElement(t.Button$1,Object.assign({},n(),{withDropdownIcon:!0,variant:"opacity",disabled:this.props.disabled}),a.reactExports.createElement(i.Truncate,{maxWidth:180},e)),a.reactExports.createElement(t.Menu.Content,Object.assign({"data-sharing-sdk":"1"},s()),a.reactExports.createElement(t.Menu.Segment,null,this.props.valuesList.map((e=>a.reactExports.createElement(t.Menu.ActionItem,{key:e,value:e,"aria-label":this.props.optionsDict[e].label,className:e===this.props.currentValue?"selected":""},a.reactExports.createElement("div",{style:{width:"250px",marginBottom:"8px"}},a.reactExports.createElement("div",{style:{display:"flex",flexDirection:"row",alignItems:"center"}},e===this.props.currentValue?a.reactExports.createElement(r.IconDropdownSelected,{className:"scl-sharing-dropdown-menu-item-dig__path-color"}):null,a.reactExports.createElement(t.Text,{isBold:!0,className:e===this.props.currentValue?"scl-sharing-dropdown-menu-item-dig__selected-color":"",style:{marginLeft:e===this.props.currentValue?"12px":"24px"}},this.props.optionsDict[e].label)),a.reactExports.createElement("div",{style:{marginLeft:"24px",marginTop:"4px"}},a.reactExports.createElement(t.Text,{color:"faint",size:"small",tagName:"div",style:{lineHeight:"18px"}},this.props.optionsDict[e].description)))))))))))}}S.displayName="SettingDropdown";class x extends a.reactExports.PureComponent{constructor(){super(...arguments),this.handleLinkClicked=e=>{e.preventDefault(),this.props.descriptionLinkOnClicked&&this.props.descriptionLinkUrl&&this.props.descriptionLinkOnClicked(this.props.descriptionLinkUrl)}}render(){const{policyFieldName:e,className:s,rightSideElement:n,bottomElement:r}=this.props,i=t.cx("scl-sharing-modal-settings-row",s);return a.reactExports.createElement("div",{className:i,"data-testid":e},a.reactExports.createElement("div",{className:"scl-sharing-modal-settings-row-outer"},a.reactExports.createElement("div",{className:"scl-sharing-modal-settings-row-info"},a.reactExports.createElement("div",{className:"scl-sharing-modal-settings-row-display-name"},a.reactExports.createElement("span",{className:"scl-sharing-modal-settings-row-info-display-name-title",title:this.props.displayNameTitle},this.props.displayName)),a.reactExports.createElement("div",{className:"scl-sharing-modal-settings-row-details"},a.reactExports.createElement("span",{className:"scl-sharing-modal-settings-row-details-span",title:this.props.description},this.props.description,this.props.descriptionLinkUrl&&this.props.descriptionLinkText&&a.reactExports.createElement("span",null," ",a.reactExports.createElement("a",{className:"scl-sharing-modal-settings-row-description-link",href:"#",onClick:this.handleLinkClicked},this.props.descriptionLinkText))))),n&&a.reactExports.createElement("div",{className:"scl-sharing-modal-settings-right-element"},n)),r&&a.reactExports.createElement("div",{className:"scl-sharing-modal-settings-bottom-element"},r))}}x.displayName="SharingModalSettingsRow";const T="scl-card";class M extends a.reactExports.PureComponent{render(){const{className:e}=this.props,s=t.cx(T,e);return a.reactExports.createElement("div",{className:s},this.renderHeader(),this.renderBody())}renderHeader(){if(this.props.icon||this.props.title||this.props.actions)return a.reactExports.createElement("div",{className:`${T}__header`},this.props.icon&&a.reactExports.createElement("div",{className:`${T}__icon`},this.props.icon),this.props.title&&a.reactExports.createElement("div",{className:`${T}__title`},this.props.title),this.props.actions&&a.reactExports.createElement("div",{className:`${T}__actions`},this.props.actions))}renderBody(){return a.reactExports.createElement("div",{className:`${T}__body`},this.props.children)}}M.displayName="Card";const y=e=>{const{policyName:t,policyDict:s,selector:n,onLinkClicked:r,extra:i,className:o}=e;return a.reactExports.createElement(x,{policyFieldName:t,key:s.title,displayName:s.title,displayNameTitle:s.title,description:s.description,descriptionLinkUrl:s.descriptionLinkUrl,descriptionLinkText:s.descriptionLinkText,descriptionLinkOnClicked:r,rightSideElement:n,bottomElement:i,className:o})};let O;const k=e=>{const s=a.reactExports.useMemo((()=>(O++,`settings-toggle-id-${O}`)),[]),{currentValue:n,optionsDict:r,disabled:i}=e,o=r[n].label;return a.reactExports.createElement(a.reactExports.Fragment,null,a.reactExports.createElement("p",{style:{display:"flex",justifyContent:"flex-end"}},a.reactExports.createElement(t.Text,{tagName:"label",color:"faint",style:{marginRight:"8px"},htmlFor:s},o),a.reactExports.createElement(t.Toggle,{id:s,"aria-label":r[n].label,className:"sharing-settings-modal__toggle",isToggled:r[n].value,disabled:i,onChange:t=>{i||e.onOptionChange(!r[n].value,t)}})))},C=e=>{const{intl:t,linkMetadata:r,linkPolicy:i,onPolicyUpdate:o}=e,l=(e=>{const{linkMetadata:t,linkPolicy:a}=e,s=new Date;let r;if(n.isExternalAudience(a.audience)){const{days_to_expire_policy:e}=t.link_permissions;n.isExpirationPolicyEnforcedByAdmin(t.link_permissions)&&(r=new Date(s.getFullYear(),s.getMonth(),s.getDate()+n.daysExpirationPolicyToNumber[e]))}return{before:new Date(s.getFullYear(),s.getMonth(),s.getDate()+1),after:r}})(e),c=i.expires||new Date;return a.reactExports.createElement("div",{className:"sharing-settings-modal__input_spacing"},a.reactExports.createElement(s.DatePickerInput,{value:c,disabled:!n.canModifyExpire(r)||e.readOnlyPolicy,isDateBlocked:e=>e<l.before||!!(l.after&&e>l.after),onChange:e=>{e&&o({expires:e,display_expiration_warning:!1})},dayLabelFormat:a.reactExports.useCallback((e=>t.formatDate(e,{day:"2-digit"})),[t]),monthLabelFormat:e=>t.formatDate(e,{month:"long",year:"numeric"}),weekdayLabelFormat:e=>t.formatDate(e,{weekday:"narrow"})}))},I=e=>{const{linkPolicy:t,linkMetadata:s,getPolicyDict:r,onPolicyUpdate:i}=e,o=r(_),l=null!=e.linkPolicy.expires?"enabled":"disabled",{days_to_expire_policy:c}=s.link_permissions;return a.reactExports.createElement(k,{currentValue:l,optionsDict:o.optionsDict,onOptionChange:(e,a)=>{let r=null;e&&(r=t.expires,t.expires||(r=n.daysAfterToday(n.isExternalAudience(t.audience)&&n.isExpirationPolicySetByAdmin(s.link_permissions)?n.daysExpirationPolicyToNumber[c]:30))),i({expires:r,display_expiration_warning:!1})},disabled:N(s,t)||e.readOnlyPolicy})},N=(e,t)=>!n.canToggleExpire(e)||n.isExternalAudience(t.audience)&&n.isExpirationPolicyEnforcedByAdmin(e.link_permissions),w=(e,t)=>n.isPasswordPolicyEnforcedByAdmin(e)&&n.isExternalAudience(t);function L(e,t){return t.link_password||""===t.link_password?t.link_password:n.hasLinkPassword(e)?"123456":""}const R=e=>{const{intl:s,linkPolicy:r,linkPermissions:i,onPolicyUpdate:o}=e;return a.reactExports.createElement("div",{className:"sharing-settings-modal__input_spacing"},a.reactExports.createElement(t.TextInput,{role:"textbox",autoFocus:!0,className:"password-input__input",disabled:!n.canModifyPassword(i)||e.readOnlyPolicy,placeholder:s.formatMessage({id:"um5odk",defaultMessage:"Set password"}),name:"link_password",onChange:e=>{o({[e.target.name]:e.target.value})},type:"password",isInvalid:!r.link_password,value:L(i,r)}))};class D{constructor(e){if(!(this instanceof D))return new D(e);this.s=e,this.info=this.widthInfo(),this.length=e.length?this.info[this.s.length-1]:0}static initClass(){this.ACCURACY=2,this.CODEPOINT_TO_WIDTH={32:38,33:25,34:42,35:67,36:58,37:92,38:75,39:25,40:33,41:33,42:58,43:58,44:25,45:33,46:25,47:42,48:58,49:58,50:58,51:58,52:58,53:58,54:58,55:58,56:58,57:58,58:25,59:25,60:58,61:58,62:58,63:50,64:100,65:67,66:67,67:67,68:75,69:58,70:58,71:75,72:83,73:33,74:25,75:67,76:58,77:100,78:83,79:83,80:67,81:83,82:67,83:58,84:58,85:75,86:67,87:100,88:67,89:58,90:58,91:33,92:42,93:33,94:58,95:50,96:67,97:58,98:67,99:50,100:67,101:58,102:33,103:58,104:67,105:25,106:25,107:58,108:25,109:100,110:67,111:67,112:67,113:67,114:42,115:50,116:42,117:67,118:58,119:83,120:58,121:58,122:50,123:42,124:58,125:42,126:58,161:25,162:58,163:58,164:58,165:58,166:58,167:58,168:67,169:92,170:42,171:50,172:58,174:92,175:58,176:50,177:58,178:42,179:42,180:67,181:67,182:75,183:25,184:25,185:42,186:42,187:50,188:83,189:83,190:83,191:50,192:67,193:67,194:67,195:67,196:67,197:67,198:92,199:67,200:58,201:58,202:58,203:58,204:33,205:33,206:33,207:33,208:75,209:83,210:83,211:83,212:83,213:83,214:83,215:58,216:83,217:75,218:75,219:75,220:75,221:58,222:67,223:67,224:58,225:58,226:58,227:58,228:58,229:58,230:92,231:50,232:58,233:58,234:58,235:58,236:25,237:25,238:25,239:25,240:67,241:67,242:67,243:67,244:67,245:67,246:67,247:58,248:67,249:67,250:67,251:67,252:67,253:58,254:67,255:58,256:75,257:67,258:75,259:67,260:75,261:67,262:75,263:58,264:75,265:58,266:75,267:58,268:75,269:58,270:83,271:83,272:83,273:75,274:67,275:67,276:67,277:67,278:67,279:67,280:67,281:67,282:67,283:67,284:83,285:75,286:83,287:75,288:83,289:75,290:83,291:75,292:83,293:75,294:92,295:75,296:33,297:33,298:33,299:33,300:33,301:33,302:33,303:33,304:33,305:25,306:67,307:67,308:42,309:33,310:75,311:67,312:67,313:58,314:33,315:58,316:33,317:58,318:42,319:58,320:50,321:67,322:42,323:83,324:75,325:83,326:75,327:83,328:75,329:83,330:83,331:75,332:92,333:67,334:92,335:67,336:92,337:67,338:100,339:100,340:75,341:50,342:75,343:50,344:75,345:50,346:67,347:58,348:67,349:58,350:67,351:58,352:67,353:58,354:75,355:42,356:75,357:42,358:75,359:42,360:83,361:75,362:83,363:75,364:83,365:75,366:83,367:75,368:83,369:75,370:83,371:75,372:100,373:92,374:75,375:58,376:75,377:67,378:67,379:67,380:67,381:67,382:67,383:42,384:75,385:83,386:67,387:75,388:75,389:67,390:75,391:83,392:58,393:83,394:100,395:67,396:75,397:67,398:67,399:75,400:58,401:58,402:75,403:83,404:75,405:100,406:50,407:50,408:75,409:67,410:50,411:67,412:117,413:83,414:75,415:92,416:92,417:75,418:117,419:100,420:75,421:75,422:75,423:67,424:58,425:67,426:58,427:42,428:75,429:42,430:75,431:83,432:75,433:92,434:83,435:75,436:75,437:67,438:67,439:67,440:67,441:58,442:58,443:75,444:75,445:58,446:50,447:67,448:33,449:50,450:50,451:33,452:142,453:142,454:133,455:100,456:92,457:67,458:117,459:117,460:100,461:75,462:67,463:33,464:33,465:92,466:67,467:83,468:75,469:83,470:75,471:83,472:75,473:83,474:75,475:83,476:75,477:67,478:75,479:67,480:75,481:67,482:100,483:100,484:92,485:75,486:83,487:75,488:75,489:67,490:92,491:67,492:92,493:67,494:67,495:58,496:33,497:142,498:142,499:133,500:83,501:75,502:117,503:67,504:83,505:75,506:75,507:67,508:100,509:100,510:92,511:67,512:75,513:67,514:75,515:67,516:67,517:67,518:67,519:67,520:33,521:33,522:33,523:33,524:92,525:67,526:92,527:67,528:75,529:50,530:75,531:50,532:83,533:75,534:83,535:75,536:67,537:58,538:75,539:42,540:58,541:58,542:83,543:75,544:83,545:100,546:92,547:67,548:67,549:67,550:75,551:67,552:67,553:67,554:92,555:67,556:92,557:67,558:92,559:67,560:92,561:67,562:75,563:58,564:67,565:100,566:67,567:33,568:100,569:100,570:75,571:75,572:58,573:58,574:67,575:58,576:58,577:67,578:50,579:75,580:75,581:75,582:75,583:58,584:58,585:25,586:83,587:58,588:75,589:33,590:75,591:58,880:67,881:50,882:67,883:50,884:33,885:33,886:75,887:67,888:108,889:108,890:67,891:58,892:58,893:58,894:42,895:108,896:108,897:108,898:108,899:108,900:67,901:67,902:75,903:42,904:83,905:100,906:58,907:108,908:100,909:108,910:100,911:100,912:42,913:75,914:67,915:58,916:83,917:67,918:67,919:83,920:92,921:33,922:75,923:75,924:100,925:83,926:75,927:92,928:83,929:67,930:108,931:67,932:75,933:75,934:83,935:75,936:83,937:92,938:33,939:75,940:83,941:58,942:75,943:42,944:67,945:83,946:67,947:67,948:67,949:58,950:75,951:75,952:67,953:42,954:67,955:67,956:75,957:67,958:67,959:67,960:92,961:67,962:67,963:75,964:67,965:67,966:92,967:67,968:92,969:100,970:42,971:67,972:67,973:67,974:100,975:108,976:58,977:75,978:75,979:100,980:75,981:92,982:100,983:67,984:92,985:67,986:75,987:58,988:58,989:58,990:67,991:58,992:75,993:92,994:100,995:92,996:75,997:58,998:75,999:58,1e3:75,1001:75,1002:67,1003:67,1004:83,1005:58,1006:50,1007:42,1008:67,1009:67,1010:58,1011:33,1012:92,1013:58,1014:58,1015:67,1016:67,1017:75,1018:100,1019:83,1020:58,1021:75,1022:75,1023:75,1024:67,1025:67,1026:92,1027:58,1028:75,1029:67,1030:33,1031:33,1032:42,1033:108,1034:108,1035:83,1036:75,1037:83,1038:75,1039:83,1040:75,1041:67,1042:67,1043:58,1044:83,1045:67,1046:92,1047:67,1048:83,1049:83,1050:75,1051:83,1052:100,1053:83,1054:92,1055:83,1056:67,1057:75,1058:75,1059:75,1060:83,1061:75,1062:83,1063:75,1064:108,1065:108,1066:75,1067:92,1068:67,1069:75,1070:108,1071:75,1072:67,1073:67,1074:58,1075:58,1076:75,1077:67,1078:83,1079:58,1080:75,1081:75,1082:67,1083:67,1084:83,1085:75,1086:67,1087:75,1088:75,1089:58,1090:58,1091:58,1092:92,1093:67,1094:75,1095:58,1096:92,1097:100,1098:67,1099:83,1100:58,1101:58,1102:92,1103:58,1104:67,1105:67,1106:75,1107:58,1108:58,1109:58,1110:33,1111:33,1112:42,1113:92,1114:92,1115:75,1116:67,1117:75,1118:58,1119:75,1120:100,1121:75,1122:75,1123:67,1124:83,1125:83,1126:75,1127:67,1128:100,1129:92,1130:92,1131:83,1132:117,1133:108,1134:67,1135:67,1136:83,1137:83,1138:92,1139:67,1140:83,1141:67,1142:83,1143:67,1144:133,1145:125,1146:92,1147:67,1148:100,1149:75,1150:100,1151:75,1152:75,1153:58,1154:75,1155:0,1156:0,1157:0,1158:0,1159:108,1160:0,1161:0,1162:83,1163:75,1164:67,1165:58,1166:67,1167:75,1168:58,1169:58,1170:67,1171:58,1172:75,1173:67,1174:100,1175:92,1176:67,1177:58,1178:75,1179:67,1180:83,1181:75,1182:75,1183:67,1184:83,1185:75,1186:83,1187:75,1188:100,1189:83,1190:117,1191:100,1192:92,1193:75,1194:75,1195:58,1196:75,1197:58,1198:75,1199:58,1200:75,1201:58,1202:75,1203:75,1204:100,1205:83,1206:75,1207:67,1208:75,1209:67,1210:75,1211:58,1212:92,1213:75,1214:92,1215:75,1216:33,1217:92,1218:83,1219:75,1220:67,1221:83,1222:67,1223:83,1224:75,1225:83,1226:75,1227:75,1228:58,1229:100,1230:83,1231:25,1232:75,1233:67,1234:75,1235:67,1236:100,1237:100,1238:67,1239:67,1240:75,1241:67,1242:75,1243:67,1244:92,1245:83,1246:67,1247:58,1248:67,1249:58,1250:83,1251:75,1252:83,1253:75,1254:92,1255:67,1256:92,1257:67,1258:92,1259:67,1260:75,1261:58,1262:75,1263:58,1264:75,1265:58,1266:75,1267:58,1268:75,1269:58,1270:58,1271:42,1272:92,1273:83,1274:58,1275:42,1276:75,1277:58,1278:75,1279:58,2026:67,19977:108,65403:58},this._ELLIPSIS_LENGTH=new D("…").length}static em_snippet(e,t,a){return null==t&&(t=50),null==a&&(a=.75),new D(e.toString()).snippet(t,a).toString()}widthInfo(){const e={"-1":0};for(let t=0,a=this.s.length,s=0<=a;s?t<a:t>a;s?t++:t--)e[t]=e[t-1]+this.ems(this.s.charAt(t));return e}findSpot(e){let t;if(!e)return 0;let a=0,s=this.s.length;for(;a<=s;){t=Math.floor(a/2+s/2);const n=this.info[t-1];if(n>e)s=t-1;else{if(!(n<e))return t;a=t+1}}return a>t?a:t}ems(e){const t=e.charCodeAt(0),a=D.CODEPOINT_TO_WIDTH[t];return a?a/Math.pow(10,D.ACCURACY):768<=t&&t<=879?0:65377<=t&&t<=65500?.58:11904<=t&&t<=40911||44032<=t&&t<=55215||4352<=t&&t<=4607||63744<=t&&t<=64255||65280<=t&&t<=65535||131072<=t&&t<=196607?1.08:.65}substr(e,t){const a=this.findSpot(e);if(null!=t){let s=this.findSpot(e+t);if(s-a<this.s.length){const e=this.s.charCodeAt(s-a);65024<=e&&e<=65039&&s--}return new D(this.s.substr(a,s-a))}return new D(this.s.substr(a))}toString(){return this.s}snippet(e=50,t=.75){if(this.length<=e)return this;const a=(e-=D._ELLIPSIS_LENGTH)*t,s=e-a,n=this.length-s,r=this.substr(0,a),i=this.substr(n);return new D(r.toString()+"…"+i.toString())}}D.initClass();class P extends a.reactExports.Component{render(){const e=this.props.linkPermissions.resolved_visibility,t=this.props.linkPermissions.audience_options[0].disallowed_reason;return t!==n.LinkAudienceDisallowedReason.RestrictedBySharedFolder&&t!==n.LinkAudienceDisallowedReason.DeleteAndRecreate?null:a.reactExports.createElement(o.SharingModalBanner,{className:"sharing-settings-modal__banner",type:"default",message:a.reactExports.createElement("span",null,a.reactExports.createElement("span",{className:"shared-link-settings-modal__audience-disallowed-text"},this.audienceDisallowedText(e))," ",a.reactExports.createElement("span",{className:"shared-link-settings-modal__audience-disallowed-advice u-font-meta"},this.audienceDisallowedAdviceText(t)))})}audienceDisallowedText(e){if(e===n.ResolvedVisibilityPolicy.shared_folder_only){let e=this.props.linkPermissions.restricting_shared_folder_path;return void 0!==e?(e=D.em_snippet(e,t.SNIPPET_SIZES.FILENAME),this.props.intl.formatMessage({id:"Wzk4tW",defaultMessage:"Only members of the shared folder “{shared_folder_name}” can view this link."},{shared_folder_name:e})):void 0}return e===n.ResolvedVisibilityPolicy.only_you?this.props.intl.formatMessage({id:"kp9e20",defaultMessage:"Only you can view this link."}):void 0}audienceDisallowedAdviceText(e){return e===n.LinkAudienceDisallowedReason.RestrictedBySharedFolder?this.props.intl.formatMessage({id:"D2VN2I",defaultMessage:"To change who can access the link, go to the shared folder options."}):e===n.LinkAudienceDisallowedReason.DeleteAndRecreate?this.props.intl.formatMessage({id:"HbDkss",defaultMessage:"To change who can access the link, delete this link and create a new one."}):void 0}}P.displayName="RestrictedVisibilityBanner";const j=e=>{const{linkPermissions:s,linkPolicy:r,getPolicyDict:i,onPolicyUpdate:o}=e,l=r.audience||"",c=s.audience_options.filter((e=>!((e,a)=>"public"===e&&n.isPasswordPolicyEnforcedByAdmin(a)&&!t.isRighteousLink(a))(e.audience,s)&&e.allowed)).map((e=>e.audience)),d=i(h),g=c.length>1;return a.reactExports.createElement(S,{currentValue:l,valuesList:c,optionsDict:d.optionsDict,onValueSelected:e=>{const t={audience:e};!function(e,t,a,s){if(n.isExternalAudience(e)){if(n.isExpirationPolicySetByAdmin(t)){const e=new Date,r=new Date(e.getFullYear(),e.getMonth(),e.getDate()+n.daysExpirationPolicyToNumber[t.days_to_expire_policy]);(!a.expires||a.expires>r)&&(s.expires=r,s.display_expiration_warning=!0)}n.isPasswordPolicyEnforcedByAdmin(t)&&!a.require_password&&(s.require_password=!0,"public"===e&&(s.display_password_warning=!0))}else s.display_expiration_warning=!1,s.display_password_warning=!1}(e,s,r,t),o(t)},disabled:!g||e.readOnlyPolicy})};function F(e){const t="password"===e.linkPolicy.audience;return a.reactExports.createElement("div",null,a.reactExports.createElement(j,Object.assign({},e)),t&&a.reactExports.createElement(R,Object.assign({},e)))}function $(e){return Boolean(e&&e.allow_download?e.can_disallow_download:e.can_allow_download)}const H=e=>{const{linkPolicy:t,onPolicyUpdate:s,getPolicyDict:n,linkPermissions:r}=e,i=t.allow_download?"disabled":"enabled",o=n(m);return a.reactExports.createElement(k,{currentValue:i,optionsDict:o.optionsDict,onOptionChange:(e,t)=>{s(m,!e)},disabled:!$(r)||e.readOnlyPolicy})},V={default:"transparent",active:"#D0D4D9",edit:"transparent",view:"transparent"},B=()=>a.reactExports.createElement("g",{stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},a.reactExports.createElement("g",{transform:"translate(-24.000000, -8.000000)"},a.reactExports.createElement("g",null,a.reactExports.createElement("g",{transform:"translate(24.000000, 8.000000)"},a.reactExports.createElement("circle",{stroke:"#D0D4D9",strokeWidth:"1.32",cx:"16",cy:"16",r:"15.34"}),a.reactExports.createElement("path",{d:"M21.0859375,13.1015625 L20.0195312,14.1679688 L17.8320312,11.9804688\n                L18.8984375,10.9140625 C19.007813,10.804687 19.1445304,10.75 19.3085938,10.75\n                C19.4726571,10.75 19.6093745,10.804687 19.71875,10.9140625 L21.0859375,12.28125\n                C21.195313,12.3906255 21.25,12.5273429 21.25,12.6914062 C21.25,12.8554696\n                21.195313,12.992187 21.0859375,13.1015625 Z M10.75,19.0625 L17.203125,12.609375\n                L19.390625,14.796875 L12.9375,21.25 L10.75,21.25 L10.75,19.0625 Z",fill:"#6A7C8F"}))))),U=()=>a.reactExports.createElement("g",{stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},a.reactExports.createElement("g",{transform:"translate(-24.000000, -8.000000)"},a.reactExports.createElement("g",null,a.reactExports.createElement("g",{transform:"translate(24.000000, 8.000000)"},a.reactExports.createElement("circle",{stroke:"#D0D4D9",strokeWidth:"1.32",cx:"16",cy:"16",r:"15.34"}),a.reactExports.createElement("path",{d:"M14.7695312,14.7695312 C15.1158871,14.4231754 15.5260393,14.25 16,14.25\n                  C16.4739607,14.25 16.8841129,14.4231754 17.2304688,14.7695312 C17.5768246,\n                  15.1158871 17.75,15.5260393 17.75,16 C17.75,16.4739607 17.5768246,16.8841129\n                  17.2304688,17.2304688 C16.8841129,17.5768246 16.4739607,17.75 16,17.75 C15.5260393,\n                  17.75 15.1158871,17.5768246 14.7695312,17.2304688 C14.4231754,16.8841129 14.25,\n                  16.4739607 14.25,16 C14.25,15.5260393 14.4231754,15.1158871 14.7695312,14.7695312\n                  Z M13.921875,18.078125 C14.5052113,18.643232 15.1979127,18.9257812 16,18.9257812\n                  C16.8020873,18.9257812 17.4902315,18.6386747 18.0644531,18.0644531 C18.6386747,\n                  17.4902315 18.9257812,16.8020873 18.9257812,16 C18.9257812,15.1979127 18.6386747,\n                  14.5097685 18.0644531,13.9355469 C17.4902315,13.3613253 16.8020873,13.0742188 16,\n                  13.0742188 C15.1979127,13.0742188 14.5097685,13.3613253 13.9355469,13.9355469\n                  C13.3613253,14.5097685 13.0742188,15.1979127 13.0742188,16 C13.0742188,16.8020873\n                  13.356768,17.4947887 13.921875,18.078125 Z M12.0898438,12.828125 C13.2565163,\n                  12.0260377 14.5598886,11.625 16,11.625 C17.4401114,11.625 18.7434837,12.0260377\n                  19.9101562,12.828125 C21.0768288,13.6302123 21.915362,14.6874934 22.4257812,16\n                  C21.915362,17.3125066 21.0768288,18.3697877 19.9101562,19.171875 C18.7434837,\n                  19.9739623 17.4401114,20.375 16,20.375 C14.5598886,20.375 13.2565163,19.9739623\n                  12.0898438,19.171875 C10.9231712,18.3697877 10.084638,17.3125066 9.57421875,\n                  16 C10.084638,14.6874934 10.9231712,13.6302123 12.0898438,12.828125 Z",fill:"#667C91"}))))),G=()=>a.reactExports.createElement("g",{fill:"#6A7C8F",transform:"translate(16.071068, 16.071068) rotate(-315.000000)\n                  translate(-16.071068, -16.071068) translate(13.071068, 9.071068)"},a.reactExports.createElement("path",{d:"M5.98487348,4.76239943 L4.58487348,4.76239943 L4.58487348,3.36107038\n                      C4.58487348,2.58309388 3.95807213,1.96239943 3.18487348,1.96239943\n                      C2.40628423,1.96239943 1.78487348,2.58860575 1.78487348,3.36107038\n                      L1.78487348,6.16372849 C1.78487348,6.94170499 2.41167483,7.56239943\n                      3.18487348,7.56239943 L3.18487348,8.96239943 C1.63847618,8.96239943\n                      0.384873479,7.70483456 0.384873479,6.16532106 L0.384873479,3.3594778\n                      C0.384873479,1.81469408 1.64162279,0.562399434 3.18487348,0.562399434\n                      C4.73127078,0.562399434 5.98487348,1.81996431 5.98487348,3.3594778\n                      L5.98487348,4.76239943 Z"}),a.reactExports.createElement("path",{d:"M0.384873479,9.66239943 L1.78487348,9.66239943 L1.78487348,11.0637285\n                      C1.78487348,11.841705 2.41167483,12.4623994 3.18487348,12.4623994\n                      C3.96346273,12.4623994 4.58487348,11.8361931 4.58487348,11.0637285\n                      L4.58487348,8.26107038 C4.58487348,7.48309388 3.95807213,6.86239943\n                      3.18487348,6.86239943 L3.18487348,5.46239943 C4.73127078,5.46239943\n                      5.98487348,6.71996431 5.98487348,8.2594778 L5.98487348,11.0653211\n                      C5.98487348,12.6101048 4.72812417,13.8623994 3.18487348,13.8623994\n                      C1.63847618,13.8623994 0.384873479,12.6048346 0.384873479,11.0653211\n                      L0.384873479,9.66239943 Z"})),W=e=>{var{className:s}=e,n=l.__rest(e,["className"]);return a.reactExports.createElement("div",Object.assign({className:t.cx("scl-scooter-loader",s)},n),a.reactExports.createElement("div",{className:"scl-scooter-loader-animation"}))};W.displayName="ScooterLoader";const K="scl-banner";class z extends a.reactExports.PureComponent{render(){const{variant:e="default",className:s,showTopCaret:n,children:r}=this.props,i=t.cx(K,s,{"scl-banner--transparent-left":"transparent-left"===e});return a.reactExports.createElement("div",{className:i},n&&a.reactExports.createElement("div",{className:K+"__caret-up"}),a.reactExports.createElement("div",{className:K+"__container"},r))}}z.displayName="Banner";const q="scl-sharing-modal-downgrade-banner";class Z extends a.reactExports.PureComponent{render(){const{subheader:e,header:s,onClickOutlineButton:n,onClickTransparentButton:r,outlineButtonLabel:i,transparentButtonLabel:o,showCloseButton:l}=this.props;return a.reactExports.createElement("div",{className:`${q} dig-Theme---VIS`},a.reactExports.createElement("div",{className:`${q}__header`},a.reactExports.createElement(t.Text,{isBold:!0,size:"large"},s),l&&this.renderCloseButton()),a.reactExports.createElement("div",{className:`${q}__subheader`},a.reactExports.createElement(t.Text,null,e)),a.reactExports.createElement("div",{className:`${q}__buttons`},a.reactExports.createElement(t.Button$1,{variant:"outline",onClick:n},i),a.reactExports.createElement(t.Button$1,{variant:"transparent",onClick:r},o)))}renderCloseButton(){return a.reactExports.createElement(t.IconButton,{variant:"transparent","aria-label":"close",className:`${q}__close`,onClick:this.props.onClickCloseButton,size:"standard"},a.reactExports.createElement(t.UIIcon,{src:t.CloseLine}))}}Z.displayName="SharingModalDowngradeBanner";const Y="scl-sharing-modal-header",X=e=>{const{children:s,className:n,closeButtonVisible:r=!1,icon:i,settingsButtonVisible:o=!1}=e,l=t.cx(Y,n);return a.reactExports.createElement("div",{className:l},a.reactExports.createElement("div",{className:`${Y}__icon`},i),a.reactExports.createElement("div",{className:`${Y}__children`},s),o&&a.reactExports.createElement(t.IconButton,{"aria-label":"settings",className:`${Y}__settings`,onClick:e.onClickSettingsButton,variant:"transparent"},a.reactExports.createElement(t.UIIcon,{src:t.SettingsLine})),r&&a.reactExports.createElement(t.IconButton,{"aria-label":"close",className:`${Y}__close`,onClick:e.onClickCloseButton,variant:"transparent"},a.reactExports.createElement(t.UIIcon,{src:t.CloseLine})))},J=e=>{{const{title:s,subTitle:n}=e,r=l.__rest(e,["title","subTitle"]);return a.reactExports.createElement(X,Object.assign({},r),a.reactExports.createElement(t.Text,{size:"standard",isBold:!0,className:`${Y}__title`},s),n&&a.reactExports.createElement("div",{className:`${Y}__sub-title`},n))}};J.displayName="SharingModalHeaderTitle";const Q=e=>{const{forwardedRef:s,inputAriaLabel:n,inputAutoFocus:r,defaultValue:i,inputPlaceholder:o,isContentNameFocused:c,onInputBlur:d,onInputChange:g,onInputFocus:u,onInputKeyUp:p}=e,_=l.__rest(e,["forwardedRef","inputAriaLabel","inputAutoFocus","defaultValue","inputPlaceholder","isContentNameFocused","onInputBlur","onInputChange","onInputFocus","onInputKeyUp"]);return a.reactExports.createElement(X,Object.assign({closeButtonVisible:!0},_),a.reactExports.createElement(t.TextInput,{style:c?void 0:{fontWeight:500},ref:e.forwardedRef,className:`${Y}__input`,"aria-label":n,autoFocus:r,onChange:g,onFocus:u,onBlur:d,onKeyUp:p,placeholder:o,defaultValue:i}),e.children)};Q.displayName="SharingModalHeaderInput";const ee="scl-back-button",te=e=>{const{autoFocus:s,className:n,onBackButtonClick:r,label:i,icon:o}=e,l=t.cx(ee,n);return a.reactExports.createElement("div",{className:l},a.reactExports.createElement(t.Button$1,{hasNoUnderline:!0,"aria-label":"settings",autoFocus:s,className:`${ee}__wrapper`,onClick:r,variant:"transparent"},a.reactExports.createElement(t.UIIcon,{src:o,className:`${ee}__icon`}),a.reactExports.createElement("span",{className:`${ee}__label`},i)))},ae=e=>{const s=`${Y}--with-back-button`;return a.reactExports.createElement(X,Object.assign({className:s},e),a.reactExports.createElement(te,{autoFocus:e.autoFocus,onBackButtonClick:e.onClickBackButton,label:e.label,icon:t.ChevronLeftLine}))};ae.displayName="SharingModalHeaderWithBackButton";const se=e=>{var{children:s,className:n,backgroundColor:r,avatarSize:i=32,variant:o,shape:c}=e,d=l.__rest(e,["children","className","backgroundColor","avatarSize","variant","shape"]);const g=t.cx(`scl-sharing-avatar-initials-${i}-${c}`,{"scl-avatar-text-inactive":"inactive"===o,"scl-sharing-avatar-text":!0},n),u={background:`${r}`,border:`1px solid ${r}`,borderRadius:"square"===c?"12%":"50%",height:`${i}px`,width:`${i}px`};return a.reactExports.createElement("div",Object.assign({className:g,style:u},d),s)};se.displayName="SharingAvatarInitials";const ne="scl-action-container";class re extends a.reactExports.Component{render(){const e=this.props,{banner:s,footer:n,children:r,className:i,header:o,headerSize:c,showBorder:d}=e,g=l.__rest(e,["banner","footer","children","className","header","headerSize","showBorder"]),u=t.cx(i,ne,{[`${ne}--bordered`]:d});return a.reactExports.createElement("div",Object.assign({className:u},g),o&&a.reactExports.createElement("div",{className:`${ne}__header`},a.reactExports.createElement(t.Title,{size:c,isBold:!0},o)),s&&a.reactExports.createElement("div",{className:`${ne}__banner`},s),a.reactExports.createElement("div",{className:`${ne}__children`},r),n&&a.reactExports.createElement("div",{className:`${ne}__footer`},n))}}re.displayName="ActionContainer",re.defaultProps={showBorder:!1};const ie={viewer_no_comment:-10,viewer:1,editor:2,owner:3},oe=(e,t)=>(console.warn("Exaustive typecheck failed."),t),le=(e,t)=>Object.assign({".tag":e},t||{}),ce=e=>le("email",{email:e}),de=e=>"user"===e[".tag"]?""===e.dbx_account_id?`EMAIL:${e.email}`:`DBX_ID:${e.dbx_account_id}`:"group"===e[".tag"]?`DBX_ID:${e.group_id}`:"email"===e[".tag"]?`EMAIL:${e.email}`:oe(0,"UNKNOWN"),ge=e=>"user"===e[".tag"]&&e.photo_url||null,ue={".tag":"viewer"},pe={".tag":"editor"},_e={".tag":"other"},me={".tag":"no_one"},Ee={".tag":"password"},he={".tag":"team"},fe={".tag":"public"},be=e=>!!e.confidential_folder_links_enabled,Ae=a.reactExports.createContext(new g.Dropbox({})),ve=({sdk:e,children:t})=>a.reactExports.createElement(Ae.Provider,{value:e},t);ve.displayName="DropboxSdkProvider";const Se=c.createIntl({locale:"en"});Object.assign(Object.assign({},c.createIntl({locale:"en"})),{formatMessage(...e){const[t,a]=e;return Se.formatMessage(Object.assign(Object.assign({},t),{id:"placeholder"}),a)}});const xe=({children:e,intl:t})=>t?a.reactExports.createElement(c.Provider,{value:t},e):e;xe.displayName="Provider";const Te=(...e)=>{},Me=t.SHARE_ACTION_ORIGIN_TYPE.SHARING_SDK_SANDBOX,ye=a.reactExports.createContext({sink:Te,metadata:{},origin:Me}),Oe=({sink:e,children:t,origin:s})=>{const n=a.reactExports.useMemo((()=>({sink:e,metadata:{},origin:s})),[e,s]);return a.reactExports.createElement(ye.Provider,{value:n},t)};Oe.displayName="Provider";const ke=()=>{const e=a.reactExports.useContext(ye);return a.reactExports.useCallback(((t,a)=>{const s={type:t,payload:a};e.sink(s,e.metadata,e.origin)}),[e])},Ce=e=>{var{children:t}=e,s=l.__rest(e,["children"]);const n=a.reactExports.useContext(ye),[r]=a.reactExports.useState({sink:n.sink,metadata:{},origin:n.origin});return r.metadata=Object.assign(Object.assign({},n.metadata),s),a.reactExports.createElement(ye.Provider,{value:r},t)};var Ie;Ce.displayName="MetadataProvider",e.Platforms=void 0,(Ie=e.Platforms||(e.Platforms={})).SANDBOX="SANDBOX",Ie.METASERVER="METASERVER",Ie.PAPER="PAPER",Ie.DESKTOP="DESKTOP";const Ne=a.reactExports.createContext(e.Platforms.SANDBOX),we=({platform:e,children:t})=>a.reactExports.createElement(Ne.Provider,{value:e},t);we.displayName="Provider";const Le=()=>a.reactExports.useContext(Ne),Re=a.reactExports.createContext({redirectWindowToken:null}),De=()=>a.reactExports.useContext(Re).redirectWindowToken,Pe=e=>{var{children:t}=e,s=l.__rest(e,["children"]);const n=a.reactExports.useMemo((()=>({redirectWindowToken:s.redirectWindowToken})),[s.redirectWindowToken]);return a.reactExports.createElement(Re.Provider,{value:n},t)};function je(e){const t=window.document.createElement("a");t.href=e;let a=t.protocol||window.location.protocol;":"===t.protocol&&(a=window.location.protocol);const s=t.hostname||window.location.hostname;let n=t.port||window.location.port;"443"===n&&"https:"===a&&(n="");let r=s;return n&&(r=r+":"+n),a+"//"+r+(0===t.pathname.indexOf("/")?t.pathname:`/${t.pathname}`)+t.search+t.hash}Pe.displayName="Provider";class Fe{constructor(e,t,a){this.callbacks=[],this.children=[],this.parents=[],this.isActive=!1,this.cancelledCallbacks=new WeakMap,this.tracker=e,this.getter=t,this.setter=a,this.currentValue=this.getter(null),this.previousValue=this.currentValue,this.generation=this.tracker.generation,this.updateValue()}unregisterChild(e){this.children=this.children.filter((t=>t!==e)),this.updateStatus()}registerChild(e){this.children=[...this.children,e],this.updateStatus()}updateStatus(){(this.children.length>0||this.callbacks.length>0)!==this.isActive&&(this.isActive?(this.isActive=!1,this.parents.forEach((e=>e.unregisterChild(this)))):(this.isActive=!0,this.previousValue=this.currentValue,this.parents.forEach((e=>e.registerChild(this)))))}obs(e){const t=(t,a)=>e(t,a);return this.callbacks=[...this.callbacks,t],this.updateStatus(),()=>{this.cancelledCallbacks.set(t,!0),this.callbacks=this.callbacks.filter((e=>e!==t)),this.updateStatus()}}updateValue(){const e=this.parents;if(this.generation=this.tracker.generation,this.tracker.stack.push([]),this.currentValue=this.getter(this.currentValue),this.parents=this.tracker.stack.pop()||[],!this.isActive)return;this.currentValue!==this.previousValue&&(this.tracker.toUpdate=[...this.tracker.toUpdate,...this.children],this.tracker.toNotify=[...this.tracker.toNotify,this]);const t=this.parents,a=t.filter((t=>!e.find((e=>t===e)))),s=e.filter((e=>!t.find((t=>e===t))));a.forEach((e=>e.registerChild(this))),s.forEach((e=>e.unregisterChild(this)))}get(){return(this.tracker.stack[this.tracker.stack.length-1]||[]).push(this),this.generation!==this.tracker.generation&&this.updateValue(),this.currentValue}notify(){if(this.currentValue===this.previousValue)return;const e=this.previousValue;this.previousValue=this.currentValue,this.callbacks.forEach((t=>{this.cancelledCallbacks.has(t)||t(this.currentValue,e)}))}set(e){if(this.tracker.depth++,this.tracker.generation++,this.tracker.toUpdate.push(this),this.setter(e),this.tracker.depth--,0===this.tracker.depth){for(;this.tracker.toUpdate.length>0;){const e=this.tracker.toUpdate;this.tracker.toUpdate=[],e.forEach((e=>e.updateValue()))}for(;this.tracker.toNotify.length>0;){const e=this.tracker.toNotify;this.tracker.toNotify=[],e.forEach((e=>e.notify()))}}}}const $e=new class{constructor(){this.stack=[],this.depth=0,this.generation=0,this.toNotify=[],this.toUpdate=[]}},He=e=>{let t=e;return new Fe($e,(()=>t),(e=>{t=e}))},Ve=(e,t)=>new Fe($e,e,t||(()=>{})),Be=e=>(e=>{const t=new Fe($e,(()=>null),(t=>e(...t)));return(...e)=>t.set(e)})(e)(),Ue=e=>{const[,t]=a.reactExports.useState((()=>e.get()));return a.reactExports.useEffect((()=>e.obs((e=>t(e)))),[e]),e.get()},Ge=(e,t)=>{const s=(e=>{const[t]=a.reactExports.useState((()=>He(e)));return t.set(e),t})(e);return a.reactExports.useState((()=>t(s)))[0]},We=e=>window.open(e,"_blank"),Ke=a.reactExports.createContext(We),ze=({openUrl:e,children:t})=>a.reactExports.createElement(Ke.Provider,{value:e},t);ze.displayName="Provider";const qe=()=>{const e=a.reactExports.useContext(Ke);return a.reactExports.useCallback((t=>{e(t)}),[e])},Ze=e=>e.formatMessage({id:"0NA7+K",defaultMessage:"Close"}),Ye=()=>{const s=c.useIntl(),n=Je(),r=qe(),i=Le()===e.Platforms.DESKTOP?{style:{position:"absolute",bottom:-12,left:0,right:0}}:{};return{showCompleted:e=>n((n=>a.reactExports.createElement(t.Snackbar$1,Object.assign({},n,i),a.reactExports.createElement(t.UIIcon,{src:t.CheckmarkLine}),a.reactExports.createElement(t.Snackbar$1.Message,null,e.message),a.reactExports.createElement(t.Snackbar$1.Actions,null,a.reactExports.createElement(t.Button$1,{variant:"transparent",inverse:!0,onClick:n.onRequestClose},Ze(s)))))),showInProgress:e=>n((s=>a.reactExports.createElement(t.Snackbar$1,Object.assign({},s,i,{timeout:0}),a.reactExports.createElement(t.Spinner,{size:"small",inverse:!0}),a.reactExports.createElement(t.Snackbar$1.Message,null,e.message)))),showFailure:e=>n((n=>{const o=je(e.helpUrl||""),l=a.reactExports.useCallback((()=>{r(o)}),[o]);return a.reactExports.createElement(t.Snackbar$1,Object.assign({},n,i),a.reactExports.createElement(t.UIIcon,{src:t.FailLine}),a.reactExports.createElement(t.Snackbar$1.Message,null,e.message),a.reactExports.createElement(t.Snackbar$1.Actions,null,e.helpMessage&&e.helpUrl?a.reactExports.createElement(t.Button$1,{variant:"transparent",inverse:!0,onClick:l},e.helpMessage):null,a.reactExports.createElement(t.Button$1,{variant:"transparent",inverse:!0,onClick:n.onRequestClose},Ze(s))))}))}},Xe=a.reactExports.createContext({store:{$item:He(null),$props:He({})}}),Je=()=>{const{store:e}=a.reactExports.useContext(Xe);return t=>{var a,s;null===(s=(a=e.$props.get()).onSnackbarShownChange)||void 0===s||s.call(a,!0);const n=Math.random().toString();return e.$item.set({key:n,Snackbar:t}),()=>{var t,a;const s=e.$item.get();s&&s.key===n&&(e.$item.set(null),null===(a=(t=e.$props.get()).onSnackbarShownChange)||void 0===a||a.call(t,!1))}}},Qe=()=>{const e=c.useIntl(),s=(()=>{const e=c.useIntl(),s=Je();return a.reactExports.useCallback((n=>s((s=>a.reactExports.createElement(t.Snackbar$1,Object.assign({},s),a.reactExports.createElement(t.Snackbar$1.Message,null,n),a.reactExports.createElement(t.Snackbar$1.Actions,null,a.reactExports.createElement(t.Button$1,{variant:"transparent",inverse:!0},Ze(e))))))),[e,s])})();return a.reactExports.useCallback((()=>s(e.formatMessage({id:"+iNJRS",defaultMessage:"There was a problem completing this request."}))),[e,s])},et=()=>{const{store:e}=a.reactExports.useContext(Xe),t=Ue(e.$item),s=(e=>{const{store:t}=a.reactExports.useContext(Xe);return a.reactExports.useCallback((()=>{var a,s;const n=t.$item.get();n&&n.key===e&&(t.$item.set(null),null===(s=(a=t.$props.get()).onSnackbarShownChange)||void 0===s||s.call(a,!1))}),[t,e])})(t?t.key:"");return t?a.reactDomExports.createPortal(a.reactExports.createElement("div",{key:t.key,style:{position:"fixed",display:"flex",zIndex:2e4,width:"100%",bottom:"1em",justifyContent:"center"},"data-sharing-sdk":"1"},a.reactExports.createElement(t.Snackbar,{style:{flexGrow:1},key:t.key,open:!0,onRequestClose:s})),document.body):null},tt=({children:e,onSnackbarShownChange:t})=>{const s=Ge({onSnackbarShownChange:t},(e=>({$item:He(null),$props:e})));return a.reactExports.createElement(Xe.Provider,{value:{store:s}},a.reactExports.createElement(a.reactExports.Fragment,null,e,a.reactExports.createElement(et,null)))};tt.displayName="Provider";const at=e=>"boolean"==typeof e,st=e=>"number"==typeof e,nt=e=>"string"==typeof e,rt=e=>!(e=>null===e)(e)&&!(e=>Array.isArray(e))(e)&&"object"==typeof e,it=e=>t=>rt(t)&&Object.entries(e).every((([e,a])=>a(t[e])));var ot;e.Status=void 0,(ot=e.Status||(e.Status={})).SUCCESS="SUCCESS",ot.ERROR="ERROR",ot.FATAL="FATAL";const lt=it({status:st,headers:e=>!0,error:it({error:it({".tag":nt})})}),ct=it({status:st}),dt=t=>l.__awaiter(void 0,void 0,void 0,(function*(){try{const a=yield t;return{status:e.Status.SUCCESS,output:a.result}}catch(t){const a=t;return lt(a)?{status:e.Status.ERROR,error:a.error.error,statusCode:a.status}:ct(t)?{status:e.Status.FATAL,statusCode:t.status,error:t}:{status:e.Status.FATAL,error:t}}})),gt=(e,t)=>({name:e.name,fetch:t,type:"standard"}),ut=gt({name:"sharing_receiving.SharingTiburonLogger"},(e=>t=>{const a=Object.assign(Object.assign({},t),{extras:_t(mt(JSON.stringify(t.extras)))});return dt(e.sharingReceivingSharingTiburonLogger(a))})),pt=e=>e<26?e+65:e<52?e+71:e<62?e-4:62===e?43:63===e?47:65,_t=e=>{let t=2,a="";const s=e.length;let n=0;for(let r=0;r<s;r++)t=r%3,r>0&&4*r/3%76==0&&(a+="\r\n"),n|=e[r]<<(16>>>t&24),2!==t&&e.length-r!=1||(a+=String.fromCodePoint(pt(n>>>18&63),pt(n>>>12&63),pt(n>>>6&63),pt(63&n)),n=0);return a.substr(0,a.length-2+t)+(2===t?"":1===t?"=":"==")},mt=e=>{let t;const a=e.length;let s=0;for(let n=0;n<a;n++)t=e.codePointAt(n),t>65536&&n++,s+=t<128?1:t<2048?2:t<65536?3:t<2097152?4:t<67108864?5:6;const n=new Uint8Array(s);let r=0,i=0;for(;r<s;)t=e.codePointAt(i),t<128?n[r++]=t:t<2048?(n[r++]=192+(t>>>6),n[r++]=128+(63&t)):t<65536?(n[r++]=224+(t>>>12),n[r++]=128+(t>>>6&63),n[r++]=128+(63&t)):t<2097152?(n[r++]=240+(t>>>18),n[r++]=128+(t>>>12&63),n[r++]=128+(t>>>6&63),n[r++]=128+(63&t),i++):t<67108864?(n[r++]=248+(t>>>24),n[r++]=128+(t>>>18&63),n[r++]=128+(t>>>12&63),n[r++]=128+(t>>>6&63),n[r++]=128+(63&t),i++):(n[r++]=252+(t>>>30),n[r++]=128+(t>>>24&63),n[r++]=128+(t>>>18&63),n[r++]=128+(t>>>12&63),n[r++]=128+(t>>>6&63),n[r++]=128+(63&t),i++),i++;return n},Et=le("invite_editor"),ht=le("invite_viewer"),ft=le("invite_viewer_no_comment"),bt=le("create_view_link"),At=le("create_edit_link"),vt=le("change_options"),St=le("relinquish_membership"),xt=le("remove_download_policy"),Tt=le("set_download_policy"),Mt=le("share_message_as_comment"),yt=le("unshare"),Ot=le("enable_viewer_info"),kt=le("disable_viewer_info"),Ct=e=>"file"===e[".tag"],It=e=>"file_folder"===e[".tag"]||"shared_folder"===e[".tag"]||"link_only"===e[".tag"],Nt=e=>"shared_folder"===e[".tag"],wt=e=>"collection"===e[".tag"],Lt=e=>It(e)&&!!e.is_confidential,Rt=e=>It(e)&&!!e.is_team_folder,Dt=e=>!!It(e)&&e.is_inside_team_folder,Pt=e=>e.policy,jt=(e,t)=>{var a;return(null!==(a=e.permissions)&&void 0!==a?a:[]).some((e=>e.action[".tag"]===t[".tag"]&&e.allow))},Ft=(e,t)=>"editor"===t[".tag"]?jt(e,Et):"viewer"===t[".tag"]&&jt(e,ht),$t=(e,t,a)=>((e,t,a,s,n,r,i,o,l)=>!(a||s&&!l)&&("editor"===e[".tag"]?t||n?r:o:"viewer"===e[".tag"]?!!t||(n?r:i):"other"!==e[".tag"]&&oe(0,!1)))(t,It(e),Rt(e),Lt(e),wt(e),jt(e,Et),jt(e,bt),jt(e,At),a),Ht=e=>e.links.find((e=>{var t;return"editor"!==(null===(t=e.link_permissions.link_access_level)||void 0===t?void 0:t[".tag"])}))||null,Vt=e=>e.links.find((e=>{var t;return"editor"===(null===(t=e.link_permissions.link_access_level)||void 0===t?void 0:t[".tag"])}))||null,Bt=(e,t)=>"editor"===t[".tag"]?Vt(e):Ht(e),Ut=e=>{const t=e.link_permissions;if(t.effective_audience)return t.effective_audience;if(!t.resolved_visibility)return fe;switch(t.resolved_visibility[".tag"]){case"public":default:return fe;case"password":case"team_and_password":return Ee;case"shared_folder_only":case"only_you":case"no_one":return me;case"team_only":return he}},Gt=e=>{if(e.access_type)switch(e.access_type[".tag"]){case"owner":return"owner";case"editor":return"writer";default:return"reader"}},Wt=e=>e&&"other"!==e[".tag"]?"viewer"===e[".tag"]?"reader":"writer":null,Kt=e=>{const t={link_id:e.id,link_access_level:(a=e.link_permissions.link_access_level,a?a[".tag"]:ue[".tag"])};var a;const s=(e=>{const t=new URL(e);if(t.search.includes("rlkey"))return{kind:"rlkey",val:t.searchParams.get("rlkey"),link_type:"righteous"};if(t.pathname.includes("/s/")||t.pathname.includes("/sh/")){const e=e=>e.pathname.includes("/raw/")||e.pathname.includes("/dl/")||e.pathname.includes("/print/"),a=e(t)?3:2;return{kind:"tkey",val:t.pathname.split("/")[a],link_type:"shmodel"}}return null})(e.url);return s&&(t[s.kind]=s.val,t.link_type=s.link_type),t},zt=e=>({platform_name:e.platformName,platform_version:e.platformVersion,build_channel:e.buildChannel,build_number:e.buildNumber}),qt=(e,t,a,s)=>{const n=t.shareModalSessionId,r=t.sharingObjectMetadata,i=t.desktopMetadata;return n&&(s=Object.assign(Object.assign({},s),{modal_session_id:n})),t.sharingObjectIdentifier&&("file"===t.sharingObjectIdentifier[".tag"]?s=Object.assign(Object.assign({},s),{file_id:t.sharingObjectIdentifier.fileId}):"shared_folder"===t.sharingObjectIdentifier[".tag"]?s=Object.assign(Object.assign({},s),{ns_id:t.sharingObjectIdentifier.sharedFolderId}):"file_folder"===t.sharingObjectIdentifier[".tag"]?s=Object.assign(Object.assign({},s),{fq_path:t.sharingObjectIdentifier.path}):"collection"===t.sharingObjectIdentifier[".tag"]&&(s=Object.assign(Object.assign({},s),{ns_id:t.sharingObjectIdentifier.nsId,collection_id:t.sharingObjectIdentifier.collectionId}))),r&&r.path_lower&&(s=Object.assign(Object.assign({},s),{fq_path:r.path_lower})),r&&Ct(r)&&(s=Object.assign(Object.assign({},s),{file_id:r.id})),r&&Nt(r)&&(s=Object.assign(Object.assign({},s),{ns_id:r.shared_folder_id})),r&&wt(r)&&(s=Object.assign(Object.assign({},s),{ns_id:r.shared_folder_id,collection_id:r.collectionId})),i&&(s=Object.assign(Object.assign({},s),zt(i))),{share_tiburon_event_type:e,share_tib_action_origin_type:a,extras:s}},Zt=(e,t,a,s)=>{const n=t.shareModalSessionId,r=t.sharingLinkMetadata,i=t.sharingObjectMetadata,o=t.desktopMetadata;return n&&(s=Object.assign(Object.assign({},s),{modal_session_id:n})),r&&(s=Object.assign(Object.assign({},s),Kt(r))),i&&(s=Object.assign(Object.assign({},s),(e=>Object.assign(Object.assign({user_access_type:Gt(e),is_folder:It(e),fq_path:e.path_lower,content_id:Ct(e)?e.id:Nt(e)?e.shared_folder_id:It(e)?e.path_lower:wt(e)?e.collectionId:""},Object.assign({},Nt(e)||wt(e)?{ns_id:e.shared_folder_id}:{})),{can_create_edit_link:jt(e,At),can_create_view_link:jt(e,bt),can_edit_inband_invite:jt(e,Et),can_view_inband_invite:jt(e,ht),max_access:jt(e,At)||jt(e,Et)?"editor":"viewer"}))(i))),o&&(s=Object.assign(Object.assign({},s),zt(o))),{share_tiburon_event_type:e,share_tib_action_origin_type:a,extras:s}},Yt=e=>{const t=a.reactExports.useContext(Ae),s=ke();if("standard"===e.type){const n=a.reactExports.useMemo((()=>e.fetch(t)),[e,t]);return a.reactExports.useCallback((t=>l.__awaiter(void 0,void 0,void 0,(function*(){const a=Math.random().toString();s("ENDPOINT_FETCH_BEGIN",{name:e.name,input:t,id:a});const r=Date.now(),i=yield n(t),o=Date.now();return s("ENDPOINT_FETCH_END",{name:e.name,id:a,latency:o-r,response:i}),i}))),[n,e,s])}{const t=e.useFetch();return a.reactExports.useCallback((a=>l.__awaiter(void 0,void 0,void 0,(function*(){const n=Math.random().toString();s("ENDPOINT_FETCH_BEGIN",{name:e.name,input:a,id:n});const r=Date.now(),i=yield t(a),o=Date.now();return s("ENDPOINT_FETCH_END",{name:e.name,id:n,latency:o-r,response:i}),i}))),[t,e,s])}},Xt=(e,t)=>{let a={is_alpha:!0};return t.sharingAccessLevel&&(a=Object.assign(Object.assign({},a),{access:t.sharingAccessLevel[".tag"]})),e.createSharedLinkStartTime&&(a=Object.assign(Object.assign({},a),{timing:Date.now()-e.createSharedLinkStartTime})),a=Object.assign(Object.assign({},a),{include_ns_creation:!1}),a},Jt=()=>{const e=(()=>{const e=Yt(ut);return{SHARE_MODAL_SHARE__PREVALIDATION__API_START:({metadata:t,extras:a,origin:s})=>{e(qt(d.TiburonEventName.AttemptTargetValidation,t,s,a))},SHARE_MODAL_SHARE__INVITE__VALIDATION_API_START:({metadata:t,extras:a,origin:s})=>{e(qt(d.TiburonEventName.AttemptTargetValidation,t,s,a))},SHARE_MODAL_SHARE__PREVALIDATION__API_SUCCESS:({metadata:t,extras:a,origin:s})=>{e(qt(d.TiburonEventName.SucceedTargetValidation,t,s,a))},SHARE_MODAL_SHARE__INVITE__VALIDATION_API_SUCCESS:({metadata:t,extras:a,origin:s})=>{e(qt(d.TiburonEventName.SucceedTargetValidation,t,s,a))},SHARE_MODAL_SHARE__PREVALIDATION__API_ERROR:({event:t,metadata:a,extras:s,origin:n})=>{e(qt(d.TiburonEventName.FailTargetValidation,a,n,Object.assign(Object.assign({},s),{error:t.payload.error[".tag"]})))},SHARE_MODAL_SHARE__PREVALIDATION__API_FATAL:({metadata:t,extras:a,origin:s})=>{e(qt(d.TiburonEventName.FailTargetValidation,t,s,Object.assign(Object.assign({},a),{error:"unknown server error"})))},SHARE_MODAL_SHARE__INVITE__VALIDATION_API_ERROR:({event:t,metadata:a,extras:s,origin:n})=>{e(qt(d.TiburonEventName.FailTargetValidation,a,n,Object.assign(Object.assign({},s),{error:t.payload.error[".tag"]})))},SHARE_MODAL_SHARE__INVITE__VALIDATION_API_FATAL:({metadata:t,extras:a,origin:s})=>{e(qt(d.TiburonEventName.FailTargetValidation,t,s,Object.assign(Object.assign({},a),{error:"unknown server error"})))},SHARE_MODAL_MANAGE_ACCESS__MANAGE_ACCESS__CLICK:({metadata:t,extras:a,origin:s})=>{t.sharingObjectMembership&&(a=Object.assign(Object.assign({},a),{access_level:t.sharingObjectMembership.access_type[".tag"]})),e(qt(d.TiburonEventName.ClickManageAccess,t,s,a))},SHARE_MODAL_MANAGE_ACCESS__UPDATE_MEMBER_ACCESS__CLICK:({event:t,metadata:a,extras:s,origin:n})=>{e(qt(d.TiburonEventName.SelectChangeMemberPermission,a,n,Object.assign(Object.assign({},s),{new_access:"editor"===t.payload.next[".tag"]?"writer":"reader",old_access:"editor"===t.payload.previous[".tag"]?"writer":"reader"})))},SHARE_MODAL_MANAGE_ACCESS__UPDATE_FILE_MEMBER_ACCESS__API_SUCCESS:({metadata:t,extras:a,origin:s})=>{e(qt(d.TiburonEventName.SucceedChangeMemberPermission,t,s,Object.assign(Object.assign({},a),{http_status_code:200,response_status:"success",is_alpha:!1})))},SHARE_MODAL_MANAGE_ACCESS__UPDATE_FILE_MEMBER_ACCESS__API_FATAL:({metadata:t,extras:a,origin:s})=>{e(qt(d.TiburonEventName.FailChangeMemberPermission,t,s,Object.assign(Object.assign({},a),{is_alpha:!1,http_status_code:0,error_tag:"undefined"})))},SHARE_MODAL_MANAGE_ACCESS__UPDATE_FILE_MEMBER_ACCESS__API_ERROR:({event:t,metadata:a,extras:s,origin:n})=>{e(qt(d.TiburonEventName.FailChangeMemberPermission,a,n,Object.assign(Object.assign({},s),{is_alpha:!1,http_status_code:t.payload.response.statusCode,error_tag:t.payload.response.error[".tag"]})))},SHARE_MODAL_SHARE__CREATE_LINK__API_START:({metadata:t,extras:a,origin:s,cache:n})=>{t.sharingAccessLevel&&(a=Object.assign(Object.assign({},a),{access:t.sharingAccessLevel[".tag"]})),n.createSharedLinkStartTime=Date.now(),e(qt(d.TiburonEventName.AttemptCreateSharedLinkWithSettings,t,s,a))},SHARE_MODAL_SETTINGS__CREATE_LINK_API_START:({metadata:t,extras:a,origin:s,cache:n})=>{t.sharingAccessLevel&&(a=Object.assign(Object.assign({},a),{access:t.sharingAccessLevel[".tag"]})),n.createSharedLinkStartTime=Date.now(),e(qt(d.TiburonEventName.AttemptCreateSharedLinkWithSettings,t,s,a))},SHARE_MODAL_SHARE__CREATE_LINK__API_SUCCESS:({metadata:t,event:a,origin:s,extras:n,cache:r})=>{(t=Object.assign(Object.assign({},t),{sharingLinkMetadata:a.payload.response.output})).sharingLinkMetadata&&(n=Object.assign(Object.assign({},n),Kt(t.sharingLinkMetadata))),e(qt(d.TiburonEventName.SucceedCreateSharedLinkWithSettings,t,s,Object.assign(Object.assign({http_status_Code:200,response_status:"success"},Xt(r,t)),n)))},SHARE_MODAL_SETTINGS__CREATE_LINK_API_SUCCESS:({metadata:t,event:a,origin:s,extras:n,cache:r})=>{(t=Object.assign(Object.assign({},t),{sharingLinkMetadata:a.payload.response.output})).sharingLinkMetadata&&(n=Object.assign(Object.assign({},n),Kt(t.sharingLinkMetadata))),e(qt(d.TiburonEventName.SucceedCreateSharedLinkWithSettings,t,s,Object.assign(Object.assign({http_status_Code:200,response_status:"success"},Xt(r,t)),n)))},SHARE_MODAL_SHARE__CREATE_LINK__API_ERROR:({metadata:t,event:a,extras:s,origin:n,cache:r})=>{"shared_link_already_exists"!==a.payload.response.error[".tag"]?e(qt(d.TiburonEventName.FailCreateSharedLinkWithSettings,t,n,Object.assign(Object.assign({error_tag:a.payload.response.error[".tag"],http_status_code:a.payload.response.statusCode,fail_at:"link_creation"},Xt(r,t)),s))):e(qt(d.TiburonEventName.SucceedCreateSharedLinkWithSettings,t,n,Object.assign(Object.assign({http_status_code:a.payload.response.statusCode,response_status:"success"},Xt(r,t)),s)))},SHARE_MODAL_SETTINGS__CREATE_LINK_API_ERROR:({metadata:t,extras:a,cache:s,origin:n,event:r})=>{"shared_link_already_exists"!==r.payload.response.error[".tag"]?e(qt(d.TiburonEventName.FailCreateSharedLinkWithSettings,t,n,Object.assign(Object.assign({error_tag:r.payload.response.error[".tag"],http_status_code:r.payload.response.statusCode,fail_at:"link_creation"},Xt(s,t)),a))):e(qt(d.TiburonEventName.SucceedCreateSharedLinkWithSettings,t,n,Object.assign(Object.assign({http_status_code:r.payload.response.statusCode,response_status:"success"},Xt(s,t)),a)))},SHARE_MODAL_SHARE__CREATE_LINK__API_FATAL:({metadata:t,extras:a,origin:s,cache:n})=>{e(qt(d.TiburonEventName.FailCreateSharedLinkWithSettings,t,s,Object.assign(Object.assign(Object.assign({fail_at:"link_creation"},Xt(n,t)),{http_status_code:0,error_tag:"undefined_error"}),a)))},SHARE_MODAL_SETTINGS__CREATE_LINK_API_FATAL:({metadata:t,extras:a,origin:s,cache:n})=>{e(qt(d.TiburonEventName.FailCreateSharedLinkWithSettings,t,s,Object.assign(Object.assign(Object.assign({fail_at:"link_creation"},Xt(n,t)),{http_status_code:0,error_tag:"undefined_error"}),a)))},SHARE_MODAL_SHARE__CREATE_LINK__CLICK:({metadata:t,extras:a,origin:s})=>{e(qt(d.TiburonEventName.ClickTibCreateLink,t,s,a))},SHARE_MODAL_SETTINGS__CREATE_LINK__CLICK:({metadata:t,extras:a,origin:s})=>{e(qt(d.TiburonEventName.ClickTibCreateLink,t,s,a))},SHARE_MODAL_SHARE__INVITE__START:({metadata:t,extras:a,origin:s,cache:n})=>{n.inviteStartTime=Date.now(),e(qt(d.TiburonEventName.ClickInbandShareButton,t,s,Object.assign({in_progress:!1,access_level:Wt(t.sharingAccessLevel)},a)));const r=t.sharingLinkMetadata;r&&e(Zt(d.TiburonEventName.ClickShareButtonLinkSettingsStatus,t,s,Object.assign(Object.assign({},a),{isPasswordRequired:r.link_permissions.require_password||!1,isExpirationEnabled:!!r.expires,isDisabledDownloadEnabled:!r.link_permissions.allow_download})))},SHARE_MODAL_SHARE__COPY_LINK__CLICK:({metadata:t,event:a,extras:s,origin:n})=>{var r;e(Zt(d.TiburonEventName.CopySharedLink,t,n,Object.assign(Object.assign({},s),{copy_method:a.payload.copyMethod,tokenized_contact_count:null===(r=t.sharingInviteTargets)||void 0===r?void 0:r.length})))},SHARE_MODAL_SHARE__CREATE_LINK__COPY_START:({metadata:t,event:a,origin:s,extras:n})=>{var r;t=Object.assign(Object.assign({},t),{sharingLinkMetadata:a.payload.linkMetadata}),e(Zt(d.TiburonEventName.CopySharedLink,t,s,Object.assign(Object.assign({},n),{tokenized_contact_count:null===(r=t.sharingInviteTargets)||void 0===r?void 0:r.length,copy_method:a.payload.copyMethod})))},SHARE_MODAL_SHARE__CREATE_LINK__COPY_ERROR:({metadata:t,extras:a,origin:s})=>{var n;e(Zt(d.TiburonEventName.CopySharedLinkFailure,t,s,Object.assign(Object.assign({},a),{tokenized_contact_count:null===(n=t.sharingInviteTargets)||void 0===n?void 0:n.length,error:"failed_copy_to_clipboard"})))},SHARE_MODAL_SHARE__COPY_LINK__COPY_ERROR:({metadata:t,extras:a,origin:s})=>{var n;e(Zt(d.TiburonEventName.CopySharedLinkFailure,t,s,Object.assign(Object.assign({},a),{tokenized_contact_count:null===(n=t.sharingInviteTargets)||void 0===n?void 0:n.length,error:"failed_copy_to_clipboard"})))},SHARE_MODAL_SHARE__CREATE_LINK__COPY_FORBIDDEN:({metadata:t,extras:a,origin:s})=>{var n;e(Zt(d.TiburonEventName.CopySharedLinkFailure,t,s,Object.assign(Object.assign({},a),{tokenized_contact_count:null===(n=t.sharingInviteTargets)||void 0===n?void 0:n.length,error:"failed_copy_to_clipboard"})))},SHARE_MODAL_SHARE__INVITE__CANCELLED:({metadata:t,extras:a,origin:s})=>{e(qt(d.TiburonEventName.FailInbandShare,t,s,Object.assign({error_tag:"contacts_error",error_message:"contact validation error",num_recipients:t.sharingInviteTargets?t.sharingInviteTargets.length:0,access_level:Wt(t.sharingAccessLevel)},a)))},SHARE_MODAL_SHARE__INVITE__ADD_FILE_MEMBER_API_ERROR:({metadata:t,extras:a,origin:s,cache:n,event:r})=>{n.inviteStartTime&&(a.timing=Date.now()-n.inviteStartTime),e(Zt(d.TiburonEventName.FailInbandShare,t,s,Object.assign(Object.assign({},a),{error_tag:r.payload.response.error[".tag"],http_status_code:r.payload.response.statusCode,num_recipients:t.sharingInviteTargets?t.sharingInviteTargets.length:0})))},SHARE_MODAL_SHARE__INVITE__ADD_FILE_MEMBER_API_FATAL:({metadata:t,extras:a,origin:s,cache:n})=>{n.inviteStartTime&&(a.timing=Date.now()-n.inviteStartTime),e(Zt(d.TiburonEventName.FailInbandShare,t,s,Object.assign(Object.assign({},a),{error_tag:"undefined",http_status_code:0,num_recipients:t.sharingInviteTargets?t.sharingInviteTargets.length:0})))},SHARE_MODAL_SHARE__INVITE__ADD_FOLDER_MEMBER__API_ERROR:({event:t,metadata:a,extras:s,origin:n,cache:r})=>{r.inviteStartTime&&(s=Object.assign(Object.assign({},s),{timing:Date.now()-r.inviteStartTime})),e(Zt(d.TiburonEventName.FailInbandShare,a,n,Object.assign(Object.assign({},s),{error_tag:t.payload.response.error[".tag"],http_status_code:t.payload.response.statusCode,num_recipients:a.sharingInviteTargets?a.sharingInviteTargets.length:0})))},SHARE_MODAL_SHARE__INVITE__ADD_FOLDER_MEMBER__API_FATAL:({metadata:t,extras:a,origin:s,cache:n})=>{n.inviteStartTime&&(a=Object.assign(Object.assign({},a),{timing:Date.now()-n.inviteStartTime})),e(Zt(d.TiburonEventName.FailInbandShare,t,s,Object.assign(Object.assign({},a),{error_tag:"undefined",http_status_code:0,num_recipients:t.sharingInviteTargets?t.sharingInviteTargets.length:0})))},SHARE_MODAL_SHARE__INVITE__SHARE_FILE_FOLDER__FAILURE:({event:t,metadata:a,extras:s,origin:n,cache:r})=>{r.inviteStartTime&&(s=Object.assign(Object.assign({},s),{timing:Date.now()-r.inviteStartTime})),"ApiError"===t.payload.output.type||"PollingApiError"===t.payload.output.type?s=Object.assign(Object.assign({},s),{error_tag:t.payload.output.value.response.error[".tag"],http_status_code:t.payload.output.value.response.statusCode}):"NetworkFailure"===t.payload.output.type||"PollingNetworkFailure"===t.payload.output.type?s=Object.assign(Object.assign({},s),{error_tag:"unknown",http_status_code:0}):"PollingFailed"===t.payload.output.type?s=Object.assign(Object.assign({},s),{error_tag:"failed",http_status_code:0}):"PollingTimeout"===t.payload.output.type&&(s=Object.assign(Object.assign({},s),{error_tag:"timeout",http_status_code:0})),e(Zt(d.TiburonEventName.FailInbandShare,a,n,Object.assign(Object.assign({},s),{num_recipients:a.sharingInviteTargets?a.sharingInviteTargets.length:0})))},SHARE_MODAL_SETTINGS__PAGE_VIEW:({metadata:t,extras:a,origin:s,event:n})=>{e(qt(d.TiburonEventName.ViewSettingsScreen,t,s,Object.assign(Object.assign({},a),{settings_tab:n.payload.selected_tab}))),e(qt(d.TiburonEventName.ViewSettingsTab,t,s,Object.assign(Object.assign({},a),{settings_tab:n.payload.selected_tab})))},SHARE_MODAL_SETTINGS__TAB_CHANGE:({metadata:t,extras:a,origin:s,event:n})=>{e(qt(d.TiburonEventName.ViewSettingsTab,t,s,Object.assign(Object.assign({},a),{settings_tab:n.payload.selected_tab})))},SHARE_MODAL_MANAGE_ACCESS__SETTINGS_GEAR__CLICK:({metadata:t,extras:a,origin:s})=>{e(Zt(d.TiburonEventName.ClickSettingsGear,t,s,Object.assign(Object.assign({},a),{screen:d.ScreenName.ManageAccessScreen})));const n=t.sharingObjectMetadata;n&&(Ct(n)?e(qt(d.TiburonEventName.OpenFileSettingsModal,t,s,a)):It(n)&&e(qt(d.TiburonEventName.OpenFolderSettingsModal,t,s,a)))},SHARE_MODAL_MANAGE_ACCESS__SETTINGS_TEXT__CLICK:({metadata:t,extras:a,origin:s,event:n})=>{e(Zt(d.TiburonEventName.ClickManageAccessPageSettingsText,t,s,Object.assign(Object.assign({},a),{screen:d.ScreenName.ManageAccessScreen,settings_tab:n.payload.settings_tab,link_access_level:n.payload.link_access_level,link_type:n.payload.link_type})));const r=t.sharingObjectMetadata;r&&e(qt(Ct(r)?d.TiburonEventName.OpenFileSettingsModal:d.TiburonEventName.OpenFolderSettingsModal,t,s,a))},SHARE_MODAL_SHARE__SETTINGS_GEAR__CLICK:({metadata:t,extras:a,origin:s})=>{e(Zt(d.TiburonEventName.ClickSettingsGear,t,s,Object.assign(Object.assign({},a),{screen:d.ScreenName.ShareScreen})));const n=t.sharingObjectMetadata;n&&(Ct(n)?e(qt(d.TiburonEventName.OpenFileSettingsModal,t,s,a)):It(n)&&e(qt(d.TiburonEventName.OpenFolderSettingsModal,t,s,a)))},SHARE_MODAL_SHARE__SETTINGS_LINK__CLICK:({metadata:t,extras:a,origin:s})=>{a=t.sharingAccessLevel&&"editor"===t.sharingAccessLevel[".tag"]?Object.assign(Object.assign({},a),{settings_tab:"edit_link_settings"}):Object.assign(Object.assign({},a),{settings_tab:"view_link_settings"}),e(Zt(d.TiburonEventName.ClickSettingsText,t,s,a))},SHARE_MODAL_SHARE__MODIFY_LINK__CLICK:({metadata:t,extras:a,origin:s})=>{a=t.sharingAccessLevel&&"editor"===t.sharingAccessLevel[".tag"]?Object.assign(Object.assign({},a),{settings_tab:"edit_link_settings"}):Object.assign(Object.assign({},a),{settings_tab:"view_link_settings"}),e(Zt(d.TiburonEventName.OpenLinkSettingsModal,t,s,a))},SHARE_MODAL_SHARE__INVITE__ADD_FILE_MEMBER_API_SUCCESS:({metadata:t,extras:a,origin:s,cache:n})=>{n.inviteStartTime&&(a=Object.assign(Object.assign({},a),{timing:Date.now()-n.inviteStartTime})),e(qt(d.TiburonEventName.SucceedInbandShare,t,s,Object.assign(Object.assign({},a),{access_level:Wt(t.sharingAccessLevel),num_recipients:t.sharingInviteTargets?t.sharingInviteTargets.length:0})))},SHARE_MODAL_SHARE__INVITE__ADD_FOLDER_MEMBER__API_SUCCESS:({metadata:t,extras:a,cache:s,origin:n})=>{s.inviteStartTime&&(a=Object.assign(Object.assign({},a),{timing:Date.now()-s.inviteStartTime})),e(qt(d.TiburonEventName.SucceedInbandShare,t,n,Object.assign(Object.assign({},a),{num_recipients:t.sharingInviteTargets?t.sharingInviteTargets.length:0})))},SHARE_MODAL_SHARE__INVITE__NAVIGATE_ATTEMPT:({metadata:t,extras:a,origin:s})=>{e(qt(d.TiburonEventName.AttemptNavigateAwayDuringShare,t,s,a))},SHARE_MODAL_SHARE__INVITE__NAVIGATE_AWAY:({metadata:t,extras:a,origin:s})=>{e(qt(d.TiburonEventName.SucceedNavigateAwayDuringShare,t,s,a))},SHARE_MODAL_SETTINGS__UPSELL_LINK__CLICKED:({event:t,metadata:a,extras:s,origin:n})=>{s=Object.assign(Object.assign({},s),{element_trackingId:"link_settings_pro_upsell",element_href:t.payload.href}),e(qt(d.TiburonEventName.ElementClick,a,n,s))},SHARE_MODAL_SETTINGS__UPSELL_LINK__EXPOSED:({event:t,metadata:a,extras:s,origin:n})=>{s=Object.assign(Object.assign({},s),{element_trackingId:"link_settings_pro_upsell",element_href:t.payload.href}),e(qt(d.TiburonEventName.ElementView,a,n,s))},SHARE_MODAL_SETTINGS__UNSHARE_OBJECT_API_START:({metadata:t,extras:a,origin:s})=>{e(qt(d.TiburonEventName.AttemptRemoveAllMembers,t,s,a))},SHARE_MODAL_SETTINGS__UNSHARE_OBJECT_API_ERROR:({metadata:t,event:a,origin:s,extras:n})=>{e(qt(d.TiburonEventName.FailRemoveAllMembers,t,s,Object.assign({http_status_code:a.payload.response.statusCode,error_message:a.payload.response.error[".tag"]},n)))},SHARE_MODAL_SETTINGS__UNSHARE_OBJECT_API_FATAL:({metadata:t,extras:a,origin:s})=>{e(qt(d.TiburonEventName.FailRemoveAllMembers,t,s,Object.assign({http_status_code:0,error_message:"undefined_error"},a)))},SHARE_MODAL_SETTINGS__UNSHARE_OBJECT_API_SUCCESS:({metadata:t,extras:a,origin:s})=>{e(qt(d.TiburonEventName.SucceedRemoveAllMembers,t,s,Object.assign({http_status_code:200,response_status:"success"},a)))},SHARE_MODAL_MANAGE_ACCESS__REMOVE_FILE_MEMBER__API_START:({metadata:t,extras:a,origin:s})=>{e(qt(d.TiburonEventName.AttemptRemoveMember,t,s,a))},SHARE_MODAL_MANAGE_ACCESS__REMOVE_FILE_MEMBER__API_ERROR:({metadata:t,extras:a,origin:s,event:n})=>{e(qt(d.TiburonEventName.FailRemoveMember,t,s,Object.assign({http_status_code:n.payload.response.statusCode,error_tag:n.payload.response.error[".tag"]},a)))},SHARE_MODAL_MANAGE_ACCESS__REMOVE_FILE_MEMBER__API_FATAL:({metadata:t,extras:a,origin:s})=>{e(qt(d.TiburonEventName.FailRemoveMember,t,s,Object.assign({http_status_code:0,error_tag:"undefined_error"},a)))},SHARE_MODAL_MANAGE_ACCESS__REMOVE_FILE_MEMBER__API_SUCCESS:({metadata:t,extras:a,origin:s})=>{e(qt(d.TiburonEventName.SucceedRemoveMember,t,s,Object.assign({http_status_code:200},a)))},SHARE_MODAL_DATA_LOADER__INITIAL_LOADER__START:({metadata:t,extras:a,origin:s,cache:n})=>{n.shareModalDataLoadStartTime=Date.now(),n.inviteStartTime=void 0,n.createSharedLinkStartTime=void 0,e(qt(d.TiburonEventName.BeginShareFlow,t,s,a))},SHARE_MODAL_DATA_LOADER__INITIAL_LOADER__SUCCESS:({metadata:t,extras:a,origin:s,cache:n})=>{n.shareModalDataLoadStartTime&&(a=Object.assign(Object.assign({},a),{timing:Date.now()-n.shareModalDataLoadStartTime})),e(qt(d.TiburonEventName.ViewShareModal,t,s,a))},SHARE_MODAL_ERROR_SCREEN__VIEW:({metadata:t,extras:a,origin:s,event:n})=>{a=Object.assign(Object.assign({},a),{event:n}),e(qt(d.TiburonEventName.ViewErrorScreen,t,s,a))},SHARE_MODAL_SETTINGS__LINK_AUDIENCE_CHANGE:({metadata:t,extras:a,origin:s,event:n})=>{if(t.sharingLinksMetadata){const e=Bt(t.sharingLinksMetadata,n.payload.link_access_level);e&&(a=Object.assign(Object.assign({},a),Kt(e)))}e(qt(d.TiburonEventName.ChangeSharedLinkAudience,t,s,Object.assign({old_audience:n.payload.previous[".tag"],new_audience:n.payload.next[".tag"],screen:d.ScreenName.SettingsScreen},a)))},SHARE_MODAL_MANAGE_ACCESS__PARENT_FOLDER_CHANGE_ACCESS_MODAL__VIEW:({metadata:t,extras:a,event:s,origin:n})=>{e(qt(d.TiburonEventName.OpenParentFolderAccessModal,t,n,Object.assign(Object.assign({},a),{num_parent_folders:s.payload.numParents})))},SHARE_MODAL_MANAGE_ACCESS__PARENT_FOLDER_REMOVE_ACCESS_MODAL__VIEW:({metadata:t,extras:a,event:s,origin:n})=>{e(qt(d.TiburonEventName.OpenParentFolderAccessModal,t,n,Object.assign(Object.assign({},a),{num_parent_folders:s.payload.numParents})))},SHARE_MODAL_SHARE__VIEW:({metadata:t,extras:a,origin:s})=>{var n,r;let i;t.sharingObjectMetadata&&(i=jt(t.sharingObjectMetadata,Et)),"file_folder"!==(null===(n=t.sharingObjectMetadata)||void 0===n?void 0:n[".tag"])||i?"link_only"===(null===(r=t.sharingObjectMetadata)||void 0===r?void 0:r[".tag"])?(a=t.sharingObjectMetadata.tooManyMountsError?Object.assign(Object.assign({},a),{link_only_reason:t.sharingObjectMetadata.tooManyMountsError[".tag"]}):Object.assign(Object.assign({},a),{link_only_reason:"is_family"}),e(Zt(d.TiburonEventName.ViewLinkOnlyModal,t,s,Object.assign(Object.assign({},a),{share_tab:t.sharingAccessLevel&&"editor"===t.sharingAccessLevel[".tag"]?"edit_tab":"view_tab"})))):(e(Zt(d.TiburonEventName.ViewShareScreen,t,s,Object.assign(Object.assign({},a),{share_tab:t.sharingAccessLevel&&"editor"===t.sharingAccessLevel[".tag"]?"edit_tab":"view_tab"}))),e(Zt(d.TiburonEventName.ViewShareTab,t,s,Object.assign(Object.assign({},a),{share_tab:t.sharingAccessLevel&&"editor"===t.sharingAccessLevel[".tag"]?"edit_tab":"view_tab"})))):a=Object.assign(Object.assign({},a),{link_only_reason:"limited_permissions"})},SHARE_MODAL_SHARE__LINK_ACCESS_LEVEL__CHANGE:({metadata:t,extras:a,origin:s,event:n})=>{e(Zt(d.TiburonEventName.ViewShareTab,t,s,Object.assign(Object.assign({},a),{share_tab:"editor"===n.payload.next[".tag"]?"edit_tab":"view_tab"})))},SHARE_MODAL_MANAGE_ACCESS__VIEW:({metadata:t,extras:a,origin:s,event:n})=>{e(Zt(d.TiburonEventName.ViewManageAccessScreen,t,s,Object.assign(Object.assign({},a),{manage_tab:n.payload.manage_tab})))},SHARE_MODAL_MANAGE_ACCESS_TAB__VIEW:({metadata:t,extras:a,origin:s,event:n})=>{e(Zt(d.TiburonEventName.ViewManageAccessTab,t,s,Object.assign(Object.assign({},a),{manage_tab:n.payload.manage_tab})))},SHARE_MODAL_SHARE__MANAGE_ACCESS__CLICK:({metadata:t,extras:a,origin:s})=>{e(Zt(d.TiburonEventName.ClickWhoCanAccess,t,s,a))},SHARE_MODAL__REQUEST_CLOSE__CALLED:({metadata:t,extras:a,origin:s,event:n,cache:r})=>{t=Object.assign(Object.assign({},t),{sharingObjectIdentifier:n.payload.objectIdentifier}),t=Object.assign(Object.assign({},t),{shareModalSessionId:n.payload.sessionId}),r.inviteStartTime&&(a=Object.assign(Object.assign({},a),{time_modal_opened:Date.now()-r.inviteStartTime})),e(qt(d.TiburonEventName.CloseShareModal,t,s,a))},TARGETS_TOKENIZER__TARGETS_SEARCH__API_START:({metadata:t,extras:a,origin:s})=>{e(qt(d.TiburonEventName.AttemptTargetSearch,t,s,a))},TARGETS_TOKENIZER__TARGETS_SEARCH__API_SUCCESS:({metadata:t,extras:a,origin:s})=>{e(qt(d.TiburonEventName.SucceedTargetSearch,t,s,a))},TARGETS_TOKENIZER__TARGETS_SEARCH__API_ERROR:({metadata:t,extras:a,origin:s,event:n})=>{e(qt(d.TiburonEventName.FailTargetSearch,t,s,Object.assign(Object.assign({},a),{error:n.payload.response.error[".tag"]})))},TARGETS_TOKENIZER__TARGETS_SEARCH__API_FATAL:({metadata:t,extras:a,origin:s})=>{e(qt(d.TiburonEventName.FailTargetSearch,t,s,Object.assign(Object.assign({},a),{error:"unknown"})))},SHARE_MODAL_SETTINGS__DELETE_LINK_API_START:({metadata:t,extras:a,origin:s})=>{e(qt(d.TiburonEventName.AttemptDeleteSharedLink,t,s,a))},SHARE_MODAL_SETTINGS__DELETE_LINK_API_ERROR:({metadata:t,event:a,origin:s,extras:n})=>{e(qt(d.TiburonEventName.FailDeleteSharedLink,t,s,Object.assign({http_status_code:a.payload.response.statusCode,error_message:a.payload.response.error[".tag"]},n)))},SHARE_MODAL_SETTINGS__DELETE_LINK_API_FATAL:({metadata:t,extras:a,origin:s})=>{e(qt(d.TiburonEventName.FailDeleteSharedLink,t,s,Object.assign({http_status_code:0,error_message:"undefined_error"},a)))},SHARE_MODAL_SETTINGS__DELETE_LINK_API_SUCCESS:({metadata:t,extras:a,origin:s})=>{e(qt(d.TiburonEventName.SucceedDeleteSharedLink,t,s,Object.assign({http_status_code:200,response_status:"success"},a)))},SHARE_MODAL_SETTINGS__CREATE_LINK__NAMESPACE_CREATE_ERROR:({metadata:t,extras:a,event:s,origin:n})=>{var r,i;a=Object.assign(Object.assign({},a),{http_status_code:0,error_tag:"undefined_error",access:(null===(r=t.sharingAccessLevel)||void 0===r?void 0:r[".tag"])||"unknown"}),a="ApiError"===s.payload.output.type||"PollingApiError"===s.payload.output.type?Object.assign(Object.assign({},a),{http_status_code:200,error_tag:s.payload.output.value.response.error[".tag"],access:(null===(i=t.sharingAccessLevel)||void 0===i?void 0:i[".tag"])||"unknown"}):"NetworkFailure"===s.payload.output.type||"PollingNetworkFailure"===s.payload.output.type?Object.assign(Object.assign({},a),{http_status_code:s.payload.output.value.response.statusCode||0}):Object.assign(Object.assign({},a),{error_tag:s.payload.output.type}),e(qt(d.TiburonEventName.FailCreateNamespaceAfterLinkCreated,t,n,a))},SHARE_MODAL_SHARE__CREATE_LINK__NAMESPACE_CREATE_ERROR:({metadata:t,extras:a,event:s,origin:n})=>{var r,i;a=Object.assign(Object.assign({},a),{http_status_code:0,error_tag:"undefined_error",access:(null===(r=t.sharingAccessLevel)||void 0===r?void 0:r[".tag"])||"unknown"}),a="ApiError"===s.payload.output.type||"PollingApiError"===s.payload.output.type?Object.assign(Object.assign({},a),{http_status_code:200,error_tag:s.payload.output.value.response.error[".tag"],access:(null===(i=t.sharingAccessLevel)||void 0===i?void 0:i[".tag"])||"unknown"}):"NetworkFailure"===s.payload.output.type||"PollingNetworkFailure"===s.payload.output.type?Object.assign(Object.assign({},a),{http_status_code:s.payload.output.value.response.statusCode||0}):Object.assign(Object.assign({},a),{error_tag:s.payload.output.type}),e(qt(d.TiburonEventName.FailCreateNamespaceAfterLinkCreated,t,n,a))},SHARE_MODAL_SHARE__SOLVE_DEFAULT_AUDIENCE_CONFLICT__ATTEMPT:({metadata:t,extras:a,origin:s,event:n})=>{e(qt(d.TiburonEventName.AttemptSolveDefaultAudienceConflict,t,s,Object.assign(Object.assign({},a),{user_default_link_audience:n.payload.user_default_link_audience,team_default_link_audience:n.payload.team_default_link_audience,final_audience:n.payload.final_audience,is_team_user:n.payload.is_team_user})))},SHARE_MODAL_SHARE__SOLVE_DEFAULT_AUDIENCE_CONFLICT__FAIL:({metadata:t,extras:a,origin:s,event:n})=>{e(qt(d.TiburonEventName.FailSolveDefaultAudienceConflict,t,s,Object.assign(Object.assign({},a),{user_default_link_audience:n.payload.user_default_link_audience,team_default_link_audience:n.payload.team_default_link_audience,final_audience:n.payload.final_audience,is_team_user:n.payload.is_team_user})))},SHARE_MODAL_SHARE__SOLVE_DEFAULT_AUDIENCE_CONFLICT__SUCCEED:({metadata:t,extras:a,origin:s,event:n})=>{e(qt(d.TiburonEventName.SucceedSolveDefaultAudienceConflict,t,s,Object.assign(Object.assign({},a),{user_default_link_audience:n.payload.user_default_link_audience,team_default_link_audience:n.payload.team_default_link_audience,final_audience:n.payload.final_audience,is_team_user:n.payload.is_team_user})))}}})(),t=a.reactExports.useMemo((()=>({})),[]);return a.reactExports.useCallback(((a,s,n)=>{const r=e[a.type];if(r&&n)try{r({event:a,metadata:s,origin:n,cache:t,extras:{is_sdk:!0}})}catch(e){}}),[e,t])},Qt=({sink:t,children:s,origin:n})=>{const r=(()=>{const t=Le();return a.reactExports.useCallback(((a,s)=>{var n;("SANDBOX"===t||t===e.Platforms.DESKTOP&&"developer"===(null===(n=s.desktopMetadata)||void 0===n?void 0:n.buildChannel))&&window.console.log(a,s)}),[t])})(),i=Jt(),o=a.reactExports.useMemo((()=>((...e)=>(...t)=>{e.forEach((e=>{try{e(...t)}catch(e){}}))})(t,r,i)),[t,r,i]);return a.reactExports.createElement(Oe,{sink:o,origin:n},s)};Qt.displayName="LoggingProviderWithBuiltIns";const ea=({loggingSink:t,sdk:s,children:n,redirectWindowToken:r=null,intl:i,platform:o=e.Platforms.SANDBOX,openUrl:l=null,origin:c,onSnackbarShownChange:d})=>a.reactExports.createElement(xe,{intl:i},a.reactExports.createElement(we,{platform:o},a.reactExports.createElement(ze,{openUrl:l||We},a.reactExports.createElement(ve,{sdk:s},a.reactExports.createElement(Pe,{redirectWindowToken:r},a.reactExports.createElement(Qt,{sink:t||Te,origin:c},a.reactExports.createElement(tt,{onSnackbarShownChange:d},n)))))));ea.displayName="Provider";const ta=/^www\.dropbox\.com$/,aa=/^meta-.*\.dev\.corp\.dropbox\.com$/,sa=e=>e.formatMessage({id:"Jaz6mY",defaultMessage:"Link for editing"}),na=e=>e.formatMessage({id:"HUaQ+r",defaultMessage:"Link for viewing"});class ra extends a.reactExports.PureComponent{render(){const{className:e,icon:s,disableIcon:n,title:r,disableTitle:i,subtitle:o,disableButton:l,buttonText:c,onClickButton:d}=this.props,g=t.cx("scl-links-info-row",e),u=i?"faint":"standard";return a.reactExports.createElement("div",{className:g},a.reactExports.createElement("div",{className:`${g}__icon ${n?"disabled":""}`},s),a.reactExports.createElement("div",{className:`${g}__container`},a.reactExports.createElement("div",{className:`${g}__title ${i?"disabled":""}`},a.reactExports.createElement(t.Text,{size:"small",color:u},r)),a.reactExports.createElement("div",{className:`${g}__subtitle`},a.reactExports.createElement(t.Text,{color:"faint",size:"small"},o))),a.reactExports.createElement("div",{className:`${g}__button ${l?"disabled":""}`},a.reactExports.createElement(t.Button$1,{variant:"transparent",size:"small",onClick:d},c)))}}ra.displayName="LinksInfoRow";const ia=({isLinkExisting:e})=>!e,oa=e=>{const s=c.useIntl(),n=(({linkAccessLevel:e})=>"editor"===e[".tag"]?a.reactExports.createElement(t.UIIcon,{src:t.EditLine,role:"presentation"}):a.reactExports.createElement(t.UIIcon,{src:t.ShowLine,role:"presentation"}))(e),r=((e,t)=>"editor"===t[".tag"]?sa(e):na(e))(s,e.linkAccessLevel),i=((e,t,a,s)=>a&&t?((e,t,a)=>"editor"===a[".tag"]?"public"===t[".tag"]?e.formatMessage({id:"pS+xkY",defaultMessage:"Anyone with this link can edit"}):"team"===t[".tag"]?e.formatMessage({id:"woEqCF",defaultMessage:"Team members with this link can edit"}):"password"===t[".tag"]?e.formatMessage({id:"ltAbbX",defaultMessage:"Only people with the password can edit"}):"no_one"===t[".tag"]?e.formatMessage({id:"Vsuzcf",defaultMessage:"Only people invited can edit"}):"":"public"===t[".tag"]?e.formatMessage({id:"+yHekt",defaultMessage:"Anyone with this link can view"}):"team"===t[".tag"]?e.formatMessage({id:"vCAOR6",defaultMessage:"Team members with this link can view"}):"password"===t[".tag"]?e.formatMessage({id:"OiPH5W",defaultMessage:"Only people with the password can view"}):"no_one"===t[".tag"]?e.formatMessage({id:"MCi4Ms",defaultMessage:"Only people invited can view"}):"")(e,t,s):e.formatMessage({id:"+9ti3K",defaultMessage:"Create this link in settings"}))(s,e.linkAudience,e.isLinkExisting,e.linkAccessLevel),o=ia(e),l=ia(e),d=(({onLinksSettingsTextClick:e})=>a.reactExports.useCallback((()=>{e()}),[e]))(e),g=(e=>e.formatMessage({id:"7yZAb1",defaultMessage:"Settings"}))(s);return a.reactExports.createElement(a.reactExports.Fragment,null,a.reactExports.createElement(ra,{icon:n,disableIcon:o,title:r,disableTitle:l,subtitle:i,disableButton:!1,buttonText:g,onClickButton:d}))};oa.displayName="LinkListItemSection";const la=()=>{const e=c.useIntl(),s=(e=>e.formatMessage({id:"fvGBmm",defaultMessage:"You don't have access to links"}))(e),n=(e=>e.formatMessage({id:"0Y5iuS",defaultMessage:"If you need a link, ask the owner to share it with you"}))(e);return a.reactExports.createElement("div",{style:{display:"flex",alignItems:"center",flexDirection:"column",paddingTop:"20px"}},a.reactExports.createElement("div",{style:{height:"48px",width:"48px"}},a.reactExports.createElement(t.InfoPictogram,null)),a.reactExports.createElement("div",null,a.reactExports.createElement("div",{style:{textAlign:"center",paddingTop:"20px"}},a.reactExports.createElement(t.Title,{size:"small"},s)),a.reactExports.createElement("div",{style:{textAlign:"center",padding:"0 24px 0 24px"}},a.reactExports.createElement(t.Text,{size:"standard"},n))))};la.displayName="NoPermissionsSection";const ca=(e,t)=>{const s=ke();return a.reactExports.useCallback((()=>{var a,n;let r=ue,i=d.getLinkType(null===(a=e.$viewLinkMetadata.get())||void 0===a?void 0:a.url),o=d.SettingsTabName.ViewLinkSettingsTab;t===pe&&(r=pe,i=d.getLinkType(null===(n=e.$editLinkMetadata.get())||void 0===n?void 0:n.url),o=d.SettingsTabName.EditLinkSettingsTab),t===pe?e.$props.get().onEditLinkSettingsClick():e.$props.get().onViewLinkSettingsClick(),s("SHARE_MODAL_MANAGE_ACCESS__SETTINGS_TEXT__CLICK",{link_access_level:r,link_type:i,settings_tab:o})}),[e,s])},da=({store:e})=>{const t=Ue(e.$shouldShowEditLinkInfo),s=Ue(e.$editLinkAudience),n=Ue(e.$isEditLinkExisting),r=ca(e,pe),i=Ue(e.$objectMetadata),o=Ue(e.$canCreateEditLink);return t?a.reactExports.createElement(a.reactExports.Fragment,null,a.reactExports.createElement(oa,{canCreateLink:o,isLinkExisting:n,linkAccessLevel:pe,linkAudience:s,objectMetadata:i,onLinksSettingsTextClick:r})):a.reactExports.createElement(a.reactExports.Fragment,null)};da.displayName="EditLinkInfoWrapper";const ga=({store:e})=>{const t=Ue(e.$viewLinkAudience),s=Ue(e.$isViewLinkExisting),n=ca(e,ue),r=Ue(e.$objectMetadata),i=Ue(e.$shouldShowViewLinkInfo),o=Ue(e.$canCreateViewLink);return i?a.reactExports.createElement(a.reactExports.Fragment,null,a.reactExports.createElement(oa,{canCreateLink:o,isLinkExisting:s,linkAccessLevel:ue,linkAudience:t,objectMetadata:r,onLinksSettingsTextClick:n})):a.reactExports.createElement(a.reactExports.Fragment,null)};ga.displayName="ViewLinkInfoWrapper";const ua=({store:e})=>Ue(e.$shouldShowNoPermissionsPage)?a.reactExports.createElement(a.reactExports.Fragment,null,a.reactExports.createElement(la,null)):a.reactExports.createElement(a.reactExports.Fragment,null);ua.displayName="NoPermissionsPageWrapper";const pa=({store:e})=>a.reactExports.createElement("div",{style:{border:"1px solid var(--color__faint__border)",height:"250px",padding:"13px"}},a.reactExports.createElement(da,{store:e}),a.reactExports.createElement("div",{style:{height:"4px"}}),a.reactExports.createElement(ga,{store:e}),a.reactExports.createElement(ua,{store:e}));pa.displayName="LinkList";const _a=e=>{const t=(e=>Ge(e,(e=>{const t=Ve((()=>e.get().linksMetadata)),a=Ve((()=>e.get().objectMetadata)),s=Ve((()=>e.get().onViewLinkSettingsClick)),n=Ve((()=>e.get().onEditLinkSettingsClick)),r=Ve((()=>e.get().sharingPrefs)),i=Ve((()=>Bt(e.get().linksMetadata,{".tag":"editor"}))),o=Ve((()=>{const e=i.get();return null!==e?Ut(e):null})),l=Ve((()=>null!=i.get())),c=Ve((()=>{const e=be(r.get());return $t(a.get(),{".tag":"editor"},e)})),d=Ve((()=>{const e=c.get(),t=l.get();return e||t})),g=Ve((()=>Bt(e.get().linksMetadata,{".tag":"viewer"}))),u=Ve((()=>{const e=g.get();return null!==e?Ut(e):null})),p=Ve((()=>null!=g.get())),_=Ve((()=>{const e=be(r.get());return $t(a.get(),{".tag":"viewer"},e)})),m=Ve((()=>{const e=_.get(),t=p.get();return e||t})),E=Ve((()=>{const e=d.get(),t=m.get();return!(e||t)}));return{$objectMetadata:a,$linksMetadata:t,$canCreateEditLink:c,$canCreateViewLink:_,$editLinkMetadata:i,$viewLinkMetadata:g,$editLinkAudience:o,$viewLinkAudience:u,$isEditLinkExisting:l,$isViewLinkExisting:p,$onViewLinkSettingsClick:s,$onEditLinkSettingsClick:n,$shouldShowEditLinkInfo:d,$shouldShowViewLinkInfo:m,$shouldShowNoPermissionsPage:E,$sharingPrefs:r,$props:e}})))(e);return a.reactExports.createElement("div",{style:{height:"260px"}},a.reactExports.createElement(pa,{store:t}))};_a.displayName="ShareModalManageLinksInner";const ma=e=>e.formatMessage({id:"R8tdDL",defaultMessage:"Can edit"}),Ea=e=>e.formatMessage({id:"2kS9ex",defaultMessage:"Can view"}),ha=e=>e.formatMessage({id:"pI4aSB",defaultMessage:"View-only"}),fa="empty-member-list",ba=`${fa}-info`,Aa=`${fa}-warn`,va=({subtitle:e})=>{const s=(e=>e.formatMessage({id:"f7F1sF",defaultMessage:"Keep track of people and permissions"}))(c.useIntl());return a.reactExports.createElement("div",{style:{display:"flex",alignItems:"center",flexDirection:"column"}},a.reactExports.createElement("div",{style:{height:"48px",width:"48px"}},a.reactExports.createElement(t.InfoPictogram,{"data-testid":ba})),a.reactExports.createElement("div",null,a.reactExports.createElement("div",{style:{textAlign:"center",paddingTop:"20px"}},a.reactExports.createElement(t.Title,{size:"small"},s)),a.reactExports.createElement("div",{style:{textAlign:"center",padding:"0 24px 0 24px",width:"420px"}},a.reactExports.createElement(t.Text,{size:"standard"},e))))};va.displayName="EmptyMemberListWithPermissions";const Sa=()=>{const e=c.useIntl(),s=(e=>e.formatMessage({id:"XURAv9",defaultMessage:"Can't manage people with access"}))(e),n=(e=>e.formatMessage({id:"e0jVSh",defaultMessage:"This folder contains subfolders that you don't own."}))(e);return a.reactExports.createElement("div",{style:{display:"flex",alignItems:"center",flexDirection:"column"}},a.reactExports.createElement("div",{style:{height:"48px",width:"48px"}},a.reactExports.createElement(t.WarningPictogram,{"data-testid":Aa})),a.reactExports.createElement("div",null,a.reactExports.createElement("div",{style:{textAlign:"center",paddingTop:"20px"}},a.reactExports.createElement(t.Title,{size:"small"},s)),a.reactExports.createElement("div",{style:{textAlign:"center",padding:"0 24px 0 24px"}},a.reactExports.createElement(t.Text,{size:"standard"},n))))};Sa.displayName="EmptyMemberListNoPermissions";const xa=({isFile:e,isFileFolder:t,canInviteMembers:s})=>{const n=c.useIntl(),r=Ta(e,t,n);return a.reactExports.createElement("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",height:"100%"}},s?a.reactExports.createElement(va,{subtitle:r}):a.reactExports.createElement(Sa,null))};xa.displayName="EmptyMemberList";const Ta=(e,t,a)=>e?(e=>e.formatMessage({id:"7453qx",defaultMessage:"When specific people are invited to this file, they’ll be listed here."}))(a):t?(e=>e.formatMessage({id:"rgZZgG",defaultMessage:"When specific people are invited to this folder, they’ll be listed here."}))(a):"",Ma="scl-action-section";class ya extends a.reactExports.Component{render(){const{children:e,className:s,layout:n,header:r,footerContent:i,footerActions:o,isHeaderBold:l}=this.props,c=t.cx(s,Ma,{[`${Ma}--${n}`]:!!n});return a.reactExports.createElement("div",{className:c},r&&a.reactExports.createElement(t.Text,{className:`${Ma}__header`,tagName:"div",size:"small",isBold:l},r),a.reactExports.createElement("div",{className:`${Ma}__children`},e),a.reactExports.createElement("div",{className:`${Ma}__footer`},i&&a.reactExports.createElement("div",{className:`${Ma}__footer-content`},i),o&&a.reactExports.createElement("div",{className:`${Ma}__footer-actions`},o)))}}ya.displayName="ActionSection",ya.defaultProps={isHeaderBold:!0,layout:"rows"};const Oa="scl-checkbox-with-label";class ka extends a.reactExports.Component{render(){const{label:e,fontSize:s,isChecked:n,isCheckboxDisabled:r,onCheckboxToggled:i,className:o,style:l}=this.props,c=t.cx(o,Oa);return a.reactExports.createElement("div",{className:c,style:l},a.reactExports.createElement(t.Checkbox,{"aria-label":e,onChange:i,checked:n,disabled:r,id:"checkbox"}),a.reactExports.createElement(t.Text,{className:`${Oa}__text`,tagName:"label",size:s,htmlFor:"checkbox"},e))}}ka.displayName="CheckboxWithLabel";const Ca="scl-help-info";class Ia extends a.reactExports.PureComponent{render(){const{id:e,className:s,text:n,placement:r,iconSize:i,children:o}=this.props,l=t.cx(s,Ca);return a.reactExports.createElement(t.Tooltip,{className:l,id:e,placement:r,title:n},a.reactExports.createElement("span",{className:Ca},o,a.reactExports.createElement(t.UIIcon,{src:t.HelpLine,className:`${Ca}__icon`,size:i,"aria-label":""})))}}Ia.displayName="HelpInfo",Ia.defaultProps={placement:"top",iconSize:"small"};const Na=e=>e,wa=gt({name:"sharing.targetsSearch"},(t=>a=>l.__awaiter(void 0,void 0,void 0,(function*(){const s=yield dt(t.sharingTargetsSearch(a));return"SUCCESS"===s.status?{status:e.Status.SUCCESS,output:s.output.entries.map(Na)}:s})))),La=gt({name:"profileServices.listLinkedServices"},(e=>()=>dt(e.profileServicesListLinkedServices()))),Ra=e=>{const t=e.toUpperCase().split(" ").filter((e=>e));return`${t.length>0?t[0][0]:""}${t.length>1?t[t.length-1][0]:""}`};function Da(e,t){if(!e)return"";const a=(e=e.toUpperCase()).trim().split(" "),s=ja(a[0]),n=ja(a[a.length-1]);if(a.length>=2)return Pa(t)?n[0]+s[0]:s[0]+n[0];const r=ja(e);return Pa(t)&&!function(e){for(let t=0;t<e.length;t++)if(e.charCodeAt(t)>=128)return!1;return!0}(e)&&r.length>1?r[0]+r[1]:r[0]}function Pa(e){return-1!==["zh","ja","ko"].indexOf(e)}function ja(e){const t=[],a=e.length;let s=0;for(;s<a;){const n=e[s];if(n>="\ud800"&&n<="\udb7f"){if(!(s<a-1))break;{const a=n+e[s+1];t.push(a),s+=2}}else t.push(n),s+=1}return t}const Fa=/['&A-Za-z0-9\._%+-]+@[A-Za-z0-9-][A-Za-z0-9\.-]*\.[A-Za-z]{2,15}/gi,$a=/[,|;>\s]/,Ha="IMPORT_CONTACTS",Va=[Ha],Ba="Google",Ua="/static/images/index/google-logo-color.svg",Ga=e=>{const t=a.reactExports.useRef(null);return Ge(e,(e=>{const a=He(!1),s=He(!1),n=He(!1),r=He(!1),i=He(!1),o=He(null),l=He(""),c=Ve((()=>e.get().user)),d=Ve((()=>e.get().accessLevel)),g=Ve((()=>e.get().selectedEmailAccessLevel),(t=>{var a,s;return null===(s=(a=e.get()).onEmailAccessLevelChange)||void 0===s?void 0:s.call(a,t[".tag"])})),u=Ve((()=>e.get().emailAccessLevelOptions)),p=Ve((()=>e.get().inviteTargets),(t=>e.get().onInviteTargetsChange(za(qa(t))))),_=Ve((()=>e.get().inviteTargetValidation)),m=Ve((()=>e.get().objectMetadata)),E=Ve((()=>Ft(m.get(),d.get()))),h=Ve((()=>{const e=o.get();return e?((e,t)=>{const a=e.linked_services.find((e=>e.service_type[".tag"]===t[".tag"]));return!!a&&"is_connected"===a.connection_state[".tag"]})(e,{".tag":"google"})&&((e,t,a)=>{const s=e.linked_services.find((e=>e.service_type[".tag"]===t[".tag"]));return!!s&&s.granted_permissions.some((e=>e[".tag"]===a[".tag"]))})(e,{".tag":"google"},{".tag":"contacts"}):null})),f=Ve((()=>c.get().is_team)),b=Ve((()=>Rt(m.get()))),A=Ve((()=>r.get())),v=He([]),S=Ve((e=>{const t=b.get(),a=c.get().email,s=p.get().map(de),n={},r=v.get().filter((e=>{const r=de(e);return!n[r]&&(n[r]=!0,!s.includes(r)&&((!t||"group"===e[".tag"])&&("email"!==e[".tag"]&&("user"!==e[".tag"]||e.email!==a))))}));return null!==e&&e.length===r.length&&e.every(((e,t)=>e===r[t]),!0)?e:r})),x=Ve((e=>{const t=b.get(),a=l.get(),s=t||""===a,n=[...S.get().slice(0,9),...s?[]:Va];return null!==e&&e.length===n.length&&e.reduce(((e,t,a)=>e&&t===n[a]),!0)?e:n}));return{$accessLevel:d,$user:c,$canInvite:E,$inviteTargets:p,$inviteTargetValidation:_,$isConnectedToGoogle:h,$isConnectingToGoogle:a,$isFocused:s,$isImportContactsExpanded:n,$isLinkedServicesUpdating:r,$isTeamAccount:f,$isTeamFolder:b,$isTypeaheadForcedOpen:i,$isUpdatingGoogleConnectionStatus:A,$linkedServices:o,$objectMetadata:m,$query:l,$searchSuggestionsRaw:v,$searchSuggestions:S,$suggestions:x,inputRef:t,$selectedEmailAccessLevel:g,$emailAccessLevelOptions:u}}))},Wa=e=>(e.match(Fa)||[]).map(ce),Ka=e=>a.reactExports.useCallback((t=>{const a=t.currentTarget.value,s=(n=a,$a.test(n)?Wa(n):[]);var n;Be((()=>{e.$isTypeaheadForcedOpen.set(!1),s.length>0?(e.$inviteTargets.set([...e.$inviteTargets.get(),...s]),e.$query.set("")):e.$query.set(a)}))}),[e]),za=e=>e.map((e=>{if("email"===e[".tag"]||"user"===e[".tag"]){const t=e.email.trim();return t.length===e.email.length?e:Object.assign(Object.assign({},e),{email:t})}return e})),qa=e=>{const t={};return e.filter((e=>{const a=de(e);return!t[a]&&(t[a]=!0,!0)}))},Za=e=>{const t=(e=>{const t=Yt(wa),s=ke(),n=Qe();return a.reactExports.useCallback((()=>l.__awaiter(void 0,void 0,void 0,(function*(){let a;const r=e.$objectMetadata.get();Ct(r)&&(a=r.id);const i=e.$query.get();s("TARGETS_TOKENIZER__TARGETS_SEARCH__API_START",null);const o=yield t({content_id:a,query:i,force_refresh:!1,limit:10});if("SUCCESS"===o.status?s("TARGETS_TOKENIZER__TARGETS_SEARCH__API_SUCCESS",{response:o}):"ERROR"===o.status?s("TARGETS_TOKENIZER__TARGETS_SEARCH__API_ERROR",{response:o}):s("TARGETS_TOKENIZER__TARGETS_SEARCH__API_FATAL",{response:o}),e.$query.get()===i)return"SUCCESS"!==o.status?(n(),void e.$searchSuggestionsRaw.set([])):void e.$searchSuggestionsRaw.set(o.output)}))),[e,t,n,s])})(e);a.reactExports.useEffect((()=>{const a=[e.$query.obs(t)];return()=>a.forEach((e=>e()))}),[e,t])},Ya=e=>{const t=Yt(La);return a.reactExports.useCallback((()=>l.__awaiter(void 0,void 0,void 0,(function*(){if(e.$isLinkedServicesUpdating.get())return;const a=yield t(null);"SUCCESS"===a.status?Be((()=>{e.$linkedServices.set(a.output),e.$isLinkedServicesUpdating.set(!1)})):Be((()=>{e.$linkedServices.set(null),e.$isLinkedServicesUpdating.set(!1)}))}))),[e,t])},Xa=e=>{const t=c.useIntl(),s=Ye(),n=ke(),r=Ya(e),i=De();return a.reactExports.useCallback((()=>l.__awaiter(void 0,void 0,void 0,(function*(){if(e.$isConnectingToGoogle.get()||null===i)return;e.$isConnectingToGoogle.set(!0);let a=null;const o=()=>{s.showFailure({message:t.formatMessage({id:"sgP44K",defaultMessage:"Failed to connect your contacts from Google"}),intl:t}),null!==a&&clearInterval(a),window.removeEventListener("message",g),r().then((()=>{e.$isConnectingToGoogle.set(!1)}))},l=new URLSearchParams({service:"1",is_popup:"true",action:"link_contacts",prompt_select:"true",token:i,user_id:e.$user.get().id.toString(),is_desktop:"false"}),c=window.open(`/profile_services/start_auth_flow?${l.toString()}`,"Google","width=600,height=600,resizable=1,scrollbars=1");if(null===c)return o();a=setInterval((()=>{c.closed&&o()}),1e3);const g=i=>{let l;try{l=JSON.parse(i.data)}catch(e){return}if(it({type:(u="db:profile_service:auth_complete",e=>e===u),payload:it({success:at})})(l)){var u,p;if(l.payload.success)return p=c,n("TEAMS_WEB",{name:d.TeamsWebEventName.ImportContactsComplete,extra:{provider:"google",path:window.location.pathname}}),s.showCompleted({message:t.formatMessage({id:"Au33+R",defaultMessage:"Successfully connected your contacts from Google"}),intl:t}),null!==a&&clearInterval(a),window.removeEventListener("message",g),r().then((()=>{e.$isConnectingToGoogle.set(!1)})),void(null==p||p.close());o(),c.close()}};window.addEventListener("message",g)}))),[e,t,s,n,r,i])},Ja=(e,t)=>"user"===e[".tag"]?Da(e.name,t.locale):"group"===e[".tag"]?Ra(e.name):"email"===e[".tag"]?"":oe(0,""),Qa=(e,t)=>"user"===e[".tag"]?t&&t!==e.dbx_team_id?e.email:e.name:"group"===e[".tag"]?e.name:"email"===e[".tag"]?e.email:"",es=({store:e,target:s})=>{const n=c.useIntl(),r=((e,t)=>a.reactExports.useCallback((()=>{const a=e.$inviteTargets.get().filter((e=>e!==t));Be((()=>{e.$inviteTargets.set(a),e.$query.set("")}))}),[e,t]))(e,s),i=e.$user.get().team_dbtid,o=D.em_snippet(Qa(s,i),t.SNIPPET_SIZES.EMAIL),l="user"===s[".tag"]&&i&&i!==s.dbx_team_id?"":Ja(s,n),d=ge(s),g=t.avatarColorForUserIdentifier(l),u=de(s),p=Ue(e.$inviteTargetValidation)[u],_=p&&"disallowed"===p.result[".tag"],m=p&&"allowed"===p.result[".tag"]&&"no_warning"!==p.result.allowed[".tag"];return a.reactExports.createElement(t.InputChip,{size:"small",onDelete:r,isAlert:_,isWarning:m,withAvatarLeft:(l||d)&&a.reactExports.createElement(t.Avatar,{src:d||"",size:"xsmall",backgroundColor:l&&g,hasNoOutline:!0},l)},o)};es.displayName="Chip";const ts=({target:e})=>{const s=c.useIntl(),n=de(e),r=Ja(e,s),i=Qa(e),o=((e,t)=>"user"===e[".tag"]||"email"===e[".tag"]?e.email:"group"===e[".tag"]?t.formatMessage({id:"XMHn5C",defaultMessage:"{count, plural, one{# member} other{# members}}"},{count:e.group_size||0}):"")(e,s),l=ge(e),d=t.avatarColorForUserIdentifier(r);return a.reactExports.createElement(p.Typeahead.Row,{"data-testid":"typeahead-suggestion",key:n,value:e,withTitle:i,withSubtitle:o,withLeftAccessory:a.reactExports.createElement(t.Avatar,{src:l||"",backgroundColor:d,hasNoOutline:!0},r)})};ts.displayName="Suggestion";const as=({store:e})=>{const s=c.useIntl(),n=Ue(e.$isConnectingToGoogle),r=Ue(e.$isConnectedToGoogle),i=Ue(e.$isImportContactsExpanded),o=Ue(e.$isLinkedServicesUpdating);return De()?n?a.reactExports.createElement(p.Typeahead.Row,{"data-testid":"typeahead-import-contacts",key:Ha,withLeftAccessory:a.reactExports.createElement(t.Avatar,{src:Ua}),value:Ha,withTitle:Ba,withSubtitle:s.formatMessage({id:"JbMFlW",defaultMessage:"Importing contacts"})}):o?null:i?r?a.reactExports.createElement(p.Typeahead.Row,{"data-testid":"typeahead-import-contacts",key:Ha,withLeftAccessory:a.reactExports.createElement(t.Avatar,{src:Ua}),value:Ha,withTitle:Ba,withSubtitle:s.formatMessage({id:"2/+46g",defaultMessage:"Connected"})}):a.reactExports.createElement(p.Typeahead.Row,{"data-testid":"typeahead-import-contacts",key:Ha,withLeftAccessory:a.reactExports.createElement(t.Avatar,{src:Ua}),value:Ha,withTitle:Ba,withSubtitle:s.formatMessage({id:"CkYgqG",defaultMessage:"Sign in to import contacts"})}):a.reactExports.createElement(p.Typeahead.Row,{"data-testid":"typeahead-import-contacts",key:Ha,withLeftAccessory:a.reactExports.createElement(t.Avatar,{src:"/static/images/icons/icon-import.png"}),value:Ha,withTitle:s.formatMessage({id:"H3lmrv",defaultMessage:"Import contacts"}),withSubtitle:s.formatMessage({id:"fcpqv/",defaultMessage:"Import contacts from another service"})}):null};as.displayName="ImportContacts";const ss=(e,t)=>t===pe?e.formatMessage({id:"80u7hT",defaultMessage:"can edit"}):e.formatMessage({id:"jRkzh2",defaultMessage:"can view"}),ns=s=>{const n=Ga(s),r=c.useIntl(),i=a.reactExports.useRef(null),o=Ue(n.$query),d=Ue(n.$inviteTargets),g=Ue(n.$suggestions),u=Ue(n.$canInvite),_=Ue(n.$isTypeaheadForcedOpen),m=Ue(n.$selectedEmailAccessLevel),E=Ue(n.$emailAccessLevelOptions);Za(n),(e=>{const t=Yt(wa),s=ke();a.reactExports.useEffect((()=>{l.__awaiter(void 0,void 0,void 0,(function*(){s("TARGETS_TOKENIZER__TARGETS_SEARCH__API_START",null);const a=yield t({content_id:void 0,query:"",force_refresh:!0,limit:10});"SUCCESS"===a.status?s("TARGETS_TOKENIZER__TARGETS_SEARCH__API_SUCCESS",{response:a}):"ERROR"===a.status?s("TARGETS_TOKENIZER__TARGETS_SEARCH__API_ERROR",{response:a}):s("TARGETS_TOKENIZER__TARGETS_SEARCH__API_FATAL",{response:a}),"SUCCESS"===a.status&&e.$searchSuggestionsRaw.set(a.output)}))}),[])})(n),(e=>{const t=Ya(e);a.reactExports.useEffect((()=>{t()}),[t])})(n);const h=(e=>{const t=Xa(e);return a.reactExports.useCallback((a=>{Be((()=>{if(a===Ha){if(e.$isTypeaheadForcedOpen.set(!0),!e.$isImportContactsExpanded.get())return void e.$isImportContactsExpanded.set(!0);if(e.$isConnectingToGoogle.get())return;if(e.$isConnectedToGoogle.get())return;return e.$query.set(""),void t()}e.$query.set(""),e.$inviteTargets.set([...e.$inviteTargets.get(),a])}))}),[e,t])})(n),f=(e=>a.reactExports.useCallback((t=>{const a=e.$query.get();if(8===t.keyCode&&""===a&&e.$inviteTargets.set(e.$inviteTargets.get().slice(0,-1)),13===t.keyCode)if(e.$searchSuggestions.get().length>0)Be((()=>{e.$inviteTargets.set([...e.$inviteTargets.get(),e.$searchSuggestions.get()[0]]),e.$query.set("")}));else if(""!==a){const t=Wa(a);t.length>0?Be((()=>{e.$inviteTargets.set([...e.$inviteTargets.get(),...t]),e.$query.set("")})):Be((()=>{e.$inviteTargets.set([...e.$inviteTargets.get(),ce(a)]),e.$query.set("")}))}}),[e]))(n),b=Ka(n);let A=(e=>{const t=c.useIntl(),s=Ue(e.$isTeamFolder),n=Ue(e.$isTeamAccount);return a.reactExports.useMemo((()=>s?t.formatMessage({id:"VMGE6I",defaultMessage:"Group names"}):n?t.formatMessage({id:"+nKRfb",defaultMessage:"Add an email, name, or group"}):t.formatMessage({id:"bdV6O3",defaultMessage:"Add an email or name"})),[s,n,t])})(n);A=d.length>0?"":A;const v=(e=>a.reactExports.useCallback((()=>{const t=Wa(e.$query.get());Be((()=>{t.length>0&&(e.$inviteTargets.set([...e.$inviteTargets.get(),...t]),e.$query.set("")),e.$isTypeaheadForcedOpen.set(!1),e.$isFocused.set(!1)}))}),[e]))(n),S=(e=>a.reactExports.useCallback((()=>{e.$isTypeaheadForcedOpen.set(!1),e.$isFocused.set(!0)}),[e]))(n),x=(e=>a.reactExports.useCallback((t=>t===Ha?a.reactExports.createElement(as,{store:e}):a.reactExports.createElement(ts,{target:t})),[e]))(n),T=Le()!==e.Platforms.DESKTOP,M=a.reactExports.useRef(!1),y=a.reactExports.useCallback(((e,t)=>{const a=t.includes(Ha)?t.length-1:t.length,n=e&&a>0;if(M.current!==n){M.current=n;(s.onTargetsDropdownFocusChange||(()=>{}))(n)}}),[s.onTargetsDropdownFocusChange]),O=(e=>a.reactExports.useCallback((t=>{e.$selectedEmailAccessLevel.set({".tag":t[".tag"]})}),[e]))(n);return a.reactExports.createElement(a.reactExports.Fragment,null,a.reactExports.createElement(p.Typeahead.Wrapper,{onSelection:h,hasMaxHeight:!0,isPortaled:!1},(({getTriggerProps:e,getContentProps:s})=>{const c=s({}),{open:h}=c,M=l.__rest(c,["open"]),k=h||_;return y(k,g),a.reactExports.createElement(a.reactExports.Fragment,null,a.reactExports.createElement(t.TextInput.Container,{ref:i,disabled:!u},a.reactExports.createElement(t.TextInput.ChipsContainer,null,d.map(((e,t)=>a.reactExports.createElement(es,{store:n,key:t,target:e}))),a.reactExports.createElement(t.TextInput.Input,Object.assign({},e({onChange:b,onKeyDown:f,onBlur:v,onFocus:S}),{ref:n.inputRef,disabled:!u,value:o,"aria-label":A,placeholder:A,"data-testid":"targets-tokenizer-input",id:"targets-tokenizer-input-search"}))),m===_e?null:1===E.length?a.reactExports.createElement(t.TextInput.Accessory,null,a.reactExports.createElement(t.Text,{isBold:!0,style:{whiteSpace:"nowrap"}},ss(r,m))):E.length>1?a.reactExports.createElement(t.TextInput.Accessory,null,a.reactExports.createElement(t.Menu.Wrapper,{onSelection:O,isPortaled:!1,"data-testid":"access-level-section-dropdown",style:{verticalAlign:"bottom",whiteSpace:"nowrap"}},(({getContentProps:e,getTriggerProps:s})=>a.reactExports.createElement(a.reactExports.Fragment,null,a.reactExports.createElement(t.Button$1,Object.assign({},s(),{variant:"transparent",hasNoUnderline:!0,withDropdownIcon:!0,"data-testid":"access-level-section-button",style:{position:"relative",top:"1px"}}),ss(r,m)),a.reactExports.createElement(t.Menu.Content,Object.assign({"data-sharing-sdk":"1"},e(),{placement:"bottom-end"}),a.reactExports.createElement(t.Menu.Segment,null,E.map((e=>a.reactExports.createElement(t.Menu.SelectItem,{key:e[".tag"],value:e,"data-testid":"access-level-section-dropdown-view-item",selected:m===e},ss(r,e)))))))))):null),a.reactExports.createElement(p.Typeahead.Container,Object.assign({},M,{triggerRef:i,open:k,"data-testid":"typeahead-container",auto:T}),a.reactExports.createElement(p.Typeahead.Results,{title:r.formatMessage({id:"ZusjWv",defaultMessage:"Suggested people"}),results:g,renderRow:x,initialResults:""===o?3:10,maxResults:10})))})))};ns.displayName="TargetsTokenizer";const rs="scl-info-box";class is extends a.reactExports.Component{componentDidMount(){setTimeout((()=>{(new Image).src=this.props.imgPath}),200)}render(){const{imgPath:e,imgAlt:s,title:n,message:r}=this.props;return a.reactExports.createElement("div",{className:rs},a.reactExports.createElement("img",{src:e,className:`${rs}__img`,alt:s}),a.reactExports.createElement("div",{className:`${rs}__text`},a.reactExports.createElement(t.Title,{size:"small",isBold:!0},n),a.reactExports.createElement(t.Text,{size:"small"},r)))}}is.displayName="InfoBox";const os=()=>{const e=c.useIntl();return a.reactExports.createElement("div",{className:"banner-wrapper"},a.reactExports.createElement(t.Banner,{withLeftIcon:a.reactExports.createElement(t.UIIcon,{src:t.InfoLine}),"data-testid":"audience-conflict-banner"},a.reactExports.createElement(t.Banner.Message,null,e.formatMessage({id:"suIfYq",defaultMessage:"Your admin has changed the <b>Who has access</b> default link sharing settings, but you can still adjust settings for certain items."},{b:e=>a.reactExports.createElement("b",null,e)}))))};os.displayName="AudienceConflictBanner";const ls=(e,t)=>({options:e,useAction:t}),cs=(e,t)=>({success:!1,type:e,value:t}),ds=(e,t)=>({success:!0,type:e,value:t}),gs=e=>({success:!1,type:"TypeExhaustion",value:{value:e}}),us=e=>({success:!1,type:"UncaughtException",value:{error:e}}),ps=e=>{const t=e.options.name,s=e.useAction(),n=ke();return a.reactExports.useCallback((e=>l.__awaiter(void 0,void 0,void 0,(function*(){let a;n("ACTION__START",{name:t,input:e});try{a=yield s(e)}catch(e){a=us(e)}return n("ACTION__COMPLETE",{name:t,input:e,output:a}),a}))),[n,s,t])},_s=gt({name:"sharing.create_shared_link_with_settings"},(e=>t=>dt(e.sharingAlphaCreateSharedLinkWithSettings(t)))),ms=gt({name:"sharing.share_folder"},(e=>t=>dt(e.sharingAlphaShareFolder(t)))),Es=(e,t)=>{const a=(null==t?void 0:t.timeout)||1e4,s=(null==t?void 0:t.interval)||1e3;return new Promise((t=>{const n=setTimeout((()=>t({status:"TIMEOUT"})),a),r=()=>l.__awaiter(void 0,void 0,void 0,(function*(){try{const a=yield e();if("COMPLETE"===a.status)return clearTimeout(n),void t(a);setTimeout(r,s)}catch(e){clearTimeout(n),t({status:"ERROR",error:e})}}));r()}))},hs=gt({name:"sharing.checkShareInternalJobStatus"},(e=>t=>dt(e.sharingCheckShareInternalJobStatus(t)))),fs=ls({name:"CheckShareFileFolderJobStatus"},(()=>{const e=Yt(hs);return a.reactExports.useCallback((({asyncJobId:t})=>l.__awaiter(void 0,void 0,void 0,(function*(){const a=yield e({async_job_id:t});return"FATAL"===a.status?cs("NetworkFailure",{response:a}):"ERROR"===a.status?cs("ApiError",{response:a}):"in_progress"===a.output[".tag"]?ds("InProgress",{response:Object.assign(Object.assign({},a),{output:a.output})}):"failed"===a.output[".tag"]?cs("Failed",{response:Object.assign(Object.assign({},a),{output:a.output})}):"complete"===a.output[".tag"]?ds("Complete",{response:Object.assign(Object.assign({},a),{output:a.output})}):gs(a.output)}))),[e])})),bs=ls({name:"PollCheckShareFileFolderJobStatus"},(()=>{const e=ps(fs);return a.reactExports.useCallback((({asyncJobId:t,timeout:a,interval:s})=>l.__awaiter(void 0,void 0,void 0,(function*(){const n=yield Es((()=>l.__awaiter(void 0,void 0,void 0,(function*(){const a=yield e({asyncJobId:t});return"InProgress"===a.type?{status:"RETRY"}:{status:"COMPLETE",output:a}}))),{timeout:a,interval:s});return"TIMEOUT"===n.status?cs("Timeout",null):"ERROR"===n.status?us(n.error):n.output.success?ds("Complete",n.output.value):n.output}))),[e])})),As=ls({name:"ShareFileFolder"},(()=>{const e=Yt(ms),t=ps(bs);return a.reactExports.useCallback((({path:a,timeout:s,interval:n})=>l.__awaiter(void 0,void 0,void 0,(function*(){const r=yield e({path:a});if("ERROR"===r.status)return cs("ApiError",{response:r});if("FATAL"===r.status)return cs("NetworkFailure",{response:r});if("complete"===r.output[".tag"])return ds("Complete",{response:Object.assign(Object.assign({},r),{output:r.output})});if("async_job_id"!==r.output[".tag"])return gs(r.output);const i=yield t({asyncJobId:r.output.async_job_id,timeout:s,interval:n});return i.success?ds("PollingComplete",i.value):"ApiError"===i.type?cs("PollingApiError",i.value):"NetworkFailure"===i.type?cs("PollingNetworkFailure",i.value):"Failed"===i.type?cs("PollingFailed",i.value):"Timeout"===i.type?cs("PollingTimeout",i.value):i}))),[e,t])}));e.ACL_UPDATE_POLICY="acl_update_policy",e.ActionContainer=re,e.ActionSection=ya,e.AudienceConflictBanner=os,e.Banner=z,e.CHANGE_OPTIONS_TAG=vt,e.CREATE_EDIT_LINK_TAG=At,e.CREATE_VIEW_LINK_TAG=bt,e.Card=M,e.CheckboxWithLabel=ka,e.DISABLE_VIEWER_INFO_TAG=kt,e.DISALLOWED_REASON_DELETE_AND_RECREATE={".tag":"delete_and_recreate"},e.DISALLOWED_REASON_PERMISSION_DENIED={".tag":"permission_denied"},e.DISALLOWED_REASON_RESTRICTED_BY_SHARED_FOLDER={".tag":"restricted_by_shared_folder"},e.DISALLOWED_REASON_RESTRICTED_BY_TEAM={".tag":"restricted_by_team"},e.DISALLOWED_REASON_USER_ACCOUNT_TYPE={".tag":"user_account_type"},e.DISALLOWED_REASON_USER_NOT_ON_TEAM={".tag":"user_not_on_team"},e.DROPDOWN=b,e.DisableDownloadsBanner=e=>{const{intl:t,linkPolicy:s,linkPermissions:n}=e;return!s.allow_download&&n.can_disallow_download?a.reactExports.createElement(o.SharingModalBanner,{className:"sharing-settings-modal__banner",type:"warn",message:t.formatMessage({id:"+EZZAD",defaultMessage:"This applies only within Dropbox."})}):null},e.EDITOR=pe,e.EDITOR$1={".tag":"editor"},e.EDIT_LINK_SETTINGS="edit_link_settings",e.ENABLE_VIEWER_INFO_TAG=Ot,e.EmptyMemberList=xa,e.Emstring=D,e.FILE_SETTINGS="file_settings",e.FOLDER_LINK_AUDIENCE_POLICY="shared_link_policy",e.FOLDER_SETTINGS="folder_settings",e.FormValidationMessage=function({message:e,variant:s}){if(!e)return null;const n="error"===s?"alert":"warning";return a.reactExports.createElement(t.Banner,{type:n},a.reactExports.createElement(t.Banner.Message,{className:"scl-sharing-modal-validation-warning__message"},e))},e.HelpInfo=Ia,e.INVITE_AFTER_SHARING_MODAL_ADMIN_INVITE_EXPAND_ELIGIBILITY={".tag":"admin_invite_expand_eligibility"},e.INVITE_AFTER_SHARING_MODAL_MEMBER_INVITE_EXPAND_ELIGIBILITY={".tag":"member_invite_expand_eligibility"},e.INVITE_AFTER_SHARING_MODAL_MEMBER_SUGGESTION_EXPAND_ELIGIBILITY={".tag":"member_suggestion_expand_eligibility"},e.INVITE_AFTER_SHARING_MODAL_NOT_ENABLED={".tag":"not_enabled"},e.INVITE_EDITOR_TAG=Et,e.INVITE_VIEWER_NO_COMMENT_TAG=ft,e.INVITE_VIEWER_TAG=ht,e.IconLink=({className:e,variant:t})=>a.reactExports.createElement("svg",{className:e,width:"32px",height:"32px",viewBox:"0 0 32 32",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},a.reactExports.createElement("g",{stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},a.reactExports.createElement("circle",{stroke:"#D0D4D9",strokeWidth:"1.32",cx:"16",cy:"16",r:"15.34",fill:V[t||"default"]}),(e=>{switch(e){case"edit":return B();case"view":return U();default:return G()}})(t||"default"))),e.InfoBox=is,e.MEMBER_POLICY="member_policy",e.MetadataProvider=Ce,e.NO_ONE=me,e.OTHER=_e,e.OTHER$1={".tag":"other"},e.OTHER$2={".tag":"other"},e.OWNER={".tag":"owner"},e.PASSWORD=Ee,e.PUBLIC=fe,e.Provider=ea,e.RELINQUISH_MEMBERSHIP_TAG=St,e.REMOVE_DOWNLOAD_POLICY_TAG=xt,e.SET_DOWNLOAD_POLICY_TAG=Tt,e.SHARE_MESSAGE_AS_COMMENT_TAG=Mt,e.ScooterLoader=W,e.SettingDropdown=S,e.SettingPolicyRow=y,e.SettingsToggle=k,e.ShareModalManageLinksInner=_a,e.SharingAvatarInitials=se,e.SharingModalDowngradeBanner=Z,e.SharingModalHeader=X,e.SharingModalHeaderInput=Q,e.SharingModalHeaderTitle=J,e.SharingModalHeaderWithBackButton=ae,e.SharingModalSettingsRow=x,e.SharingSettingsAudience=function(e){const{intl:t,linkPermissions:s}=e;let n;s.audience_options.filter((e=>e.allowed)).length>1||(n=a.reactExports.createElement(P,{intl:t,linkPermissions:s}));const r=e.getPolicyDict(h),i=a.reactExports.createElement(F,Object.assign({},e));return a.reactExports.createElement(y,{policyName:h,policyDict:r,selector:i,extra:n})},e.SharingSettingsDownload=e=>{const t=e.getPolicyDict(m),s=e.isEditFolderLink?void 0:a.reactExports.createElement(H,Object.assign({},e)),n=e.isEditFolderLink?"setting-disabled":"";return a.reactExports.createElement(y,{policyName:m,policyDict:t,selector:s,onLinkClicked:e.onLinkClicked,extra:e.banner,className:n})},e.SharingSettingsExpire=e=>{const t=e.getPolicyDict(_),s=t=>{t&&t.expires instanceof Date&&(t.expires.setHours(23),t.expires.setMinutes(59),t.expires.setSeconds(59)),e.onPolicyUpdate(t)},n=null!=e.linkPolicy.expires,r=a.reactExports.createElement(I,Object.assign({},e,{onPolicyUpdate:s})),i=a.reactExports.createElement("div",null,r,n&&a.reactExports.createElement(C,Object.assign({},e,{onPolicyUpdate:s})));return a.reactExports.createElement(y,{policyName:_,policyDict:t,selector:i})},e.SharingSettingsLinkPolicies=e=>({getShmodelInMultipleLinksPolicyDict(t,a){switch(t){case h:return{title:e.formatMessage({id:"uCVAxq",defaultMessage:"Who has access"}),description:a?e.formatMessage({id:"4HZCOQ",defaultMessage:"Control who can view the folder with this link."}):e.formatMessage({id:"xb28qW",defaultMessage:"Control who can view the file with this link."}),optionsDict:{public:{label:e.formatMessage({id:"JWcJZ7",defaultMessage:"Anyone with link"}),description:a?e.formatMessage({id:"ysL13U",defaultMessage:"Anyone with this link can view the folder."}):e.formatMessage({id:"oxZeg7",defaultMessage:"Anyone with this link can view the file."})},team:{label:e.formatMessage({id:"i9dq7T",defaultMessage:"Team members"}),description:a?e.formatMessage({id:"AvhnVi",defaultMessage:"Team members with this link can view the folder."}):e.formatMessage({id:"YTZEp1",defaultMessage:"Team members with this link can view the file."})},password:{label:e.formatMessage({id:"DDCDRp",defaultMessage:"People with password"}),description:a?e.formatMessage({id:"uos+ms",defaultMessage:"Password protect this link for viewing the folder."}):e.formatMessage({id:"oPivFQ",defaultMessage:"Password protect this link for viewing the file."})},no_one:{label:e.formatMessage({id:"kuFRq0",defaultMessage:"Only people invited"}),description:e.formatMessage({id:"+ZBQS4",defaultMessage:"The link is off and does not grant additional access to anyone."})}},type:b};case _:return{title:e.formatMessage({id:"HIIRnD",defaultMessage:"Expiration"}),description:e.formatMessage({id:"92TP40",defaultMessage:"Disable this link on a specific date."}),optionsDict:{enabled:{label:e.formatMessage({id:"J8zY2i",defaultMessage:"On"}),value:!0},disabled:{label:e.formatMessage({id:"w6dVgn",defaultMessage:"Off"}),value:!1}},type:A};case m:return{title:e.formatMessage({id:"d8lth0",defaultMessage:"Disable downloads"}),description:e.formatMessage({id:"B5ygR1",defaultMessage:"Prevent people with this link from downloading."}),descriptionLinkUrl:"/help/files-folders/set-link-permissions",descriptionLinkText:e.formatMessage({id:"gk12sS",defaultMessage:"Learn more"}),optionsDict:{enabled:{label:e.formatMessage({id:"47AlCD",defaultMessage:"On"}),value:!0},disabled:{label:e.formatMessage({id:"0oEiHx",defaultMessage:"Off"}),value:!1}},type:A};case E:return{title:e.formatMessage({id:"LtXXzz",defaultMessage:"Default sharing settings"}),description:e.formatMessage({id:"dVXrDR",defaultMessage:"Go to account settings to set a default sharing permission"}),optionsDict:{},type:v};default:throw new Error("Policy name not found")}},getRLPolicyDict(t,a,s,n=!1){const r="editor"===a;switch(t){case h:return{title:e.formatMessage({id:"uCVAxq",defaultMessage:"Who has access"}),description:r?s?e.formatMessage({id:"inMOXx",defaultMessage:"Control who can edit the folder with this link."}):n?e.formatMessage({id:"q43j+5",defaultMessage:"Control who can edit the collection with this link."}):e.formatMessage({id:"/1cHLH",defaultMessage:"Control who can edit the file with this link."}):n?e.formatMessage({id:"RE27lR",defaultMessage:"Control who can view the collection with this link."}):e.formatMessage({id:"xb28qW",defaultMessage:"Control who can view the file with this link."}),optionsDict:{public:{label:e.formatMessage({id:"JWcJZ7",defaultMessage:"Anyone with link"}),description:r?s?e.formatMessage({id:"w/+tle",defaultMessage:"Anyone with this link can edit the folder."}):n?e.formatMessage({id:"6f9EIg",defaultMessage:"Anyone with this link can edit the collection."}):e.formatMessage({id:"a3Sd0R",defaultMessage:"Anyone with this link can edit the file."}):n?e.formatMessage({id:"anz5bU",defaultMessage:"Anyone with this link can view the collection."}):e.formatMessage({id:"oxZeg7",defaultMessage:"Anyone with this link can view the file."})},team:{label:e.formatMessage({id:"i9dq7T",defaultMessage:"Team members"}),description:r?s?e.formatMessage({id:"qUcOUf",defaultMessage:"Team members with this link can edit the folder."}):n?e.formatMessage({id:"+rwKpP",defaultMessage:"Team members with this link can edit the collection."}):e.formatMessage({id:"dyCqAa",defaultMessage:"Team members with this link can edit the file."}):n?e.formatMessage({id:"p6witM",defaultMessage:"Team members with this link can view the collection."}):e.formatMessage({id:"YTZEp1",defaultMessage:"Team members with this link can view the file."})},no_one:{label:e.formatMessage({id:"kuFRq0",defaultMessage:"Only people invited"}),description:e.formatMessage({id:"+ZBQS4",defaultMessage:"The link is off and does not grant additional access to anyone."})}},type:b};case f:return{title:e.formatMessage({id:"8stY8L",defaultMessage:"Require password"}),description:s?e.formatMessage({id:"1Syz7Y",defaultMessage:"Set a password to limit access to the folder via link."}):n?e.formatMessage({id:"7ahyOy",defaultMessage:"Set a password to limit access to the collection via link."}):e.formatMessage({id:"AH/PXS",defaultMessage:"Set a password to limit access to the file via link."}),optionsDict:{enabled:{label:e.formatMessage({id:"oUP+qL",defaultMessage:"On"}),value:!0},disabled:{label:e.formatMessage({id:"h58mvf",defaultMessage:"Off"}),value:!1}},type:A};case m:{const t=r&&(s||n);return{title:e.formatMessage({id:"d8lth0",defaultMessage:"Disable downloads"}),description:t?e.formatMessage({id:"RQ2sAU",defaultMessage:"To disable downloads, share the link for viewing."}):e.formatMessage({id:"B5ygR1",defaultMessage:"Prevent people with this link from downloading."}),descriptionLinkUrl:"/help/files-folders/set-link-permissions",descriptionLinkText:t?void 0:e.formatMessage({id:"gk12sS",defaultMessage:"Learn more"}),optionsDict:{enabled:{label:e.formatMessage({id:"47AlCD",defaultMessage:"On"}),value:!0},disabled:{label:e.formatMessage({id:"0oEiHx",defaultMessage:"Off"}),value:!1}},type:A}}case _:return{title:e.formatMessage({id:"HIIRnD",defaultMessage:"Expiration"}),description:e.formatMessage({id:"92TP40",defaultMessage:"Disable this link on a specific date."}),optionsDict:{enabled:{label:e.formatMessage({id:"J8zY2i",defaultMessage:"On"}),value:!0},disabled:{label:e.formatMessage({id:"w6dVgn",defaultMessage:"Off"}),value:!1}},type:A};case E:return{title:e.formatMessage({id:"LtXXzz",defaultMessage:"Default sharing settings"}),description:e.formatMessage({id:"dVXrDR",defaultMessage:"Go to account settings to set a default sharing permission"}),optionsDict:{},type:v};default:throw new Error("Policy name not found")}}}),e.SharingSettingsPassword=e=>{const{getPolicyDict:t,linkPolicy:s}=e,r=t(f),i=a.reactExports.createElement("div",null,(e=>{const{linkPolicy:t,linkPermissions:s,getPolicyDict:r,onPolicyUpdate:i}=e,o=r(f).optionsDict,l=t.require_password?"enabled":"disabled";return a.reactExports.createElement(k,{currentValue:l,optionsDict:o,onOptionChange:(e,t)=>{i({require_password:e})},disabled:!n.canTogglePassword(s)||w(s,t.audience)||e.readOnlyPolicy})})(e),(s.require_password||w(e.linkPermissions,s.audience)&&!e.readOnlyPolicy)&&a.reactExports.createElement(R,Object.assign({},e)));return a.reactExports.createElement(y,{policyName:f,policyDict:r,selector:i})},e.TEAM=he,e.TOGGLE=A,e.TargetsTokenizer=ns,e.UNSHARE_TAG=yt,e.VIEWER=ue,e.VIEWER$1={".tag":"viewer"},e.VIEWER_INFO_POLICY="viewer_info_policy",e.VIEWER_NO_COMMENT={".tag":"viewer_no_comment"},e.VIEW_LINK_SETTINGS="view_link_settings",e.action=As,e.batch=Be,e.checkShareInternalJobStatus=hs,e.copy=e=>l.__awaiter(void 0,void 0,void 0,(function*(){if(navigator.clipboard)try{return yield navigator.clipboard.writeText(e),{".tag":"success",copyMethod:"clipboard_api"}}catch(e){}const t=document.createElement("input");t.type="text",t.value=e,document.body.appendChild(t),t.select();try{return document.execCommand("copy")?{".tag":"success",copyMethod:"exec_command"}:{".tag":"failure"}}catch(e){return{".tag":"failure"}}finally{document.body.removeChild(t)}})),e.create=le,e.createFromEmail=ce,e.createSharedLink=_s,e.define=gt,e.defineProxy=(e,t)=>({name:e.name,useFetch:t,type:"proxy"}),e.exhausts=oe,e.formatAccessName=(e,t)=>"editor"===t[".tag"]?ma(e):"owner"===t[".tag"]?(e=>e.formatMessage({id:"/epRg4",defaultMessage:"Owner"}))(e):"viewer"===t[".tag"]?Ea(e):"viewer_no_comment"===t[".tag"]?ha(e):Ea(e),e.formatAccessNameEditor=ma,e.formatAccessNameViewer=Ea,e.formatAccessNameViewerNoComment=ha,e.formatChangeAccessCantChangeAccess=(e,a)=>e.formatMessage({id:"b2R7ut",defaultMessage:"Can't change access for {memberName}"},{memberName:D.em_snippet(a,t.SNIPPET_SIZES.DISPLAY_NAME)}),e.formatChangeAccessCantChangeAccessParentAccess=(e,s)=>e.formatMessage({id:"yBb3AO",defaultMessage:"Because they can edit the parent folder, their access to <b>{contentName}</b> can't be changed."},{contentName:D.em_snippet(s,t.SNIPPET_SIZES.FILENAME),b:e=>a.reactExports.createElement("b",{style:{fontWeight:500}},e)}),e.formatChangeAccessCouldntChangeAccess=(e,a)=>e.formatMessage({id:"fP62vP",defaultMessage:"Couldn't change access for {memberName}"},{memberName:D.em_snippet(a,t.SNIPPET_SIZES.DISPLAY_NAME)}),e.formatChangeAccessFromInheritedMember=(e,s,n,r)=>e.formatMessage({id:"kQXitL",defaultMessage:"{count, plural, one{To change their access to <b>{contentName}</b>, you'll need to change their access to the parent folder <b>{singleParentFolderName}</b>.} other{To change their access to <b>{contentName}</b>, you'll need to change their access to the parent folders listed.}}"},{count:s,contentName:D.em_snippet(n,t.SNIPPET_SIZES.FILENAME),singleParentFolderName:D.em_snippet(r,t.SNIPPET_SIZES.FILENAME),b:e=>a.reactExports.createElement("b",{style:{fontWeight:500}},e)}),e.formatCloseAriaLabelText=e=>e.formatMessage({id:"6K7VUR",defaultMessage:"Close"}),e.formatDowngradeBannerGotIt=e=>e.formatMessage({id:"YCTkuR",defaultMessage:"Got It"}),e.formatDowngradeBannerHeader=e=>e.formatMessage({id:"YBKCoS",defaultMessage:"People who can view could still edit via link"}),e.formatDowngradeBannerManageLinks=e=>e.formatMessage({id:"J9wEBS",defaultMessage:"Manage Links"}),e.formatDowngradeBannerSubheader=e=>e.formatMessage({id:"iYhJt/",defaultMessage:"You can delete the link to further restrict access."}),e.formatManageAccessFailureButtonText=e=>e.formatMessage({id:"DzCuYI",defaultMessage:"Okay"}),e.formatMemberActionMakeCollectionEditor=e=>e.formatMessage({id:"WlnggN",defaultMessage:"People can edit, delete, and add items to this collection"}),e.formatMemberActionMakeCollectionViewer=e=>e.formatMessage({id:"svq/mv",defaultMessage:"People can view and download items in this collection"}),e.formatMemberActionMakeFileEditor=e=>e.formatMessage({id:"ScDA/0",defaultMessage:"People can edit, delete, comment, and add the file to their Dropbox"}),e.formatMemberActionMakeFolderEditor=e=>e.formatMessage({id:"UznKXK",defaultMessage:"People can edit, delete, comment, and add the files to their Dropbox"}),e.formatMemberActionMakeViewer=e=>e.formatMessage({id:"jSEExB",defaultMessage:"People can view, download, and comment"}),e.formatMemberActionMakeViewerNoComment=e=>e.formatMessage({id:"5AmS1v",defaultMessage:"People can only view and download the file"}),e.formatRelinquishAccessDropdownOption=e=>e.formatMessage({id:"4xmHQa",defaultMessage:"Remove my access"}),e.formatRelinquishAccessKeepACopy=e=>e.formatMessage({id:"lLVlO2",defaultMessage:"Keep a copy of this folder"}),e.formatRelinquishAccessOtherAccessMessage=e=>e.formatMessage({id:"1aWCsg",defaultMessage:"You may still have access to this folder through a company group or parent folder."}),e.formatRelinquishAccessRemoveYourAccessConfirmation=e=>e.formatMessage({id:"6NPSkt",defaultMessage:"If you continue, you won’t be able to access this file anymore."}),e.formatRelinquishAccessRemoveYourAccessPrompt=e=>e.formatMessage({id:"FCMIIX",defaultMessage:"Remove your access to this file?"}),e.formatRelinquishAccessUserConfirmationPrompt=e=>e.formatMessage({id:"bsRTH6",defaultMessage:"Remove your access to this folder?"}),e.formatRelinquishAccessUserConfirmationWarning=e=>e.formatMessage({id:"fchbsZ",defaultMessage:"If you continue, you won’t be able to access this folder anymore."}),e.formatRemoveAccessAccessReminder=e=>e.formatMessage({id:"WhoBZ9",defaultMessage:"Keep in mind, if they have a shared link to this file, they might still be able to view or edit it."}),e.formatRemoveAccessAccessReminderGroupMembers=e=>e.formatMessage({id:"oax1/b",defaultMessage:"Keep in mind, if group members have a shared link to this file, they might still be able to view or edit it."}),e.formatRemoveAccessCantRemoveAccess=(e,a)=>e.formatMessage({id:"jc0mkL",defaultMessage:"Couldn't remove {memberName}"},{memberName:D.em_snippet(a,t.SNIPPET_SIZES.DISPLAY_NAME)}),e.formatRemoveAccessCantRemoveAccessParentAccess=(e,s)=>e.formatMessage({id:"hUvz9T",defaultMessage:"Because they have access to the parent folder, they can't be removed from <b>{contentName}</b>."},{contentName:D.em_snippet(s,t.SNIPPET_SIZES.FILENAME),b:e=>a.reactExports.createElement("b",{style:{fontWeight:500}},e)}),e.formatRemoveAccessFromInheritedMember=(e,s,n,r)=>e.formatMessage({id:"wslHDy",defaultMessage:"{count, plural, one{To remove them from <b>{contentName}</b>, you'll need to remove them from the parent folder <b>{singleParentFolderName}</b>.} other{To remove them from <b>{contentName}</b>, you'll need to remove them from the parent folders listed.}}"},{count:s,contentName:D.em_snippet(n,t.SNIPPET_SIZES.FILENAME),singleParentFolderName:D.em_snippet(r,t.SNIPPET_SIZES.FILENAME),b:e=>a.reactExports.createElement("b",{style:{fontWeight:500}},e)}),e.formatRemoveAccessKeepACopy=(e,t)=>e.formatMessage({id:"82sluj",defaultMessage:"Let {name} keep a copy of this shared folder"},{name:t}),e.formatRemoveAccessMakeUserOwnerConfirmation=e=>e.formatMessage({id:"3Do/LR",defaultMessage:"Make owner"}),e.formatRemoveAccessMakeUserOwnerInformation=(e,t)=>e.formatMessage({id:"y7GDnJ",defaultMessage:"{name} will become the owner of all items in this folder. Only they will be able to unshare or change folder settings."},{name:t}),e.formatRemoveAccessMakeUserOwnerPrompt=(e,t)=>e.formatMessage({id:"khEZSl",defaultMessage:"Make {name} the owner of this folder?"},{name:t}),e.formatRemoveAccessRemoveAccessRemoveButton=e=>e.formatMessage({id:"VVzPdA",defaultMessage:"Remove"}),e.formatRemoveAccessRemoveUserAccessPrompt=(e,t)=>e.formatMessage({id:"WJ0lPe",defaultMessage:"Remove {name}?"},{name:t}),e.formatRemoveAccessRemoveUserFutureChangesWarning=(e,t)=>e.formatMessage({id:"RL/0uv",defaultMessage:"If you remove <strong>{name}</strong>, they won’t be able to see future changes to this shared folder."},{strong:e=>a.reactExports.createElement("strong",null,e),name:t}),e.formatRemoveAccessRemoveUserFutureChangesWarningExtended=(e,t)=>e.formatMessage({id:"eBf70w",defaultMessage:"If you remove <strong>{name}</strong>, they won’t be able to see future changes to this shared folder. Keep in mind that anyone who can access the parent folder will still be able to access this folder."},{strong:e=>a.reactExports.createElement("strong",null,e),name:t}),e.formatRemoveAccessRemoveUserWarning=(e,t,s)=>e.formatMessage({id:"pnMbuO",defaultMessage:"If you remove <strong>{name}</strong>, they won’t be able to see future changes to this shared folder. Keep in mind that anyone who can access <strong>{parentname}</strong> will still be able to access this folder."},{strong:e=>a.reactExports.createElement("strong",null,e),name:t,parentname:s}),e.formatRemoveBannerHeader=e=>e.formatMessage({id:"w/RnTZ",defaultMessage:"People might still have access via link"}),e.formatUrl=je,e.getByAccessLevel=Bt,e.getCanChangeOptions=e=>jt(e,vt),e.getCanCreateLink=$t,e.getCanDeleteLink=e=>{if(e){return e.link_permissions.can_revoke}return!1},e.getCanDisableViewerInfo=e=>jt(e,kt),e.getCanDoAction=jt,e.getCanDoSomeActions=(e,t)=>t.some((t=>jt(e,t))),e.getCanEnableViewerInfo=e=>jt(e,Ot),e.getCanInvite=Ft,e.getCanUnshareObject=e=>jt(e,yt),e.getContentIdOrPathFromObjectIdentifier=e=>"file"===e[".tag"]?e.fileId:"file_folder"===e[".tag"]?e.path:"shared_folder"===e[".tag"]?`ns:${e.sharedFolderId}`:`ns:${e.nsId}`,e.getCurrentAudience=Ut,e.getDaysUntilExpiration=e=>{const t=e.expires;if(!t)return null;const a=(new Date(t).getTime()-Date.now())/864e5;return Math.floor(Math.max(a,0))},e.getDefaultAudience=(e,t,a,s)=>{if(!e)return me;if("members"===t.shared_link_policy[".tag"])return me;if(null!==a){if("members"===a.shared_folder_link_restriction_policy[".tag"])return me;const e=a.shared_link_create_policy[".tag"];if("team_only"===e||"default_team_only"===e)return he;if("default_no_one"===e)return me}return null!=s?s:fe},e.getEditLinkMetadata=Vt,e.getFolderPolicy=Pt,e.getGroupInitials=Ra,e.getIsBrowserCopyEnabled=()=>{const e=document.createElement("input");e.value="sharing is caring",document.body.appendChild(e),e.select();const t=document.queryCommandEnabled("copy");return document.body.removeChild(e),t},e.getIsCollection=wt,e.getIsConfidentialFolder=Lt,e.getIsFile=Ct,e.getIsFolder=It,e.getIsInsideTeamFolderTree=Dt,e.getIsLinkOnlyMode=e=>"link_only"===e[".tag"],e.getIsLowerAccess=(e,t)=>{const a=Object.keys(ie);return e!==t&&-1!==a.indexOf(e)&&-1!==a.indexOf(t)&&ie[t]<ie[e]},e.getIsNSLinkOnlyMode=e=>e.hasOwnProperty("tooManyMountsError"),e.getIsNonSharedFolder=e=>"file_folder"===e[".tag"],e.getIsSharedFolder=Nt,e.getIsTeamFolderTree=e=>Rt(e)&&Dt(e),e.getIsTeamMemberFolder=e=>!Dt(e)&&e.owner_team,e.getIsTeamSharedFolder=Rt,e.getLinkAudiencePolicy=e=>{var t;return null===(t=Pt(e).shared_link_policy)||void 0===t?void 0:t[".tag"]},e.getParentFolderName=e=>{if(Ct(e)){const t=e.path_display;if(t){const e=t.split("/");if(e.length>1)return e[e.length-2]}}return It(e)&&"parent_folder_name"in e&&e.parent_folder_name||""},e.getParentSharedFolderId=e=>e.parent_shared_folder_id||null,e.getPermissionInfo=(e,t)=>{var a;return(null!==(a=e.permissions)&&void 0!==a?a:[]).find((e=>e.action[".tag"]===t[".tag"]))},e.getUniqueId=de,e.getUserDefaultAccessLevel=e=>{const a=e.default_sharing_access_level_setting;if(!a)return pe;switch(a[".tag"]){case t.SharingAccessLevel.UNKNOWN:case t.SharingAccessLevel.EDIT:return pe;case t.SharingAccessLevel.VIEW:return ue;default:return pe}},e.getUserDefaultLinkAudience=e=>{const a=e.default_sharing_link_audience_setting;if(!a)return fe;switch(a[".tag"]){case t.SharingLinkAudience.UNKNOWN:case t.SharingLinkAudience.PUBLIC:return fe;case t.SharingLinkAudience.NO_ONE:return me;case t.SharingLinkAudience.TEAM:return he;default:return fe}},e.getUserInitials=Da,e.getViewLinkMetadata=Ht,e.getViewerInfoPolicyEnabled=e=>{var t;return"enabled"===(null===(t=Pt(e).viewer_info_policy)||void 0===t?void 0:t[".tag"])},e.handler=dt,e.initializeSdk=e=>{const t=window.location.hostname;if(!ta.test(t)&&!aa.test(t))throw new Error("Cannot initialize the SDK on an unsupported domain.");const a=new g.DropboxAuth({domain:window.location.hostname,domainDelimiter:""});return new g.Dropbox({auth:a,fetch:(t,a)=>{const s=new Headers((null==a?void 0:a.headers)||[]),n=window.location.hostname;(ta.test(n)||aa.test(n))&&s.append("X-CSRF-Token",u.Cookies.read("__Host-js_csrf")||""),s.append("X-Dropbox-Uid",e.id.toString());const r=e.root_ns_id;null!==r&&s.append("Dropbox-API-Path-Root",JSON.stringify({".tag":"namespace_id",namespace_id:r.toString()}));const i=Object.assign(Object.assign({},a||{}),{headers:s});return fetch(t,i)}})},e.isBoolean=at,e.isConfidentialFolderLinksEnabled=be,e.isObjectOf=it,e.isString=nt,e.poll=Es,e.proxy=Ve,e.shareFolder=ms,e.store=He,e.toMemberSelector=e=>"email"===e[".tag"]?{".tag":"email",email:e.email}:"group"===e[".tag"]?{".tag":"dropbox_id",dropbox_id:e.group_id}:"user"===e[".tag"]?""===e.dbx_account_id?{".tag":"email",email:e.email}:{".tag":"dropbox_id",dropbox_id:e.dbx_account_id}:{".tag":"other"},e.useAction=ps,e.useEndpoint=Yt,e.useInitStore=Ge,e.useLogger=ke,e.useOpenUrl=qe,e.usePlatform=Le,e.useSnackbar=Ye,e.useStore=Ue}));
//# sourceMappingURL=c_src_utils_clipboard.js-vflHRd6fm.map
