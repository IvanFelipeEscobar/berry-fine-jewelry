define(["require","exports","./c_tslib","./e_ui_page_files_router","./e_edison","./c_file_activity_component_file_activity_blade","./c_core_data_utils","./c_file_viewer_file_viewer_components","./c_core_logging_constants","./c_api_v2_redux_files","metaserver/static/js/modules/constants/files_spa","./c_core_i18n","./e_core_exception","./c_core_exception_info","metaserver/static/js/modules/constants/page_load","metaserver/static/js/modules/constants/request","./c_lodash-es_lodash","./c_src_sink_index","./c_apex-metrics_src_types","./c_core_browser_detection","metaserver/static/js/modules/core/langpack","metaserver/static/js/modules/constants/env","metaserver/static/js/modules/constants/viewer","metaserver/static/js/modules/constants/auth","./c_core_xhr","./c_csrf","./c_browser_cookies","metaserver/static/js/modules/constants/time","metaserver/static/js/modules/constants/ajax_strings","./c_core_notify","metaserver/static/js/modules/constants/locales","metaserver/static/js/modules/constants/webtiming","metaserver/static/js/modules/constants/campaigns_orchestration","metaserver/static/js/modules/constants/maestro_nav_strings","metaserver/static/js/modules/constants/trademark","metaserver/static/js/modules/constants/search","metaserver/static/js/modules/constants/web_experience_constants","metaserver/static/js/modules/constants/sharing","metaserver/static/js/modules/constants/undo_strings","./c_src_right-rail_hooks","./c_components_approval-forms_approval_metadata","./c_contacts_data_v2","./c_contacts_bloodhound","metaserver/static/js/modules/constants/contacts","./c_profile_services_profile_services_link","./c_profile_services_profile_services_constants","metaserver/static/js/modules/constants/login_and_register","./c_flows_approval_approval_io_client","./c_typeahead_index","./c_form_row_index","./c_file_viewer_sdk_file_viewer_experiments","metaserver/static/js/modules/constants/file_viewer_configuration","metaserver/static/js/modules/constants/file_viewer_feature_experiments","metaserver/static/js/modules/constants/file_viewer_flows_experiments","./c_breadcrumb_index","./c_components_approval-forms_url_utils","./c_file_store_utils","./c_list_index","./c_combinations_index","./c_core_data_preview_key","./c_core_types_preview_type","./c_file_viewer_logging_performance","./c_file_viewer_file_extension_extension_constants","./c_src_simple-action-bar_action_bar_types","./c_file_viewer_toolbar","./c_truncate_index","./c_resize-observer-polyfill_dist_ResizeObserver"],(function(e,t,s,i,r,o,c,n,a,_,l,d,m,v,u,f,p,h,g,y,x,I,b,w,j,R,A,C,E,V,k,U,T,$,F,H,P,L,M,B,O,z,D,G,N,S,Y,q,J,K,Q,W,X,Z,ee,te,se,ie,re,oe,ce,ne,ae,_e,le,de,me){"use strict";const ve=r.React$1.lazy((()=>s.__awaiter(void 0,void 0,void 0,(function*(){const{FileActivity:t}=yield new Promise((function(t,s){e(["./c_file_activity_component_file_activity_blade"],t,s)})).then((function(e){return e.file_activity_esnext}));return{default:t}}))));t.FileActivityPluginBase=class{constructor(e,t,s,l,d){this.lifecycle={},this.rightRailUI={Sidebar:e=>{const t=this.onOpenVersionHistory,s=r.reactExports.useMemo((()=>t?{enabled:!0,onVersionHistoryClicked:()=>{t(),this.context.logUserAction(a.UserAction.VersionHistory,"legacy_previews_right_rail")}}:{enabled:!1}),[t]),{expandedBlade:l}=r.React$1.useContext(_.RightRailContext);n.useRecordPreviewsTimerOnMount(this.context.fileViewerId,a.PreviewsTimer.SidebarContentsMount,{bladeId:c.FILE_ACTIVITY_PLUGIN_ID},l===c.FILE_ACTIVITY_PLUGIN_ID);const d=r.reactExports.useCallback((e=>{this.context.logUserAction(e,"right_sidebar")}),[]);return r.React$1.createElement(i.Provider,{store:this.store},r.React$1.createElement(o.FileActivityBlade,{id:c.FILE_ACTIVITY_PLUGIN_ID,fileId:e.file.fileId,user:this.user,intl:this.platform.intl,versionHistory:s,logFilterChange:d}))},Control:()=>r.React$1.createElement(o.CollapsedFileActivityBladeButton,{id:c.FILE_ACTIVITY_PLUGIN_ID,intl:this.platform.intl})},this.sidebarUI={Icon:()=>r.React$1.createElement(i.UIIcon,{src:i.FileHistoryLine}),Title:()=>r.React$1.createElement(r.React$1.Fragment,null,this.platform.intl.formatMessage({id:"g4fiTc",defaultMessage:"File Activity"})),TitleAccessory:()=>{const e=this.onOpenVersionHistory,t=r.reactExports.useMemo((()=>e?{enabled:!0,onVersionHistoryClicked:()=>{e(),this.context.logUserAction(a.UserAction.VersionHistory,"preview_left_sidebar")}}:{enabled:!1}),[e]);return t&&t.enabled?r.React$1.createElement(o.VersionHistoryMenu,{onVersionHistoryClicked:t.onVersionHistoryClicked,iconSize:"standard"}):null},Content:e=>r.React$1.createElement(r.React$1.Suspense,{fallback:null},r.React$1.createElement(i.Provider,{store:this.store},r.React$1.createElement(ve,{fileId:e.file.fileId,user:this.user,logUserAction:this.context.logUserAction})))},this.platform=e,this.store=t,this.user=s,this.context=l,this.onOpenVersionHistory=d}}}));
//# sourceMappingURL=c_file_viewer_file_activity_blade_file_activity_blade_plugin.js-vflVIVV_v.map
