define(["exports","./c_tslib","./e_edison","./c_src_table","./c_lodash-es_lodash","./e_ui_page_files_router","./c_react-table_index","./c_resize-observer-polyfill_dist_ResizeObserver","./c_src_icons_file_icon","./c_combinations_index","./c_core_i18n"],(function(e,t,s,r,a,o,l,n,c,i,u){"use strict";const p=(...e)=>(...t)=>e.forEach((e=>e(t)));function m(...e){const t={};for(const s of e){for(const e in t)/^on[A-Z]/.test(e)&&"function"==typeof t[e]&&"function"==typeof s[e]?t[e]=p(t[e],s[e]):"className"===e&&"string"==typeof t.className&&"string"==typeof s.className?t[e]=`${t.className} ${s.className}`:t[e]=void 0!==s[e]?s[e]:t[e];for(const e in s)void 0===t[e]&&(t[e]=s[e])}return t}const d=l.reactTableExports.useTable,g=l.reactTableExports.ensurePluginOrder,b=l.reactTableExports.useAbsoluteLayout,E=l.reactTableExports.useBlockLayout,f=l.reactTableExports.useColumnOrder,x=l.reactTableExports.useExpanded,y=l.reactTableExports.useFilters,h=l.reactTableExports.useFlexLayout,T=l.reactTableExports.useGlobalFilter,N=l.reactTableExports.useGroupBy,F=l.reactTableExports.usePagination,v=l.reactTableExports.useResizeColumns,w=l.reactTableExports.useRowSelect,_=l.reactTableExports.useRowState,C=l.reactTableExports.useSortBy;b.pluginName="useAbsoluteLayout",E.pluginName="useBlockLayout",f.pluginName="useColumnOrder",x.pluginName="useExpanded",y.pluginName="useFilters",h.pluginName="useFlexLayout",T.pluginName="useGlobalFilter",N.pluginName="useGroupBy",F.pluginName="usePagination",v.pluginName="useResizeColumns",w.pluginName="useRowSelect",_.pluginName="useRowState",C.pluginName="useSortBy";const P=d,O=e=>{var{instance:a,getPropsForRow:o,showHeader:l=!0}=e,n=t.__rest(e,["instance","getPropsForRow","showHeader"]);const{getTableProps:c,getTableBodyProps:i,headerGroups:u,rows:p,prepareRow:d}=a;return s.reactExports.createElement(r.Table,Object.assign({},m(c(),n)),l&&s.reactExports.createElement(r.Table.Header,null,u.map((e=>e.headers.map((e=>s.reactExports.createElement(r.Table.Cell,Object.assign({},e.getHeaderProps()),e.render("Header"))))))),s.reactExports.createElement(r.Table.Body,Object.assign({},i()),p.map((e=>(d(e),s.reactExports.createElement(B,{key:e.id,row:e,getPropsForRow:o}))))))},B=({row:e,getPropsForRow:t})=>{const a=Object.assign(Object.assign({},e.getRowProps()),{isSelected:e.isSelected||!1}),o=(null==t?void 0:t(e.original))||{},l=s.reactExports.useMemo((()=>m(a,o)),[a,o]);return s.reactExports.createElement(r.Table.Row,Object.assign({},l),e.cells.map((e=>s.reactExports.createElement(r.Table.Cell,Object.assign({align:"left"},e.getCellProps()),e.render("Cell")))))};O.displayName="UnmanagedTable";const L=e=>{e.useInstance.push((e=>{g(e.plugins,["useSortBy"],"useSortableHeaders")})),e.getHeaderProps.push(((e,{column:t})=>a.merge(e,t.getSortByToggleProps()))),e.columns.push((e=>e.map((e=>{const t=Object.assign({},e);return t.Header=t=>{const r=t.column.isSortedDesc?o.ArrowDownLine:o.ArrowUpLine;return s.reactExports.createElement(s.reactExports.Fragment,null,"function"==typeof e.Header?s.reactExports.createElement(e.Header,Object.assign({},t)):e.Header,t.column.isSorted&&s.reactExports.createElement(o.UIIcon,{size:"small",src:r}))},t}))))};L.pluginName="useSortableHeaders";const S="react-table--keyboarding-selectable",R=e=>{let t;e.useInstance.push((e=>{const{ref:s,focusGroup:r}=o.useFocusGroup("."+S,!1);t=s,Object.assign(e,{focusNodeAtIndex:r.focusNodeAtIndex,moveFocusForward:r.moveFocusForward,moveFocusBack:r.moveFocusBack,moveFocusToFirst:r.moveFocusToFirst,moveFocusToLast:r.moveFocusToLast})})),e.getTableBodyProps.push((e=>Object.assign(Object.assign({},e),{ref:t}))),e.getRowProps.push((e=>Object.assign(Object.assign({},e),{className:o.cx(e.className,S)})))};R.pluginName="useKeyboarding";const j=({getRowProps:e})=>{e.push(((e,{row:{original:{url:t,performOpenAction:s,ariaLabelledBy:r}}})=>[e,Object.assign({onKeyPress:e=>{"Enter"===e.key&&(e.preventDefault(),e.stopPropagation(),s(e.shiftKey||e.ctrlKey))},onClick:e=>{e.preventDefault(),e.stopPropagation(),s(e.shiftKey||e.ctrlKey,{href:t,middleClick:!1})},onAuxClick:e=>{e.preventDefault(),e.stopPropagation(),s(e.shiftKey||e.ctrlKey,{href:t,middleClick:!0})}},t?{tabIndex:-1,"aria-labelledby":r}:{})]))};j.pluginName="UseLinkBehavior";const H=e=>{const[t,r]=s.reactExports.useState(null),a=s.reactExports.useRef();e.useInstance.push((e=>{g(e.plugins,["useKeyboarding"],"useColumnCollapsing"),a.current=e})),e.getTableBodyProps.push((e=>[e,{ref:t=>{var s;e.ref instanceof Function&&(null===(s=e.ref)||void 0===s||s.call(e,t)),r(t)}}])),s.reactExports.useEffect((()=>{if(t){const e=new n.index((()=>k(a,(null==t?void 0:t.clientWidth)||Number.MIN_VALUE)));return e.observe(t),()=>e.disconnect()}}),[t])};H.pluginName="useColumnCollapsing";const k=(e,t)=>{var s;const r=e.current;if(!r)return;const a=r.totalColumnsMinWidth||0,o=r.visibleColumns,l=r.allColumns;if(a>=t&&o.length>1){for(const e of o.reverse())if(e.minWidth){e.toggleHidden();break}}else if(a<t&&l.length!==o.length){const e=t-a,r=null===(s=l.filter((e=>!e.isVisible&&e.minWidth)))||void 0===s?void 0:s[0];r&&r.minWidth&&r.minWidth<e&&r.toggleHidden()}},I=({file:e,labelID:t,subTitle:r=""})=>{const a=e.url?s.reactExports.createElement(o.Link,{id:t,"data-testid":"files-filename",href:e.url},e.title):s.reactExports.createElement("span",{id:t,"data-testid":"files-filename"},e.title);return s.reactExports.createElement(s.reactExports.Fragment,null,s.reactExports.createElement(i.LabelGroup,{withLeftAccessory:s.reactExports.createElement(c.FileIcon,{file:e}),withText:a,withSubtext:r}))};I.displayName="FileNameCell";const A={id:"filename",Header:()=>s.reactExports.createElement(s.reactExports.Fragment,null,s.reactExports.createElement("div",{style:{width:"48px"}})," ",u.useIntl().formatMessage(K)),Cell:({row:e})=>{return s.reactExports.createElement(I,{file:e.original,labelID:(t=e.index,`files-table-label-${t}`)});var t},accessor:e=>e.title,width:300},K=u.defineMessage({id:"A2npVi",defaultMessage:"Name"});e.FileNameCell=I,e.FileNameColumn=A,e.createManagedTable=(...e)=>{const r=r=>{var{data:a,columns:o}=r,l=t.__rest(r,["data","columns"]);const n=P({columns:o,data:a},...e);return s.reactExports.createElement(O,Object.assign({instance:n},l))};return r.displayName="ManagedTable",r},e.useColumnCollapsing=H,e.useFlexLayout=h,e.useKeyboarding=R,e.useLinkBehavior=j,e.useSortBy=C,e.useSortableHeaders=L}));
//# sourceMappingURL=c_table_columns_file_name_column.js-vflnVI2zs.map
