define(["exports","./c_tslib","./e_ui_page_files_router","./c_flows_constants","./c_flows_conversions_convert","./c_core_i18n","./e_edison"],(function(e,t,o,i,a,s,n){"use strict";const r="unzip",l={actionText:s.intl.formatMessage({id:"u1R/iY",defaultMessage:"Extract all"}),actionIcon:o.ZipLine,selector:a.singleFileWithExtensionSelector(i.SUPPORTED_UNZIP_EXTENSIONS),convert:(e,o,i)=>{const{source:s}=i;return a.convertFileAndShowSnackbar(Object.assign(Object.assign({},i),{file:e[0],user:o,loggingFunctions:a.getConversionLoggingFunctions(r),conversionType:r,folderRuleAction:"unzip",getStrings:(e,t)=>c(e,o,t),conversionFn:(e,o,i)=>t.__awaiter(void 0,void 0,void 0,(function*(){return(yield a.unzip(o.id,a.getFileIdentifier(e,i))).path})),getAdoptionSnackbarProps:t=>a.getAdoptionSnackbarProps({user:o,conversionType:r,folderRuleAction:"unzip",resultPath:t,source:s,nsId:e[0].ns_id}),template:{sequence:[{workflow_action:{".tag":"unzip"}}]},outputExt:""}))}},c=(e,t,i)=>{const r=s.intl.formatMessage({id:"gJnC96",defaultMessage:"Couldn't extract files"}),l=a.getSuccessString(e,((a,r)=>s.intl.formatMessage({id:"oxpxVW",defaultMessage:"Files extracted to <a>{folderName}</a> in {parentFolderName} folder"},{folderName:a,parentFolderName:r,a:a=>(null==i?void 0:i.clickableFileName)?n.React$1.createElement(o.Link,{inverse:!0,href:o.get_browse_root(t)+n.URI.encode_parts(e),onClick:()=>{var e;null===(e=null==i?void 0:i.loggingFunctions)||void 0===e||e.logConvertOpen(null==i?void 0:i.source)}},a):a})),(e=>s.intl.formatMessage({id:"TRohxO",defaultMessage:"Files extracted to {folderName} in your main Dropbox folder"},{folderName:e})));return{saving:s.intl.formatMessage({id:"Jk+n/I",defaultMessage:"Extracting files..."}),success:l,successAutomatedAdoption:l,failGeneric:r,failRetryable:r,failOverQuota:s.intl.formatMessage({id:"atcchQ",defaultMessage:"Couldn't extract because your Dropbox account is out of space"}),failTooLarge:s.intl.formatMessage({id:"Hgd1fQ",defaultMessage:"Couldn't extract files. Can only handle files up to {fileSize} MB"},{fileSize:512}),failCorrupt:s.intl.formatMessage({id:"00qMd1",defaultMessage:"Couldn't extract because the file is damaged"}),failPassword:s.intl.formatMessage({id:"xbgxEF",defaultMessage:"Couldn't extract because the file is password protected"}),failPasswordLink:s.intl.formatMessage({id:"UvS9P9",defaultMessage:"Couldn't extract because the file was shared using a password-protected link"})}};e.UNZIP_MAX_FILESIZE_MB=512,e.UnzipAction=l}));
//# sourceMappingURL=c_conversions_actions_unzip.js-vfl0I1C3d.map
